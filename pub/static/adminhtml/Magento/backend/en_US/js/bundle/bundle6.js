require.config({"config": {
        "jsbuild":{"Magento_PageBuilder/js/resource/csso/csso.min.js":"!function(e,t){\"object\"==typeof exports&&\"undefined\"!=typeof module?t(exports):\"function\"==typeof define&&define.amd?define([\"exports\"],t):t((e=e||self).csso={})}(this,(function(e){\"use strict\";function t(e){return{prev:null,next:null,data:e}}function n(e,t,n){var r;return null!==a?(r=a,a=a.cursor,r.prev=t,r.next=n,r.cursor=e.cursor):r={prev:t,next:n,cursor:e.cursor},e.cursor=r,r}function r(e){var t=e.cursor;e.cursor=t.cursor,t.prev=null,t.next=null,t.cursor=a,a=t}var a=null,i=function(){this.cursor=null,this.head=null,this.tail=null};i.createItem=t,i.prototype.createItem=t,i.prototype.updateCursors=function(e,t,n,r){for(var a=this.cursor;null!==a;)a.prev===e&&(a.prev=t),a.next===n&&(a.next=r),a=a.cursor},i.prototype.getSize=function(){for(var e=0,t=this.head;t;)e++,t=t.next;return e},i.prototype.fromArray=function(e){var n=null;this.head=null;for(var r=0;r<e.length;r++){var a=t(e[r]);null!==n?n.next=a:this.head=a,a.prev=n,n=a}return this.tail=n,this},i.prototype.toArray=function(){for(var e=this.head,t=[];e;)t.push(e.data),e=e.next;return t},i.prototype.toJSON=i.prototype.toArray,i.prototype.isEmpty=function(){return null===this.head},i.prototype.first=function(){return this.head&&this.head.data},i.prototype.last=function(){return this.tail&&this.tail.data},i.prototype.each=function(e,t){var a;void 0===t&&(t=this);for(var i=n(this,null,this.head);null!==i.next;)a=i.next,i.next=a.next,e.call(t,a.data,a,this);r(this)},i.prototype.forEach=i.prototype.each,i.prototype.eachRight=function(e,t){var a;void 0===t&&(t=this);for(var i=n(this,this.tail,null);null!==i.prev;)a=i.prev,i.prev=a.prev,e.call(t,a.data,a,this);r(this)},i.prototype.forEachRight=i.prototype.eachRight,i.prototype.nextUntil=function(e,t,a){if(null!==e){var i;void 0===a&&(a=this);for(var o=n(this,null,e);null!==o.next&&(i=o.next,o.next=i.next,!t.call(a,i.data,i,this)););r(this)}},i.prototype.prevUntil=function(e,t,a){if(null!==e){var i;void 0===a&&(a=this);for(var o=n(this,e,null);null!==o.prev&&(i=o.prev,o.prev=i.prev,!t.call(a,i.data,i,this)););r(this)}},i.prototype.some=function(e,t){var n=this.head;for(void 0===t&&(t=this);null!==n;){if(e.call(t,n.data,n,this))return!0;n=n.next}return!1},i.prototype.map=function(e,t){var n=new i,r=this.head;for(void 0===t&&(t=this);null!==r;)n.appendData(e.call(t,r.data,r,this)),r=r.next;return n},i.prototype.filter=function(e,t){var n=new i,r=this.head;for(void 0===t&&(t=this);null!==r;)e.call(t,r.data,r,this)&&n.appendData(r.data),r=r.next;return n},i.prototype.clear=function(){this.head=null,this.tail=null},i.prototype.copy=function(){for(var e=new i,n=this.head;null!==n;)e.insert(t(n.data)),n=n.next;return e},i.prototype.prepend=function(e){return this.updateCursors(null,e,this.head,e),null!==this.head?(this.head.prev=e,e.next=this.head):this.tail=e,this.head=e,this},i.prototype.prependData=function(e){return this.prepend(t(e))},i.prototype.append=function(e){return this.insert(e)},i.prototype.appendData=function(e){return this.insert(t(e))},i.prototype.insert=function(e,t){if(null!=t)if(this.updateCursors(t.prev,e,t,e),null===t.prev){if(this.head!==t)throw new Error(\"before doesn't belong to list\");this.head=e,t.prev=e,e.next=t,this.updateCursors(null,e)}else t.prev.next=e,e.prev=t.prev,t.prev=e,e.next=t;else this.updateCursors(this.tail,e,null,e),null!==this.tail?(this.tail.next=e,e.prev=this.tail):this.head=e,this.tail=e;return this},i.prototype.insertData=function(e,n){return this.insert(t(e),n)},i.prototype.remove=function(e){if(this.updateCursors(e,e.prev,e,e.next),null!==e.prev)e.prev.next=e.next;else{if(this.head!==e)throw new Error(\"item doesn't belong to list\");this.head=e.next}if(null!==e.next)e.next.prev=e.prev;else{if(this.tail!==e)throw new Error(\"item doesn't belong to list\");this.tail=e.prev}return e.prev=null,e.next=null,e},i.prototype.push=function(e){this.insert(t(e))},i.prototype.pop=function(){if(null!==this.tail)return this.remove(this.tail)},i.prototype.unshift=function(e){this.prepend(t(e))},i.prototype.shift=function(){if(null!==this.head)return this.remove(this.head)},i.prototype.prependList=function(e){return this.insertList(e,this.head)},i.prototype.appendList=function(e){return this.insertList(e)},i.prototype.insertList=function(e,t){return null===e.head||(null!=t?(this.updateCursors(t.prev,e.tail,t,e.head),null!==t.prev?(t.prev.next=e.head,e.head.prev=t.prev):this.head=e.head,t.prev=e.tail,e.tail.next=t):(this.updateCursors(this.tail,e.tail,null,e.head),null!==this.tail?(this.tail.next=e.head,e.head.prev=this.tail):this.head=e.head,this.tail=e.tail),e.head=null,e.tail=null),this},i.prototype.replace=function(e,t){\"head\"in t?this.insertList(t,e):this.insert(t,e),this.remove(e)};var o=i,s=function(e,t){var n=Object.create(SyntaxError.prototype),r=new Error;return n.name=e,n.message=t,Object.defineProperty(n,\"stack\",{get:function(){return(r.stack||\"\").replace(/^(.+\\n){1,3}/,e+\": \"+t+\"\\n\")}}),n};function l(e,t){function n(e,t){return r.slice(e,t).map((function(t,n){for(var r=String(e+n+1);r.length<l;)r=\" \"+r;return r+\" |\"+t})).join(\"\\n\")}var r=e.source.split(/\\r\\n?|\\n|\\f/),a=e.line,i=e.column,o=Math.max(1,a-t)-1,s=Math.min(a+t,r.length+1),l=Math.max(4,String(s).length)+1,c=0;(i+=(\"    \".length-1)*(r[a-1].substr(0,i-1).match(/\\t/g)||[]).length)>100&&(c=i-60+3,i=58);for(var u=o;u<=s;u++)u>=0&&u<r.length&&(r[u]=r[u].replace(/\\t/g,\"    \"),r[u]=(c>0&&r[u].length>c?\"\u2026\":\"\")+r[u].substr(c,98)+(r[u].length>c+100-1?\"\u2026\":\"\"));return[n(o,a),new Array(i+l+2).join(\"-\")+\"^\",n(a,s)].filter(Boolean).join(\"\\n\")}var c=function(e,t,n,r,a){var i=s(\"SyntaxError\",e);return i.source=t,i.offset=n,i.line=r,i.column=a,i.sourceFragment=function(e){return l(i,isNaN(e)?0:e)},Object.defineProperty(i,\"formattedMessage\",{get:function(){return\"Parse error: \"+i.message+\"\\n\"+l(i,2)}}),i.parseError={offset:n,line:r,column:a},i},u={EOF:0,Ident:1,Function:2,AtKeyword:3,Hash:4,String:5,BadString:6,Url:7,BadUrl:8,Delim:9,Number:10,Percentage:11,Dimension:12,WhiteSpace:13,CDO:14,CDC:15,Colon:16,Semicolon:17,Comma:18,LeftSquareBracket:19,RightSquareBracket:20,LeftParenthesis:21,RightParenthesis:22,LeftCurlyBracket:23,RightCurlyBracket:24,Comment:25},h=Object.keys(u).reduce((function(e,t){return e[u[t]]=t,e}),{}),d={TYPE:u,NAME:h};function p(e){return e>=48&&e<=57}function f(e){return e>=65&&e<=90}function m(e){return e>=97&&e<=122}function g(e){return f(e)||m(e)}function b(e){return e>=128}function y(e){return g(e)||b(e)||95===e}function k(e){return e>=0&&e<=8||11===e||e>=14&&e<=31||127===e}function v(e){return 10===e||13===e||12===e}function w(e){return v(e)||32===e||9===e}function x(e,t){return 92===e&&(!v(t)&&0!==t)}var S=new Array(128);A.Eof=128,A.WhiteSpace=130,A.Digit=131,A.NameStart=132,A.NonPrintable=133;for(var C=0;C<S.length;C++)switch(!0){case w(C):S[C]=A.WhiteSpace;break;case p(C):S[C]=A.Digit;break;case y(C):S[C]=A.NameStart;break;case k(C):S[C]=A.NonPrintable;break;default:S[C]=C||A.Eof}function A(e){return e<128?S[e]:A.NameStart}var z={isDigit:p,isHexDigit:function(e){return p(e)||e>=65&&e<=70||e>=97&&e<=102},isUppercaseLetter:f,isLowercaseLetter:m,isLetter:g,isNonAscii:b,isNameStart:y,isName:function(e){return y(e)||p(e)||45===e},isNonPrintable:k,isNewline:v,isWhiteSpace:w,isValidEscape:x,isIdentifierStart:function(e,t,n){return 45===e?y(t)||45===t||x(t,n):!!y(e)||92===e&&x(e,t)},isNumberStart:function(e,t,n){return 43===e||45===e?p(t)?2:46===t&&p(n)?3:0:46===e?p(t)?2:0:p(e)?1:0},isBOM:function(e){return 65279===e||65534===e?1:0},charCodeCategory:A},P=z.isDigit,L=z.isHexDigit,T=z.isUppercaseLetter,E=z.isName,O=z.isWhiteSpace,D=z.isValidEscape;function R(e,t){return t<e.length?e.charCodeAt(t):0}function I(e,t,n){return 13===n&&10===R(e,t+1)?2:1}function M(e,t,n){var r=e.charCodeAt(t);return T(r)&&(r|=32),r===n}function N(e,t){for(;t<e.length&&P(e.charCodeAt(t));t++);return t}function B(e,t){if(L(R(e,(t+=2)-1))){for(var n=Math.min(e.length,t+5);t<n&&L(R(e,t));t++);var r=R(e,t);O(r)&&(t+=I(e,t,r))}return t}var j={consumeEscaped:B,consumeName:function(e,t){for(;t<e.length;t++){var n=e.charCodeAt(t);if(!E(n)){if(!D(n,R(e,t+1)))break;t=B(e,t)-1}}return t},consumeNumber:function(e,t){var n=e.charCodeAt(t);if(43!==n&&45!==n||(n=e.charCodeAt(t+=1)),P(n)&&(t=N(e,t+1),n=e.charCodeAt(t)),46===n&&P(e.charCodeAt(t+1))&&(n=e.charCodeAt(t+=2),t=N(e,t)),M(e,t,101)){var r=0;45!==(n=e.charCodeAt(t+1))&&43!==n||(r=1,n=e.charCodeAt(t+2)),P(n)&&(t=N(e,t+1+r+1))}return t},consumeBadUrlRemnants:function(e,t){for(;t<e.length;t++){var n=e.charCodeAt(t);if(41===n){t++;break}D(n,R(e,t+1))&&(t=B(e,t))}return t},cmpChar:M,cmpStr:function(e,t,n,r){if(n-t!==r.length)return!1;if(t<0||n>e.length)return!1;for(var a=t;a<n;a++){var i=e.charCodeAt(a),o=r.charCodeAt(a-t);if(T(i)&&(i|=32),i!==o)return!1}return!0},getNewlineLength:I,findWhiteSpaceStart:function(e,t){for(;t>=0&&O(e.charCodeAt(t));t--);return t+1},findWhiteSpaceEnd:function(e,t){for(;t<e.length&&O(e.charCodeAt(t));t++);return t}},_=d.TYPE,q=d.NAME,W=j.cmpStr,F=_.EOF,U=_.WhiteSpace,Y=_.Comment,H=function(){this.offsetAndType=null,this.balance=null,this.reset()};H.prototype={reset:function(){this.eof=!1,this.tokenIndex=-1,this.tokenType=0,this.tokenStart=this.firstCharOffset,this.tokenEnd=this.firstCharOffset},lookupType:function(e){return(e+=this.tokenIndex)<this.tokenCount?this.offsetAndType[e]>>24:F},lookupOffset:function(e){return(e+=this.tokenIndex)<this.tokenCount?16777215&this.offsetAndType[e-1]:this.source.length},lookupValue:function(e,t){return(e+=this.tokenIndex)<this.tokenCount&&W(this.source,16777215&this.offsetAndType[e-1],16777215&this.offsetAndType[e],t)},getTokenStart:function(e){return e===this.tokenIndex?this.tokenStart:e>0?e<this.tokenCount?16777215&this.offsetAndType[e-1]:16777215&this.offsetAndType[this.tokenCount]:this.firstCharOffset},getRawLength:function(e,t){var n,r=e,a=16777215&this.offsetAndType[Math.max(r-1,0)];e:for(;r<this.tokenCount&&!((n=this.balance[r])<e);r++)switch(t(this.offsetAndType[r]>>24,this.source,a)){case 1:break e;case 2:r++;break e;default:a=16777215&this.offsetAndType[r],this.balance[n]===r&&(r=n)}return r-this.tokenIndex},isBalanceEdge:function(e){return this.balance[this.tokenIndex]<e},isDelim:function(e,t){return t?this.lookupType(t)===_.Delim&&this.source.charCodeAt(this.lookupOffset(t))===e:this.tokenType===_.Delim&&this.source.charCodeAt(this.tokenStart)===e},getTokenValue:function(){return this.source.substring(this.tokenStart,this.tokenEnd)},getTokenLength:function(){return this.tokenEnd-this.tokenStart},substrToCursor:function(e){return this.source.substring(e,this.tokenStart)},skipWS:function(){for(var e=this.tokenIndex,t=0;e<this.tokenCount&&this.offsetAndType[e]>>24===U;e++,t++);t>0&&this.skip(t)},skipSC:function(){for(;this.tokenType===U||this.tokenType===Y;)this.next()},skip:function(e){var t=this.tokenIndex+e;t<this.tokenCount?(this.tokenIndex=t,this.tokenStart=16777215&this.offsetAndType[t-1],t=this.offsetAndType[t],this.tokenType=t>>24,this.tokenEnd=16777215&t):(this.tokenIndex=this.tokenCount,this.next())},next:function(){var e=this.tokenIndex+1;e<this.tokenCount?(this.tokenIndex=e,this.tokenStart=this.tokenEnd,e=this.offsetAndType[e],this.tokenType=e>>24,this.tokenEnd=16777215&e):(this.tokenIndex=this.tokenCount,this.eof=!0,this.tokenType=F,this.tokenStart=this.tokenEnd=this.source.length)},dump:function(){var e=this.firstCharOffset;return Array.prototype.slice.call(this.offsetAndType,0,this.tokenCount).map((function(t,n){var r=e,a=16777215&t;return e=a,{idx:n,type:q[t>>24],chunk:this.source.substring(r,a),balance:this.balance[n]}}),this)}};var V=H;function K(e){return e}function G(e,t,n,r){var a,i;switch(e.type){case\"Group\":a=function(e,t,n,r){var a=\" \"===e.combinator||r?e.combinator:\" \"+e.combinator+\" \",i=e.terms.map((function(e){return G(e,t,n,r)})).join(a);return(e.explicit||n)&&(i=(r||\",\"===i[0]?\"[\":\"[ \")+i+(r?\"]\":\" ]\")),i}(e,t,n,r)+(e.disallowEmpty?\"!\":\"\");break;case\"Multiplier\":return G(e.term,t,n,r)+t(0===(i=e).min&&0===i.max?\"*\":0===i.min&&1===i.max?\"?\":1===i.min&&0===i.max?i.comma?\"#\":\"+\":1===i.min&&1===i.max?\"\":(i.comma?\"#\":\"\")+(i.min===i.max?\"{\"+i.min+\"}\":\"{\"+i.min+\",\"+(0!==i.max?i.max:\"\")+\"}\"),e);case\"Type\":a=\"<\"+e.name+(e.opts?t(function(e){switch(e.type){case\"Range\":return\" [\"+(null===e.min?\"-\u221e\":e.min)+\",\"+(null===e.max?\"\u221e\":e.max)+\"]\";default:throw new Error(\"Unknown node type `\"+e.type+\"`\")}}(e.opts),e.opts):\"\")+\">\";break;case\"Property\":a=\"<'\"+e.name+\"'>\";break;case\"Keyword\":a=e.name;break;case\"AtKeyword\":a=\"@\"+e.name;break;case\"Function\":a=e.name+\"(\";break;case\"String\":case\"Token\":a=e.value;break;case\"Comma\":a=\",\";break;default:throw new Error(\"Unknown node type `\"+e.type+\"`\")}return t(a,e)}var $=function(e,t){var n=K,r=!1,a=!1;return\"function\"==typeof t?n=t:t&&(r=Boolean(t.forceBraces),a=Boolean(t.compact),\"function\"==typeof t.decorate&&(n=t.decorate)),G(e,n,r,a)};function Q(e,t){var n=e&&e.loc&&e.loc[t];return n?{offset:n.offset,line:n.line,column:n.column}:null}var X=function(e,t){var n=s(\"SyntaxReferenceError\",e+(t?\" `\"+t+\"`\":\"\"));return n.reference=t,n},Z=function(e,t,n,r){var a=s(\"SyntaxMatchError\",e),i=function(e){for(var t=e.tokens,n=e.longestMatch,r=n<t.length?t[n].node:null,a=-1,i=0,o=\"\",s=0;s<t.length;s++)s===n&&(a=o.length),null!==r&&t[s].node===r&&(s<=n?i++:i=0),o+=t[s].value;return{node:r,css:o,mismatchOffset:-1===a?o.length:a,last:null===r||i>1}}(r),o=i.mismatchOffset||0,l=i.node||n,c=Q(l,\"end\"),u=i.last?c:Q(l,\"start\"),h=i.css;return a.rawMessage=e,a.syntax=t?$(t):\"<generic>\",a.css=h,a.mismatchOffset=o,a.loc={source:l&&l.loc&&l.loc.source||\"<unknown>\",start:u,end:c},a.line=u?u.line:void 0,a.column=u?u.column:void 0,a.offset=u?u.offset:void 0,a.message=e+\"\\n  syntax: \"+a.syntax+\"\\n   value: \"+(a.css||\"<empty string>\")+\"\\n  --------\"+new Array(a.mismatchOffset+1).join(\"-\")+\"^\",a},J=Object.prototype.hasOwnProperty,ee=Object.create(null),te=Object.create(null);function ne(e,t){return t=t||0,e.length-t>=2&&45===e.charCodeAt(t)&&45===e.charCodeAt(t+1)}function re(e,t){if(t=t||0,e.length-t>=3&&45===e.charCodeAt(t)&&45!==e.charCodeAt(t+1)){var n=e.indexOf(\"-\",t+2);if(-1!==n)return e.substring(t,n+1)}return\"\"}var ae={keyword:function(e){if(J.call(ee,e))return ee[e];var t=e.toLowerCase();if(J.call(ee,t))return ee[e]=ee[t];var n=ne(t,0),r=n?\"\":re(t,0);return ee[e]=Object.freeze({basename:t.substr(r.length),name:t,vendor:r,prefix:r,custom:n})},property:function(e){if(J.call(te,e))return te[e];var t=e,n=e[0];\"/\"===n?n=\"/\"===e[1]?\"//\":\"/\":\"_\"!==n&&\"*\"!==n&&\"$\"!==n&&\"#\"!==n&&\"+\"!==n&&\"&\"!==n&&(n=\"\");var r=ne(t,n.length);if(!r&&(t=t.toLowerCase(),J.call(te,t)))return te[e]=te[t];var a=r?\"\":re(t,n.length),i=t.substr(0,n.length+a.length);return te[e]=Object.freeze({basename:t.substr(i.length),name:t.substr(n.length),hack:n,vendor:a,prefix:i,custom:r})},isCustomProperty:ne,vendorPrefix:re},ie=\"undefined\"!=typeof Uint32Array?Uint32Array:Array,oe=function(e,t){return null===e||e.length<t?new ie(Math.max(t+1024,16384)):e},se=d.TYPE,le=z.isNewline,ce=z.isName,ue=z.isValidEscape,he=z.isNumberStart,de=z.isIdentifierStart,pe=z.charCodeCategory,fe=z.isBOM,me=j.cmpStr,ge=j.getNewlineLength,be=j.findWhiteSpaceEnd,ye=j.consumeEscaped,ke=j.consumeName,ve=j.consumeNumber,we=j.consumeBadUrlRemnants;function xe(e,t){function n(t){return t<o?e.charCodeAt(t):0}function r(){return h=ve(e,h),de(n(h),n(h+1),n(h+2))?(g=se.Dimension,void(h=ke(e,h))):37===n(h)?(g=se.Percentage,void h++):void(g=se.Number)}function a(){const t=h;return h=ke(e,h),me(e,t,h,\"url\")&&40===n(h)?34===n(h=be(e,h+1))||39===n(h)?(g=se.Function,void(h=t+4)):void function(){for(g=se.Url,h=be(e,h);h<e.length;h++){var t=e.charCodeAt(h);switch(pe(t)){case 41:return void h++;case pe.Eof:return;case pe.WhiteSpace:return 41===n(h=be(e,h))||h>=e.length?void(h<e.length&&h++):(h=we(e,h),void(g=se.BadUrl));case 34:case 39:case 40:case pe.NonPrintable:return h=we(e,h),void(g=se.BadUrl);case 92:if(ue(t,n(h+1))){h=ye(e,h)-1;break}return h=we(e,h),void(g=se.BadUrl)}}}():40===n(h)?(g=se.Function,void h++):void(g=se.Ident)}function i(t){for(t||(t=n(h++)),g=se.String;h<e.length;h++){var r=e.charCodeAt(h);switch(pe(r)){case t:return void h++;case pe.Eof:return;case pe.WhiteSpace:if(le(r))return h+=ge(e,h,r),void(g=se.BadString);break;case 92:if(h===e.length-1)break;var a=n(h+1);le(a)?h+=ge(e,h+1,a):ue(r,a)&&(h=ye(e,h)-1)}}}t||(t=new V);for(var o=(e=String(e||\"\")).length,s=oe(t.offsetAndType,o+1),l=oe(t.balance,o+1),c=0,u=fe(n(0)),h=u,d=0,p=0,f=0;h<o;){var m=e.charCodeAt(h),g=0;switch(l[c]=o,pe(m)){case pe.WhiteSpace:g=se.WhiteSpace,h=be(e,h+1);break;case 34:i();break;case 35:ce(n(h+1))||ue(n(h+1),n(h+2))?(g=se.Hash,h=ke(e,h+1)):(g=se.Delim,h++);break;case 39:i();break;case 40:g=se.LeftParenthesis,h++;break;case 41:g=se.RightParenthesis,h++;break;case 43:he(m,n(h+1),n(h+2))?r():(g=se.Delim,h++);break;case 44:g=se.Comma,h++;break;case 45:he(m,n(h+1),n(h+2))?r():45===n(h+1)&&62===n(h+2)?(g=se.CDC,h+=3):de(m,n(h+1),n(h+2))?a():(g=se.Delim,h++);break;case 46:he(m,n(h+1),n(h+2))?r():(g=se.Delim,h++);break;case 47:42===n(h+1)?(g=se.Comment,1===(h=e.indexOf(\"*/\",h+2)+2)&&(h=e.length)):(g=se.Delim,h++);break;case 58:g=se.Colon,h++;break;case 59:g=se.Semicolon,h++;break;case 60:33===n(h+1)&&45===n(h+2)&&45===n(h+3)?(g=se.CDO,h+=4):(g=se.Delim,h++);break;case 64:de(n(h+1),n(h+2),n(h+3))?(g=se.AtKeyword,h=ke(e,h+1)):(g=se.Delim,h++);break;case 91:g=se.LeftSquareBracket,h++;break;case 92:ue(m,n(h+1))?a():(g=se.Delim,h++);break;case 93:g=se.RightSquareBracket,h++;break;case 123:g=se.LeftCurlyBracket,h++;break;case 125:g=se.RightCurlyBracket,h++;break;case pe.Digit:r();break;case pe.NameStart:a();break;case pe.Eof:break;default:g=se.Delim,h++}switch(g){case d:for(d=(p=l[f=16777215&p])>>24,l[c]=f,l[f++]=c;f<c;f++)l[f]===o&&(l[f]=c);break;case se.LeftParenthesis:case se.Function:l[c]=p,p=(d=se.RightParenthesis)<<24|c;break;case se.LeftSquareBracket:l[c]=p,p=(d=se.RightSquareBracket)<<24|c;break;case se.LeftCurlyBracket:l[c]=p,p=(d=se.RightCurlyBracket)<<24|c}s[c++]=g<<24|h}for(s[c]=se.EOF<<24|h,l[c]=o,l[o]=o;0!==p;)p=l[f=16777215&p],l[f]=o;return t.source=e,t.firstCharOffset=u,t.offsetAndType=s,t.tokenCount=c,t.balance=l,t.reset(),t.next(),t}Object.keys(d).forEach((function(e){xe[e]=d[e]})),Object.keys(z).forEach((function(e){xe[e]=z[e]})),Object.keys(j).forEach((function(e){xe[e]=j[e]}));var Se=xe,Ce=Se.isDigit,Ae=Se.cmpChar,ze=Se.TYPE,Pe=ze.Delim,Le=ze.WhiteSpace,Te=ze.Comment,Ee=ze.Ident,Oe=ze.Number,De=ze.Dimension;function Re(e,t){return null!==e&&e.type===Pe&&e.value.charCodeAt(0)===t}function Ie(e,t,n){for(;null!==e&&(e.type===Le||e.type===Te);)e=n(++t);return t}function Me(e,t,n,r){if(!e)return 0;var a=e.value.charCodeAt(t);if(43===a||45===a){if(n)return 0;t++}for(;t<e.value.length;t++)if(!Ce(e.value.charCodeAt(t)))return 0;return r+1}function Ne(e,t,n){var r=!1,a=Ie(e,t,n);if(null===(e=n(a)))return t;if(e.type!==Oe){if(!Re(e,43)&&!Re(e,45))return t;if(r=!0,a=Ie(n(++a),a,n),null===(e=n(a))&&e.type!==Oe)return 0}if(!r){var i=e.value.charCodeAt(0);if(43!==i&&45!==i)return 0}return Me(e,r?0:1,r,a)}var Be=Se.isHexDigit,je=Se.cmpChar,_e=Se.TYPE,qe=_e.Ident,We=_e.Delim,Fe=_e.Number,Ue=_e.Dimension;function Ye(e,t){return null!==e&&e.type===We&&e.value.charCodeAt(0)===t}function He(e,t){return e.value.charCodeAt(0)===t}function Ve(e,t,n){for(var r=t,a=0;r<e.value.length;r++){var i=e.value.charCodeAt(r);if(45===i&&n&&0!==a)return Ve(e,t+a+1,!1)>0?6:0;if(!Be(i))return 0;if(++a>6)return 0}return a}function Ke(e,t,n){if(!e)return 0;for(;Ye(n(t),63);){if(++e>6)return 0;t++}return t}var Ge=Se.isIdentifierStart,$e=Se.isHexDigit,Qe=Se.isDigit,Xe=Se.cmpStr,Ze=Se.consumeNumber,Je=Se.TYPE,et=[\"unset\",\"initial\",\"inherit\"],tt=[\"calc(\",\"-moz-calc(\",\"-webkit-calc(\"];function nt(e,t){return t<e.length?e.charCodeAt(t):0}function rt(e,t){return Xe(e,0,e.length,t)}function at(e,t){for(var n=0;n<t.length;n++)if(rt(e,t[n]))return!0;return!1}function it(e,t){return t===e.length-2&&(92===e.charCodeAt(t)&&Qe(e.charCodeAt(t+1)))}function ot(e,t,n){if(e&&\"Range\"===e.type){var r=Number(void 0!==n&&n!==t.length?t.substr(0,n):t);if(isNaN(r))return!0;if(null!==e.min&&r<e.min)return!0;if(null!==e.max&&r>e.max)return!0}return!1}function st(e,t){var n=e.index,r=0;do{if(r++,e.balance<=n)break}while(e=t(r));return r}function lt(e){return function(t,n,r){return null===t?0:t.type===Je.Function&&at(t.value,tt)?st(t,n):e(t,n,r)}}function ct(e){return function(t){return null===t||t.type!==e?0:1}}function ut(e){return function(t,n,r){if(null===t||t.type!==Je.Dimension)return 0;var a=Ze(t.value,0);if(null!==e){var i=t.value.indexOf(\"\\\\\",a),o=-1!==i&&it(t.value,i)?t.value.substring(a,i):t.value.substr(a);if(!1===e.hasOwnProperty(o.toLowerCase()))return 0}return ot(r,t.value,a)?0:1}}function ht(e){return\"function\"!=typeof e&&(e=function(){return 0}),function(t,n,r){return null!==t&&t.type===Je.Number&&0===Number(t.value)?1:e(t,n,r)}}var dt,pt={\"ident-token\":ct(Je.Ident),\"function-token\":ct(Je.Function),\"at-keyword-token\":ct(Je.AtKeyword),\"hash-token\":ct(Je.Hash),\"string-token\":ct(Je.String),\"bad-string-token\":ct(Je.BadString),\"url-token\":ct(Je.Url),\"bad-url-token\":ct(Je.BadUrl),\"delim-token\":ct(Je.Delim),\"number-token\":ct(Je.Number),\"percentage-token\":ct(Je.Percentage),\"dimension-token\":ct(Je.Dimension),\"whitespace-token\":ct(Je.WhiteSpace),\"CDO-token\":ct(Je.CDO),\"CDC-token\":ct(Je.CDC),\"colon-token\":ct(Je.Colon),\"semicolon-token\":ct(Je.Semicolon),\"comma-token\":ct(Je.Comma),\"[-token\":ct(Je.LeftSquareBracket),\"]-token\":ct(Je.RightSquareBracket),\"(-token\":ct(Je.LeftParenthesis),\")-token\":ct(Je.RightParenthesis),\"{-token\":ct(Je.LeftCurlyBracket),\"}-token\":ct(Je.RightCurlyBracket),string:ct(Je.String),ident:ct(Je.Ident),\"custom-ident\":function(e){if(null===e||e.type!==Je.Ident)return 0;var t=e.value.toLowerCase();return at(t,et)||rt(t,\"default\")?0:1},\"custom-property-name\":function(e){return null===e||e.type!==Je.Ident||45!==nt(e.value,0)||45!==nt(e.value,1)?0:1},\"hex-color\":function(e){if(null===e||e.type!==Je.Hash)return 0;var t=e.value.length;if(4!==t&&5!==t&&7!==t&&9!==t)return 0;for(var n=1;n<t;n++)if(!$e(e.value.charCodeAt(n)))return 0;return 1},\"id-selector\":function(e){return null===e||e.type!==Je.Hash?0:Ge(nt(e.value,1),nt(e.value,2),nt(e.value,3))?1:0},\"an-plus-b\":function(e,t){var n=0;if(!e)return 0;if(e.type===Oe)return Me(e,0,!1,n);if(e.type===Ee&&45===e.value.charCodeAt(0)){if(!Ae(e.value,1,110))return 0;switch(e.value.length){case 2:return Ne(t(++n),n,t);case 3:return 45!==e.value.charCodeAt(2)?0:(n=Ie(t(++n),n,t),Me(e=t(n),0,!0,n));default:return 45!==e.value.charCodeAt(2)?0:Me(e,3,!0,n)}}else if(e.type===Ee||Re(e,43)&&t(n+1).type===Ee){if(e.type!==Ee&&(e=t(++n)),null===e||!Ae(e.value,0,110))return 0;switch(e.value.length){case 1:return Ne(t(++n),n,t);case 2:return 45!==e.value.charCodeAt(1)?0:(n=Ie(t(++n),n,t),Me(e=t(n),0,!0,n));default:return 45!==e.value.charCodeAt(1)?0:Me(e,2,!0,n)}}else if(e.type===De){for(var r=e.value.charCodeAt(0),a=43===r||45===r?1:0,i=a;i<e.value.length&&Ce(e.value.charCodeAt(i));i++);return i===a?0:Ae(e.value,i,110)?i+1===e.value.length?Ne(t(++n),n,t):45!==e.value.charCodeAt(i+1)?0:i+2===e.value.length?(n=Ie(t(++n),n,t),Me(e=t(n),0,!0,n)):Me(e,i+2,!0,n):0}return 0},urange:function(e,t){var n=0;if(null===e||e.type!==qe||!je(e.value,0,117))return 0;if(null===(e=t(++n)))return 0;if(Ye(e,43))return null===(e=t(++n))?0:e.type===qe?Ke(Ve(e,0,!0),++n,t):Ye(e,63)?Ke(1,++n,t):0;if(e.type===Fe){if(!He(e,43))return 0;var r=Ve(e,1,!0);return 0===r?0:null===(e=t(++n))?n:e.type===Ue||e.type===Fe?He(e,45)&&Ve(e,1,!1)?n+1:0:Ke(r,n,t)}return e.type===Ue&&He(e,43)?Ke(Ve(e,1,!0),++n,t):0},\"declaration-value\":function(e,t){if(!e)return 0;var n=0,r=0,a=e.index;e:do{switch(e.type){case Je.BadString:case Je.BadUrl:break e;case Je.RightCurlyBracket:case Je.RightParenthesis:case Je.RightSquareBracket:if(e.balance>e.index||e.balance<a)break e;r--;break;case Je.Semicolon:if(0===r)break e;break;case Je.Delim:if(\"!\"===e.value&&0===r)break e;break;case Je.Function:case Je.LeftParenthesis:case Je.LeftSquareBracket:case Je.LeftCurlyBracket:r++}if(n++,e.balance<=a)break}while(e=t(n));return n},\"any-value\":function(e,t){if(!e)return 0;var n=e.index,r=0;e:do{switch(e.type){case Je.BadString:case Je.BadUrl:break e;case Je.RightCurlyBracket:case Je.RightParenthesis:case Je.RightSquareBracket:if(e.balance>e.index||e.balance<n)break e}if(r++,e.balance<=n)break}while(e=t(r));return r},dimension:lt(ut(null)),angle:lt(ut({deg:!0,grad:!0,rad:!0,turn:!0})),decibel:lt(ut({db:!0})),frequency:lt(ut({hz:!0,khz:!0})),flex:lt(ut({fr:!0})),length:lt(ht(ut({px:!0,mm:!0,cm:!0,in:!0,pt:!0,pc:!0,q:!0,em:!0,ex:!0,ch:!0,rem:!0,vh:!0,vw:!0,vmin:!0,vmax:!0,vm:!0}))),resolution:lt(ut({dpi:!0,dpcm:!0,dppx:!0,x:!0})),semitones:lt(ut({st:!0})),time:lt(ut({s:!0,ms:!0})),percentage:lt((function(e,t,n){return null===e||e.type!==Je.Percentage||ot(n,e.value,e.value.length-1)?0:1})),zero:ht(),number:lt((function(e,t,n){if(null===e)return 0;var r=Ze(e.value,0);return r===e.value.length||it(e.value,r)?ot(n,e.value,r)?0:1:0})),integer:lt((function(e,t,n){if(null===e||e.type!==Je.Number)return 0;for(var r=43===e.value.charCodeAt(0)||45===e.value.charCodeAt(0)?1:0;r<e.value.length;r++)if(!Qe(e.value.charCodeAt(r)))return 0;return ot(n,e.value,r)?0:1})),\"-ms-legacy-expression\":(dt=\"expression\",dt+=\"(\",function(e,t){return null!==e&&rt(e.value,dt)?st(e,t):0})},ft=function(e,t,n){var r=s(\"SyntaxError\",e);return r.input=t,r.offset=n,r.rawMessage=e,r.message=r.rawMessage+\"\\n  \"+r.input+\"\\n--\"+new Array((r.offset||r.input.length)+1).join(\"-\")+\"^\",r},mt=function(e){this.str=e,this.pos=0};mt.prototype={charCodeAt:function(e){return e<this.str.length?this.str.charCodeAt(e):0},charCode:function(){return this.charCodeAt(this.pos)},nextCharCode:function(){return this.charCodeAt(this.pos+1)},nextNonWsCode:function(e){return this.charCodeAt(this.findWsEnd(e))},findWsEnd:function(e){for(;e<this.str.length;e++){var t=this.str.charCodeAt(e);if(13!==t&&10!==t&&12!==t&&32!==t&&9!==t)break}return e},substringToPos:function(e){return this.str.substring(this.pos,this.pos=e)},eat:function(e){this.charCode()!==e&&this.error(\"Expect `\"+String.fromCharCode(e)+\"`\"),this.pos++},peek:function(){return this.pos<this.str.length?this.str.charAt(this.pos++):\"\"},error:function(e){throw new ft(e,this.str,this.pos)}};var gt=mt,bt=function(e){for(var t=\"function\"==typeof Uint32Array?new Uint32Array(128):new Array(128),n=0;n<128;n++)t[n]=e(String.fromCharCode(n))?1:0;return t}((function(e){return/[a-zA-Z0-9\\-]/.test(e)})),yt={\" \":1,\"&&\":2,\"||\":3,\"|\":4};function kt(e){return e.substringToPos(e.findWsEnd(e.pos))}function vt(e){for(var t=e.pos;t<e.str.length;t++){var n=e.str.charCodeAt(t);if(n>=128||0===bt[n])break}return e.pos===t&&e.error(\"Expect a keyword\"),e.substringToPos(t)}function wt(e){for(var t=e.pos;t<e.str.length;t++){var n=e.str.charCodeAt(t);if(n<48||n>57)break}return e.pos===t&&e.error(\"Expect a number\"),e.substringToPos(t)}function xt(e){var t=e.str.indexOf(\"'\",e.pos+1);return-1===t&&(e.pos=e.str.length,e.error(\"Expect an apostrophe\")),e.substringToPos(t+1)}function St(e){var t,n=null;return e.eat(123),t=wt(e),44===e.charCode()?(e.pos++,125!==e.charCode()&&(n=wt(e))):n=t,e.eat(125),{min:Number(t),max:n?Number(n):0}}function Ct(e,t){var n=function(e){var t=null,n=!1;switch(e.charCode()){case 42:e.pos++,t={min:0,max:0};break;case 43:e.pos++,t={min:1,max:0};break;case 63:e.pos++,t={min:0,max:1};break;case 35:e.pos++,n=!0,t=123===e.charCode()?St(e):{min:1,max:0};break;case 123:t=St(e);break;default:return null}return{type:\"Multiplier\",comma:n,min:t.min,max:t.max,term:null}}(e);return null!==n?(n.term=t,n):t}function At(e){var t=e.peek();return\"\"===t?null:{type:\"Token\",value:t}}function zt(e){var t,n=null;return e.eat(60),t=vt(e),40===e.charCode()&&41===e.nextCharCode()&&(e.pos+=2,t+=\"()\"),91===e.charCodeAt(e.findWsEnd(e.pos))&&(kt(e),n=function(e){var t=null,n=null,r=1;return e.eat(91),45===e.charCode()&&(e.peek(),r=-1),-1==r&&8734===e.charCode()?e.peek():t=r*Number(wt(e)),kt(e),e.eat(44),kt(e),8734===e.charCode()?e.peek():(r=1,45===e.charCode()&&(e.peek(),r=-1),n=r*Number(wt(e))),e.eat(93),null===t&&null===n?null:{type:\"Range\",min:t,max:n}}(e)),e.eat(62),Ct(e,{type:\"Type\",name:t,opts:n})}function Pt(e,t){function n(e,t){return{type:\"Group\",terms:e,combinator:t,disallowEmpty:!1,explicit:!1}}for(t=Object.keys(t).sort((function(e,t){return yt[e]-yt[t]}));t.length>0;){for(var r=t.shift(),a=0,i=0;a<e.length;a++){var o=e[a];\"Combinator\"===o.type&&(o.value===r?(-1===i&&(i=a-1),e.splice(a,1),a--):(-1!==i&&a-i>1&&(e.splice(i,a-i,n(e.slice(i,a),r)),a=i+1),i=-1))}-1!==i&&t.length&&e.splice(i,a-i,n(e.slice(i,a),r))}return r}function Lt(e){for(var t,n=[],r={},a=null,i=e.pos;t=Tt(e);)\"Spaces\"!==t.type&&(\"Combinator\"===t.type?(null!==a&&\"Combinator\"!==a.type||(e.pos=i,e.error(\"Unexpected combinator\")),r[t.value]=!0):null!==a&&\"Combinator\"!==a.type&&(r[\" \"]=!0,n.push({type:\"Combinator\",value:\" \"})),n.push(t),a=t,i=e.pos);return null!==a&&\"Combinator\"===a.type&&(e.pos-=i,e.error(\"Unexpected combinator\")),{type:\"Group\",terms:n,combinator:Pt(n,r)||\" \",disallowEmpty:!1,explicit:!1}}function Tt(e){var t=e.charCode();if(t<128&&1===bt[t])return function(e){var t;return t=vt(e),40===e.charCode()?(e.pos++,{type:\"Function\",name:t}):Ct(e,{type:\"Keyword\",name:t})}(e);switch(t){case 93:break;case 91:return Ct(e,function(e){var t;return e.eat(91),t=Lt(e),e.eat(93),t.explicit=!0,33===e.charCode()&&(e.pos++,t.disallowEmpty=!0),t}(e));case 60:return 39===e.nextCharCode()?function(e){var t;return e.eat(60),e.eat(39),t=vt(e),e.eat(39),e.eat(62),Ct(e,{type:\"Property\",name:t})}(e):zt(e);case 124:return{type:\"Combinator\",value:e.substringToPos(124===e.nextCharCode()?e.pos+2:e.pos+1)};case 38:return e.pos++,e.eat(38),{type:\"Combinator\",value:\"&&\"};case 44:return e.pos++,{type:\"Comma\"};case 39:return Ct(e,{type:\"String\",value:xt(e)});case 32:case 9:case 10:case 13:case 12:return{type:\"Spaces\",value:kt(e)};case 64:return(t=e.nextCharCode())<128&&1===bt[t]?(e.pos++,{type:\"AtKeyword\",name:vt(e)}):At(e);case 42:case 43:case 63:case 35:case 33:break;case 123:if((t=e.nextCharCode())<48||t>57)return At(e);break;default:return At(e)}}function Et(e){var t=new gt(e),n=Lt(t);return t.pos!==e.length&&t.error(\"Unexpected input\"),1===n.terms.length&&\"Group\"===n.terms[0].type&&(n=n.terms[0]),n}Et(\"[a&&<b>#|<'c'>*||e() f{2} /,(% g#{1,2} h{2,})]!\");var Ot=Et,Dt=function(){};function Rt(e){return\"function\"==typeof e?e:Dt}var It=function(e,t,n){var r=Dt,a=Dt;if(\"function\"==typeof t?r=t:t&&(r=Rt(t.enter),a=Rt(t.leave)),r===Dt&&a===Dt)throw new Error(\"Neither `enter` nor `leave` walker handler is set or both aren't a function\");!function e(t){switch(r.call(n,t),t.type){case\"Group\":t.terms.forEach(e);break;case\"Multiplier\":e(t.term);break;case\"Type\":case\"Property\":case\"Keyword\":case\"AtKeyword\":case\"Function\":case\"String\":case\"Token\":case\"Comma\":break;default:throw new Error(\"Unknown type: \"+t.type)}a.call(n,t)}(e)},Mt=new V,Nt={decorator:function(e){var t=null,n={len:0,node:null},r=[n],a=\"\";return{children:e.children,node:function(n){var r=t;t=n,e.node.call(this,n),t=r},chunk:function(e){a+=e,n.node!==t?r.push({len:e.length,node:t}):n.len+=e.length},result:function(){return Bt(a,r)}}}};function Bt(e,t){var n=[],r=0,a=0,i=t?t[a].node:null;for(Se(e,Mt);!Mt.eof;){if(t)for(;a<t.length&&r+t[a].len<=Mt.tokenStart;)r+=t[a++].len,i=t[a].node;n.push({type:Mt.tokenType,value:Mt.getTokenValue(),index:Mt.tokenIndex,balance:Mt.balance[Mt.tokenIndex],node:i}),Mt.next()}return n}var jt={type:\"Match\"},_t={type:\"Mismatch\"},qt={type:\"DisallowEmpty\"};function Wt(e,t,n){return t===jt&&n===_t||e===jt&&t===jt&&n===jt?e:(\"If\"===e.type&&e.else===_t&&t===jt&&(t=e.then,e=e.match),{type:\"If\",match:e,then:t,else:n})}function Ft(e){return e.length>2&&40===e.charCodeAt(e.length-2)&&41===e.charCodeAt(e.length-1)}function Ut(e){return\"Keyword\"===e.type||\"AtKeyword\"===e.type||\"Function\"===e.type||\"Type\"===e.type&&Ft(e.name)}function Yt(e){if(\"function\"==typeof e)return{type:\"Generic\",fn:e};switch(e.type){case\"Group\":var t=function e(t,n,r){switch(t){case\" \":for(var a=jt,i=n.length-1;i>=0;i--){a=Wt(l=n[i],a,_t)}return a;case\"|\":a=_t;var o=null;for(i=n.length-1;i>=0;i--){if(Ut(l=n[i])&&(null===o&&i>0&&Ut(n[i-1])&&(a=Wt({type:\"Enum\",map:o=Object.create(null)},jt,a)),null!==o)){var s=(Ft(l.name)?l.name.slice(0,-1):l.name).toLowerCase();if(s in o==!1){o[s]=l;continue}}o=null,a=Wt(l,jt,a)}return a;case\"&&\":if(n.length>5)return{type:\"MatchOnce\",terms:n,all:!0};for(a=_t,i=n.length-1;i>=0;i--){var l=n[i];c=n.length>1?e(t,n.filter((function(e){return e!==l})),!1):jt,a=Wt(l,c,a)}return a;case\"||\":if(n.length>5)return{type:\"MatchOnce\",terms:n,all:!1};for(a=r?jt:_t,i=n.length-1;i>=0;i--){var c;l=n[i];c=n.length>1?e(t,n.filter((function(e){return e!==l})),!0):jt,a=Wt(l,c,a)}return a}}(e.combinator,e.terms.map(Yt),!1);return e.disallowEmpty&&(t=Wt(t,qt,_t)),t;case\"Multiplier\":return function(e){var t=jt,n=Yt(e.term);if(0===e.max)n=Wt(n,qt,_t),(t=Wt(n,null,_t)).then=Wt(jt,jt,t),e.comma&&(t.then.else=Wt({type:\"Comma\",syntax:e},t,_t));else for(var r=e.min||1;r<=e.max;r++)e.comma&&t!==jt&&(t=Wt({type:\"Comma\",syntax:e},t,_t)),t=Wt(n,Wt(jt,jt,t),_t);if(0===e.min)t=Wt(jt,jt,t);else for(r=0;r<e.min-1;r++)e.comma&&t!==jt&&(t=Wt({type:\"Comma\",syntax:e},t,_t)),t=Wt(n,t,_t);return t}(e);case\"Type\":case\"Property\":return{type:e.type,name:e.name,syntax:e};case\"Keyword\":return{type:e.type,name:e.name.toLowerCase(),syntax:e};case\"AtKeyword\":return{type:e.type,name:\"@\"+e.name.toLowerCase(),syntax:e};case\"Function\":return{type:e.type,name:e.name.toLowerCase()+\"(\",syntax:e};case\"String\":return 3===e.value.length?{type:\"Token\",value:e.value.charAt(1),syntax:e}:{type:e.type,value:e.value.substr(1,e.value.length-2).replace(/\\\\'/g,\"'\"),syntax:e};case\"Token\":return{type:e.type,value:e.value,syntax:e};case\"Comma\":return{type:e.type,syntax:e};default:throw new Error(\"Unknown node type:\",e.type)}}var Ht=jt,Vt=_t,Kt=qt,Gt=function(e,t){return\"string\"==typeof e&&(e=Ot(e)),{type:\"MatchGraph\",match:Yt(e),syntax:t||null,source:e}},$t=Object.prototype.hasOwnProperty,Qt=Ht,Xt=Vt,Zt=Kt,Jt=d.TYPE;function en(e){for(var t=null,n=null,r=e;null!==r;)n=r.prev,r.prev=t,t=r,r=n;return t}function tn(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r>=65&&r<=90&&(r|=32),r!==t.charCodeAt(n))return!1}return!0}function nn(e){return null===e||(e.type===Jt.Comma||e.type===Jt.Function||e.type===Jt.LeftParenthesis||e.type===Jt.LeftSquareBracket||e.type===Jt.LeftCurlyBracket||e.type===Jt.Delim)}function rn(e){return null===e||(e.type===Jt.RightParenthesis||e.type===Jt.RightSquareBracket||e.type===Jt.RightCurlyBracket||e.type===Jt.Delim)}function an(e,t,n){function r(){do{b++,g=b<e.length?e[b]:null}while(null!==g&&(g.type===Jt.WhiteSpace||g.type===Jt.Comment))}function a(t){var n=b+t;return n<e.length?e[n]:null}function i(e,t){return{nextState:e,matchStack:k,syntaxStack:u,thenStack:h,tokenIndex:b,prev:t}}function o(e){h={nextState:e,matchStack:k,syntaxStack:u,prev:h}}function s(e){d=i(e,d)}function l(){k={type:1,syntax:t.syntax,token:g,prev:k},r(),p=null,b>y&&(y=b)}function c(){k=2===k.type?k.prev:{type:3,syntax:u.syntax,token:k.token,prev:k},u=u.prev}var u=null,h=null,d=null,p=null,f=0,m=null,g=null,b=-1,y=0,k={type:0,syntax:null,token:null,prev:null};for(r();null===m&&++f<15e3;)switch(t.type){case\"Match\":if(null===h){if(null!==g&&(b!==e.length-1||\"\\\\0\"!==g.value&&\"\\\\9\"!==g.value)){t=Xt;break}m=\"Match\";break}if((t=h.nextState)===Zt){if(h.matchStack===k){t=Xt;break}t=Qt}for(;h.syntaxStack!==u;)c();h=h.prev;break;case\"Mismatch\":if(null!==p&&!1!==p)(null===d||b>d.tokenIndex)&&(d=p,p=!1);else if(null===d){m=\"Mismatch\";break}t=d.nextState,h=d.thenStack,u=d.syntaxStack,k=d.matchStack,b=d.tokenIndex,g=b<e.length?e[b]:null,d=d.prev;break;case\"MatchGraph\":t=t.match;break;case\"If\":t.else!==Xt&&s(t.else),t.then!==Qt&&o(t.then),t=t.match;break;case\"MatchOnce\":t={type:\"MatchOnceBuffer\",syntax:t,index:0,mask:0};break;case\"MatchOnceBuffer\":var v=t.syntax.terms;if(t.index===v.length){if(0===t.mask||t.syntax.all){t=Xt;break}t=Qt;break}if(t.mask===(1<<v.length)-1){t=Qt;break}for(;t.index<v.length;t.index++){var w=1<<t.index;if(0==(t.mask&w)){s(t),o({type:\"AddMatchOnce\",syntax:t.syntax,mask:t.mask|w}),t=v[t.index++];break}}break;case\"AddMatchOnce\":t={type:\"MatchOnceBuffer\",syntax:t.syntax,index:0,mask:t.mask};break;case\"Enum\":if(null!==g)if(-1!==(z=g.value.toLowerCase()).indexOf(\"\\\\\")&&(z=z.replace(/\\\\[09].*$/,\"\")),$t.call(t.map,z)){t=t.map[z];break}t=Xt;break;case\"Generic\":var x=null!==u?u.opts:null,S=b+Math.floor(t.fn(g,a,x));if(!isNaN(S)&&S>b){for(;b<S;)l();t=Qt}else t=Xt;break;case\"Type\":case\"Property\":var C=\"Type\"===t.type?\"types\":\"properties\",A=$t.call(n,C)?n[C][t.name]:null;if(!A||!A.match)throw new Error(\"Bad syntax reference: \"+(\"Type\"===t.type?\"<\"+t.name+\">\":\"<'\"+t.name+\"'>\"));if(!1!==p&&null!==g&&\"Type\"===t.type)if(\"custom-ident\"===t.name&&g.type===Jt.Ident||\"length\"===t.name&&\"0\"===g.value){null===p&&(p=i(t,d)),t=Xt;break}u={syntax:t.syntax,opts:t.syntax.opts||null!==u&&u.opts||null,prev:u},k={type:2,syntax:t.syntax,token:k.token,prev:k},t=A.match;break;case\"Keyword\":var z=t.name;if(null!==g){var P=g.value;if(-1!==P.indexOf(\"\\\\\")&&(P=P.replace(/\\\\[09].*$/,\"\")),tn(P,z)){l(),t=Qt;break}}t=Xt;break;case\"AtKeyword\":case\"Function\":if(null!==g&&tn(g.value,t.name)){l(),t=Qt;break}t=Xt;break;case\"Token\":if(null!==g&&g.value===t.value){l(),t=Qt;break}t=Xt;break;case\"Comma\":null!==g&&g.type===Jt.Comma?nn(k.token)?t=Xt:(l(),t=rn(g)?Xt:Qt):t=nn(k.token)||rn(g)?Qt:Xt;break;case\"String\":var L=\"\";for(S=b;S<e.length&&L.length<t.value.length;S++)L+=e[S].value;if(tn(L,t.value)){for(;b<S;)l();t=Qt}else t=Xt;break;default:throw new Error(\"Unknown node type: \"+t.type)}switch(f,m){case null:console.warn(\"[csstree-match] BREAK after 15000 iterations\"),m=\"Maximum iteration number exceeded (please fill an issue on https://github.com/csstree/csstree/issues)\",k=null;break;case\"Match\":for(;null!==u;)c();break;default:k=null}return{tokens:e,reason:m,iterations:f,match:k,longestMatch:y}}var on=function(e,t,n){var r=an(e,t,n||{});if(null===r.match)return r;var a=r.match,i=r.match={syntax:t.syntax||null,match:[]},o=[i];for(a=en(a).prev;null!==a;){switch(a.type){case 2:i.match.push(i={syntax:a.syntax,match:[]}),o.push(i);break;case 3:o.pop(),i=o[o.length-1];break;default:i.match.push({syntax:a.syntax||null,token:a.token.value,node:a.token.node})}a=a.prev}return r};function sn(e){function t(e){return null!==e&&(\"Type\"===e.type||\"Property\"===e.type||\"Keyword\"===e.type)}var n=null;return null!==this.matched&&function r(a){if(Array.isArray(a.match)){for(var i=0;i<a.match.length;i++)if(r(a.match[i]))return t(a.syntax)&&n.unshift(a.syntax),!0}else if(a.node===e)return n=t(a.syntax)?[a.syntax]:[],!0;return!1}(this.matched),n}function ln(e,t,n){var r=sn.call(e,t);return null!==r&&r.some(n)}var cn={getTrace:sn,isType:function(e,t){return ln(this,e,(function(e){return\"Type\"===e.type&&e.name===t}))},isProperty:function(e,t){return ln(this,e,(function(e){return\"Property\"===e.type&&e.name===t}))},isKeyword:function(e){return ln(this,e,(function(e){return\"Keyword\"===e.type}))}};var un={matchFragments:function(e,t,n,r,a){var i=[];return null!==n.matched&&function n(s){if(null!==s.syntax&&s.syntax.type===r&&s.syntax.name===a){var l=function e(t){return\"node\"in t?t.node:e(t.match[0])}(s),c=function e(t){return\"node\"in t?t.node:e(t.match[t.match.length-1])}(s);e.syntax.walk(t,(function(e,t,n){if(e===l){var r=new o;do{if(r.appendData(t.data),t.data===c)break;t=t.next}while(null!==t);i.push({parent:n,nodes:r})}}))}Array.isArray(s.match)&&s.match.forEach(n)}(n.matched),i}},hn=Object.prototype.hasOwnProperty;function dn(e){return\"number\"==typeof e&&isFinite(e)&&Math.floor(e)===e&&e>=0}function pn(e){return Boolean(e)&&dn(e.offset)&&dn(e.line)&&dn(e.column)}function fn(e,t){return function(n,r){if(!n||n.constructor!==Object)return r(n,\"Type of node should be an Object\");for(var a in n){var i=!0;if(!1!==hn.call(n,a)){if(\"type\"===a)n.type!==e&&r(n,\"Wrong node type `\"+n.type+\"`, expected `\"+e+\"`\");else if(\"loc\"===a){if(null===n.loc)continue;if(n.loc&&n.loc.constructor===Object)if(\"string\"!=typeof n.loc.source)a+=\".source\";else if(pn(n.loc.start)){if(pn(n.loc.end))continue;a+=\".end\"}else a+=\".start\";i=!1}else if(t.hasOwnProperty(a)){var s=0;for(i=!1;!i&&s<t[a].length;s++){var l=t[a][s];switch(l){case String:i=\"string\"==typeof n[a];break;case Boolean:i=\"boolean\"==typeof n[a];break;case null:i=null===n[a];break;default:\"string\"==typeof l?i=n[a]&&n[a].type===l:Array.isArray(l)&&(i=n[a]instanceof o)}}}else r(n,\"Unknown field `\"+a+\"` for \"+e+\" node type\");i||r(n,\"Bad value for `\"+e+\".\"+a+\"`\")}}for(var a in t)hn.call(t,a)&&!1===hn.call(n,a)&&r(n,\"Field `\"+e+\".\"+a+\"` is missed\")}}function mn(e,t){var n=t.structure,r={type:String,loc:!0},a={type:'\"'+e+'\"'};for(var i in n)if(!1!==hn.call(n,i)){for(var o=[],s=r[i]=Array.isArray(n[i])?n[i].slice():[n[i]],l=0;l<s.length;l++){var c=s[l];if(c===String||c===Boolean)o.push(c.name);else if(null===c)o.push(\"null\");else if(\"string\"==typeof c)o.push(\"<\"+c+\">\");else{if(!Array.isArray(c))throw new Error(\"Wrong value `\"+c+\"` in `\"+e+\".\"+i+\"` structure definition\");o.push(\"List\")}}a[i]=o.join(\" | \")}return{docs:a,check:fn(e,r)}}var gn=X,bn=Z,yn=Gt,kn=on,vn=function(e){var t={};if(e.node)for(var n in e.node)if(hn.call(e.node,n)){var r=e.node[n];if(!r.structure)throw new Error(\"Missed `structure` field in `\"+n+\"` node type definition\");t[n]=mn(n,r)}return t},wn=yn(\"inherit | initial | unset\"),xn=yn(\"inherit | initial | unset | <-ms-legacy-expression>\");function Sn(e,t,n){var r={};for(var a in e)e[a].syntax&&(r[a]=n?e[a].syntax:$(e[a].syntax,{compact:t}));return r}function Cn(e,t,n){return{matched:e,iterations:n,error:t,getTrace:cn.getTrace,isType:cn.isType,isProperty:cn.isProperty,isKeyword:cn.isKeyword}}function An(e,t,n,r){var a,i=function(e,t){return\"string\"==typeof e?Bt(e,null):t.generate(e,Nt)}(n,e.syntax);return function(e){for(var t=0;t<e.length;t++)if(\"var(\"===e[t].value.toLowerCase())return!0;return!1}(i)?Cn(null,new Error(\"Matching for a tree with var() is not supported\")):(r&&(a=kn(i,e.valueCommonSyntax,e)),r&&a.match||(a=kn(i,t.match,e)).match?Cn(a.match,null,a.iterations):Cn(null,new bn(a.reason,t.syntax,n,a),a.iterations))}var zn=function(e,t,n){if(this.valueCommonSyntax=wn,this.syntax=t,this.generic=!1,this.atrules={},this.properties={},this.types={},this.structure=n||vn(e),e){if(e.types)for(var r in e.types)this.addType_(r,e.types[r]);if(e.generic)for(var r in this.generic=!0,pt)this.addType_(r,pt[r]);if(e.atrules)for(var r in e.atrules)this.addAtrule_(r,e.atrules[r]);if(e.properties)for(var r in e.properties)this.addProperty_(r,e.properties[r])}};zn.prototype={structure:{},checkStructure:function(e){function t(e,t){r.push({node:e,message:t})}var n=this.structure,r=[];return this.syntax.walk(e,(function(e){n.hasOwnProperty(e.type)?n[e.type].check(e,t):t(e,\"Unknown node type `\"+e.type+\"`\")})),!!r.length&&r},createDescriptor:function(e,t,n){var r={type:t,name:n},a={type:t,name:n,syntax:null,match:null};return\"function\"==typeof e?a.match=yn(e,r):(\"string\"==typeof e?Object.defineProperty(a,\"syntax\",{get:function(){return Object.defineProperty(a,\"syntax\",{value:Ot(e)}),a.syntax}}):a.syntax=e,Object.defineProperty(a,\"match\",{get:function(){return Object.defineProperty(a,\"match\",{value:yn(a.syntax,r)}),a.match}})),a},addAtrule_:function(e,t){this.atrules[e]={prelude:t.prelude?this.createDescriptor(t.prelude,\"AtrulePrelude\",e):null,descriptors:t.descriptors?Object.keys(t.descriptors).reduce((e,n)=>(e[n]=this.createDescriptor(t.descriptors[n],\"AtruleDescriptor\",n),e),{}):null}},addProperty_:function(e,t){this.properties[e]=this.createDescriptor(t,\"Property\",e)},addType_:function(e,t){this.types[e]=this.createDescriptor(t,\"Type\",e),t===pt[\"-ms-legacy-expression\"]&&(this.valueCommonSyntax=xn)},matchAtrulePrelude:function(e,t){var n=ae.keyword(e),r=n.vendor?this.getAtrulePrelude(n.name)||this.getAtrulePrelude(n.basename):this.getAtrulePrelude(n.name);return r?An(this,r,t,!0):n.basename in this.atrules?Cn(null,new Error(\"At-rule `\"+e+\"` should not contain a prelude\")):Cn(null,new gn(\"Unknown at-rule\",e))},matchAtruleDescriptor:function(e,t,n){var r=ae.keyword(e),a=ae.keyword(t),i=r.vendor?this.atrules[r.name]||this.atrules[r.basename]:this.atrules[r.name];if(!i)return Cn(null,new gn(\"Unknown at-rule\",e));if(!i.descriptors)return Cn(null,new Error(\"At-rule `\"+e+\"` has no known descriptors\"));var o=a.vendor?i.descriptors[a.name]||i.descriptors[a.basename]:i.descriptors[a.name];return o?An(this,o,n,!0):Cn(null,new gn(\"Unknown at-rule descriptor\",t))},matchDeclaration:function(e){return\"Declaration\"!==e.type?Cn(null,new Error(\"Not a Declaration node\")):this.matchProperty(e.property,e.value)},matchProperty:function(e,t){var n=ae.property(e);if(n.custom)return Cn(null,new Error(\"Lexer matching doesn't applicable for custom properties\"));var r=n.vendor?this.getProperty(n.name)||this.getProperty(n.basename):this.getProperty(n.name);return r?An(this,r,t,!0):Cn(null,new gn(\"Unknown property\",e))},matchType:function(e,t){var n=this.getType(e);return n?An(this,n,t,!1):Cn(null,new gn(\"Unknown type\",e))},match:function(e,t){return\"string\"==typeof e||e&&e.type?(\"string\"!=typeof e&&e.match||(e=this.createDescriptor(e,\"Type\",\"anonymous\")),An(this,e,t,!1)):Cn(null,new gn(\"Bad syntax\"))},findValueFragments:function(e,t,n,r){return un.matchFragments(this,t,this.matchProperty(e,t),n,r)},findDeclarationValueFragments:function(e,t,n){return un.matchFragments(this,e.value,this.matchDeclaration(e),t,n)},findAllFragments:function(e,t,n){var r=[];return this.syntax.walk(e,{visit:\"Declaration\",enter:function(e){r.push.apply(r,this.findDeclarationValueFragments(e,t,n))}.bind(this)}),r},getAtrulePrelude:function(e){return this.atrules.hasOwnProperty(e)?this.atrules[e].prelude:null},getAtruleDescriptor:function(e,t){return this.atrules.hasOwnProperty(e)&&this.atrules.declarators&&this.atrules[e].declarators[t]||null},getProperty:function(e){return this.properties.hasOwnProperty(e)?this.properties[e]:null},getType:function(e){return this.types.hasOwnProperty(e)?this.types[e]:null},validate:function(){function e(r,a,i,o){if(i.hasOwnProperty(a))return i[a];i[a]=!1,null!==o.syntax&&It(o.syntax,(function(o){if(\"Type\"===o.type||\"Property\"===o.type){var s=\"Type\"===o.type?r.types:r.properties,l=\"Type\"===o.type?t:n;s.hasOwnProperty(o.name)&&!e(r,o.name,l,s[o.name])||(i[a]=!0)}}),this)}var t={},n={};for(var r in this.types)e(this,r,t,this.types[r]);for(var r in this.properties)e(this,r,n,this.properties[r]);return t=Object.keys(t).filter((function(e){return t[e]})),n=Object.keys(n).filter((function(e){return n[e]})),t.length||n.length?{types:t,properties:n}:null},dump:function(e,t){return{generic:this.generic,types:Sn(this.types,!t,e),properties:Sn(this.properties,!t,e)}},toString:function(){return JSON.stringify(this.dump())}};var Pn=zn,Ln={SyntaxError:ft,parse:Ot,generate:$,walk:It},Tn=Se.isBOM;var En=function(){this.lines=null,this.columns=null,this.linesAndColumnsComputed=!1};En.prototype={setSource:function(e,t,n,r){this.source=e,this.startOffset=void 0===t?0:t,this.startLine=void 0===n?1:n,this.startColumn=void 0===r?1:r,this.linesAndColumnsComputed=!1},ensureLinesAndColumnsComputed:function(){this.linesAndColumnsComputed||(!function(e,t){for(var n=t.length,r=oe(e.lines,n),a=e.startLine,i=oe(e.columns,n),o=e.startColumn,s=t.length>0?Tn(t.charCodeAt(0)):0;s<n;s++){var l=t.charCodeAt(s);r[s]=a,i[s]=o++,10!==l&&13!==l&&12!==l||(13===l&&s+1<n&&10===t.charCodeAt(s+1)&&(r[++s]=a,i[s]=o),a++,o=1)}r[s]=a,i[s]=o,e.lines=r,e.columns=i}(this,this.source),this.linesAndColumnsComputed=!0)},getLocation:function(e,t){return this.ensureLinesAndColumnsComputed(),{source:t,offset:this.startOffset+e,line:this.lines[e],column:this.columns[e]}},getLocationRange:function(e,t,n){return this.ensureLinesAndColumnsComputed(),{source:n,start:{offset:this.startOffset+e,line:this.lines[e],column:this.columns[e]},end:{offset:this.startOffset+t,line:this.lines[t],column:this.columns[t]}}}};var On=En,Dn=Se.TYPE,Rn=Dn.WhiteSpace,In=Dn.Comment,Mn=function(e){var t=this.createList(),n=null,r={recognizer:e,space:null,ignoreWS:!1,ignoreWSAfter:!1};for(this.scanner.skipSC();!this.scanner.eof;){switch(this.scanner.tokenType){case In:this.scanner.next();continue;case Rn:r.ignoreWS?this.scanner.next():r.space=this.WhiteSpace();continue}if(void 0===(n=e.getNode.call(this,r)))break;null!==r.space&&(t.push(r.space),r.space=null),t.push(n),r.ignoreWSAfter?(r.ignoreWSAfter=!1,r.ignoreWS=!0):r.ignoreWS=!1}return t},Nn=j.findWhiteSpaceStart,Bn=function(){},jn=d.TYPE,_n=d.NAME,qn=jn.WhiteSpace,Wn=jn.Ident,Fn=jn.Function,Un=jn.Url,Yn=jn.Hash,Hn=jn.Percentage,Vn=jn.Number;function Kn(e){return function(){return this[e]()}}var Gn=function(e){var t={scanner:new V,locationMap:new On,filename:\"<unknown>\",needPositions:!1,onParseError:Bn,onParseErrorThrow:!1,parseAtrulePrelude:!0,parseRulePrelude:!0,parseValue:!0,parseCustomProperty:!1,readSequence:Mn,createList:function(){return new o},createSingleNodeList:function(e){return(new o).appendData(e)},getFirstListNode:function(e){return e&&e.first()},getLastListNode:function(e){return e.last()},parseWithFallback:function(e,t){var n=this.scanner.tokenIndex;try{return e.call(this)}catch(e){if(this.onParseErrorThrow)throw e;var r=t.call(this,n);return this.onParseErrorThrow=!0,this.onParseError(e,r),this.onParseErrorThrow=!1,r}},lookupNonWSType:function(e){do{var t=this.scanner.lookupType(e++);if(t!==qn)return t}while(0!==t);return 0},eat:function(e){if(this.scanner.tokenType!==e){var t=this.scanner.tokenStart,n=_n[e]+\" is expected\";switch(e){case Wn:this.scanner.tokenType===Fn||this.scanner.tokenType===Un?(t=this.scanner.tokenEnd-1,n=\"Identifier is expected but function found\"):n=\"Identifier is expected\";break;case Yn:this.scanner.isDelim(35)&&(this.scanner.next(),t++,n=\"Name is expected\");break;case Hn:this.scanner.tokenType===Vn&&(t=this.scanner.tokenEnd,n=\"Percent sign is expected\");break;default:this.scanner.source.charCodeAt(this.scanner.tokenStart)===e&&(t+=1)}this.error(n,t)}this.scanner.next()},consume:function(e){var t=this.scanner.getTokenValue();return this.eat(e),t},consumeFunctionName:function(){var e=this.scanner.source.substring(this.scanner.tokenStart,this.scanner.tokenEnd-1);return this.eat(Fn),e},getLocation:function(e,t){return this.needPositions?this.locationMap.getLocationRange(e,t,this.filename):null},getLocationFromList:function(e){if(this.needPositions){var t=this.getFirstListNode(e),n=this.getLastListNode(e);return this.locationMap.getLocationRange(null!==t?t.loc.start.offset-this.locationMap.startOffset:this.scanner.tokenStart,null!==n?n.loc.end.offset-this.locationMap.startOffset:this.scanner.tokenStart,this.filename)}return null},error:function(e,t){var n=void 0!==t&&t<this.scanner.source.length?this.locationMap.getLocation(t):this.scanner.eof?this.locationMap.getLocation(Nn(this.scanner.source,this.scanner.source.length-1)):this.locationMap.getLocation(this.scanner.tokenStart);throw new c(e||\"Unexpected input\",this.scanner.source,n.offset,n.line,n.column)}};for(var n in e=function(e){var t={context:{},scope:{},atrule:{},pseudo:{}};if(e.parseContext)for(var n in e.parseContext)switch(typeof e.parseContext[n]){case\"function\":t.context[n]=e.parseContext[n];break;case\"string\":t.context[n]=Kn(e.parseContext[n])}if(e.scope)for(var n in e.scope)t.scope[n]=e.scope[n];if(e.atrule)for(var n in e.atrule){var r=e.atrule[n];r.parse&&(t.atrule[n]=r.parse)}if(e.pseudo)for(var n in e.pseudo){var a=e.pseudo[n];a.parse&&(t.pseudo[n]=a.parse)}if(e.node)for(var n in e.node)t[n]=e.node[n].parse;return t}(e||{}))t[n]=e[n];return function(e,n){var r,a=(n=n||{}).context||\"default\";if(Se(e,t.scanner),t.locationMap.setSource(e,n.offset,n.line,n.column),t.filename=n.filename||\"<unknown>\",t.needPositions=Boolean(n.positions),t.onParseError=\"function\"==typeof n.onParseError?n.onParseError:Bn,t.onParseErrorThrow=!1,t.parseAtrulePrelude=!(\"parseAtrulePrelude\"in n)||Boolean(n.parseAtrulePrelude),t.parseRulePrelude=!(\"parseRulePrelude\"in n)||Boolean(n.parseRulePrelude),t.parseValue=!(\"parseValue\"in n)||Boolean(n.parseValue),t.parseCustomProperty=\"parseCustomProperty\"in n&&Boolean(n.parseCustomProperty),!t.context.hasOwnProperty(a))throw new Error(\"Unknown context `\"+a+\"`\");return r=t.context[a].call(t,n),t.scanner.eof||t.error(),r}},$n=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".split(\"\"),Qn=function(e){if(0<=e&&e<$n.length)return $n[e];throw new TypeError(\"Must be between 0 and 63: \"+e)};var Xn=function(e){var t,n=\"\",r=function(e){return e<0?1+(-e<<1):0+(e<<1)}(e);do{t=31&r,(r>>>=5)>0&&(t|=32),n+=Qn(t)}while(r>0);return n};function Zn(e){return e&&e.default||e}var Jn=function(e,t){return e(t={exports:{}},t.exports),t.exports}((function(e,t){t.getArg=function(e,t,n){if(t in e)return e[t];if(3===arguments.length)return n;throw new Error('\"'+t+'\" is a required argument.')};var n=/^(?:([\\w+\\-.]+):)?\\/\\/(?:(\\w+:\\w+)@)?([\\w.-]*)(?::(\\d+))?(.*)$/,r=/^data:.+\\,.+$/;function a(e){var t=e.match(n);return t?{scheme:t[1],auth:t[2],host:t[3],port:t[4],path:t[5]}:null}function i(e){var t=\"\";return e.scheme&&(t+=e.scheme+\":\"),t+=\"//\",e.auth&&(t+=e.auth+\"@\"),e.host&&(t+=e.host),e.port&&(t+=\":\"+e.port),e.path&&(t+=e.path),t}function o(e){var n=e,r=a(e);if(r){if(!r.path)return e;n=r.path}for(var o,s=t.isAbsolute(n),l=n.split(/\\/+/),c=0,u=l.length-1;u>=0;u--)\".\"===(o=l[u])?l.splice(u,1):\"..\"===o?c++:c>0&&(\"\"===o?(l.splice(u+1,c),c=0):(l.splice(u,2),c--));return\"\"===(n=l.join(\"/\"))&&(n=s?\"/\":\".\"),r?(r.path=n,i(r)):n}function s(e,t){\"\"===e&&(e=\".\"),\"\"===t&&(t=\".\");var n=a(t),s=a(e);if(s&&(e=s.path||\"/\"),n&&!n.scheme)return s&&(n.scheme=s.scheme),i(n);if(n||t.match(r))return t;if(s&&!s.host&&!s.path)return s.host=t,i(s);var l=\"/\"===t.charAt(0)?t:o(e.replace(/\\/+$/,\"\")+\"/\"+t);return s?(s.path=l,i(s)):l}t.urlParse=a,t.urlGenerate=i,t.normalize=o,t.join=s,t.isAbsolute=function(e){return\"/\"===e.charAt(0)||n.test(e)},t.relative=function(e,t){\"\"===e&&(e=\".\"),e=e.replace(/\\/$/,\"\");for(var n=0;0!==t.indexOf(e+\"/\");){var r=e.lastIndexOf(\"/\");if(r<0)return t;if((e=e.slice(0,r)).match(/^([^\\/]+:\\/)?\\/*$/))return t;++n}return Array(n+1).join(\"../\")+t.substr(e.length+1)};var l=!(\"__proto__\"in Object.create(null));function c(e){return e}function u(e){if(!e)return!1;var t=e.length;if(t<9)return!1;if(95!==e.charCodeAt(t-1)||95!==e.charCodeAt(t-2)||111!==e.charCodeAt(t-3)||116!==e.charCodeAt(t-4)||111!==e.charCodeAt(t-5)||114!==e.charCodeAt(t-6)||112!==e.charCodeAt(t-7)||95!==e.charCodeAt(t-8)||95!==e.charCodeAt(t-9))return!1;for(var n=t-10;n>=0;n--)if(36!==e.charCodeAt(n))return!1;return!0}function h(e,t){return e===t?0:null===e?1:null===t?-1:e>t?1:-1}t.toSetString=l?c:function(e){return u(e)?\"$\"+e:e},t.fromSetString=l?c:function(e){return u(e)?e.slice(1):e},t.compareByOriginalPositions=function(e,t,n){var r=h(e.source,t.source);return 0!==r||0!==(r=e.originalLine-t.originalLine)||0!==(r=e.originalColumn-t.originalColumn)||n||0!==(r=e.generatedColumn-t.generatedColumn)||0!==(r=e.generatedLine-t.generatedLine)?r:h(e.name,t.name)},t.compareByGeneratedPositionsDeflated=function(e,t,n){var r=e.generatedLine-t.generatedLine;return 0!==r||0!==(r=e.generatedColumn-t.generatedColumn)||n||0!==(r=h(e.source,t.source))||0!==(r=e.originalLine-t.originalLine)||0!==(r=e.originalColumn-t.originalColumn)?r:h(e.name,t.name)},t.compareByGeneratedPositionsInflated=function(e,t){var n=e.generatedLine-t.generatedLine;return 0!==n||0!==(n=e.generatedColumn-t.generatedColumn)||0!==(n=h(e.source,t.source))||0!==(n=e.originalLine-t.originalLine)||0!==(n=e.originalColumn-t.originalColumn)?n:h(e.name,t.name)},t.parseSourceMapInput=function(e){return JSON.parse(e.replace(/^\\)]}'[^\\n]*\\n/,\"\"))},t.computeSourceURL=function(e,t,n){if(t=t||\"\",e&&(\"/\"!==e[e.length-1]&&\"/\"!==t[0]&&(e+=\"/\"),t=e+t),n){var r=a(n);if(!r)throw new Error(\"sourceMapURL could not be parsed\");if(r.path){var l=r.path.lastIndexOf(\"/\");l>=0&&(r.path=r.path.substring(0,l+1))}t=s(i(r),t)}return o(t)}})),er=(Jn.getArg,Jn.urlParse,Jn.urlGenerate,Jn.normalize,Jn.join,Jn.isAbsolute,Jn.relative,Jn.toSetString,Jn.fromSetString,Jn.compareByOriginalPositions,Jn.compareByGeneratedPositionsDeflated,Jn.compareByGeneratedPositionsInflated,Jn.parseSourceMapInput,Jn.computeSourceURL,Object.prototype.hasOwnProperty),tr=\"undefined\"!=typeof Map;function nr(){this._array=[],this._set=tr?new Map:Object.create(null)}nr.fromArray=function(e,t){for(var n=new nr,r=0,a=e.length;r<a;r++)n.add(e[r],t);return n},nr.prototype.size=function(){return tr?this._set.size:Object.getOwnPropertyNames(this._set).length},nr.prototype.add=function(e,t){var n=tr?e:Jn.toSetString(e),r=tr?this.has(e):er.call(this._set,n),a=this._array.length;r&&!t||this._array.push(e),r||(tr?this._set.set(e,a):this._set[n]=a)},nr.prototype.has=function(e){if(tr)return this._set.has(e);var t=Jn.toSetString(e);return er.call(this._set,t)},nr.prototype.indexOf=function(e){if(tr){var t=this._set.get(e);if(t>=0)return t}else{var n=Jn.toSetString(e);if(er.call(this._set,n))return this._set[n]}throw new Error('\"'+e+'\" is not in the set.')},nr.prototype.at=function(e){if(e>=0&&e<this._array.length)return this._array[e];throw new Error(\"No element indexed by \"+e)},nr.prototype.toArray=function(){return this._array.slice()};var rr={ArraySet:nr};function ar(){this._array=[],this._sorted=!0,this._last={generatedLine:-1,generatedColumn:0}}ar.prototype.unsortedForEach=function(e,t){this._array.forEach(e,t)},ar.prototype.add=function(e){var t,n,r,a,i,o;t=this._last,n=e,r=t.generatedLine,a=n.generatedLine,i=t.generatedColumn,o=n.generatedColumn,a>r||a==r&&o>=i||Jn.compareByGeneratedPositionsInflated(t,n)<=0?(this._last=e,this._array.push(e)):(this._sorted=!1,this._array.push(e))},ar.prototype.toArray=function(){return this._sorted||(this._array.sort(Jn.compareByGeneratedPositionsInflated),this._sorted=!0),this._array};var ir=rr.ArraySet,or={MappingList:ar}.MappingList;function sr(e){e||(e={}),this._file=Jn.getArg(e,\"file\",null),this._sourceRoot=Jn.getArg(e,\"sourceRoot\",null),this._skipValidation=Jn.getArg(e,\"skipValidation\",!1),this._sources=new ir,this._names=new ir,this._mappings=new or,this._sourcesContents=null}sr.prototype._version=3,sr.fromSourceMap=function(e){var t=e.sourceRoot,n=new sr({file:e.file,sourceRoot:t});return e.eachMapping((function(e){var r={generated:{line:e.generatedLine,column:e.generatedColumn}};null!=e.source&&(r.source=e.source,null!=t&&(r.source=Jn.relative(t,r.source)),r.original={line:e.originalLine,column:e.originalColumn},null!=e.name&&(r.name=e.name)),n.addMapping(r)})),e.sources.forEach((function(r){var a=r;null!==t&&(a=Jn.relative(t,r)),n._sources.has(a)||n._sources.add(a);var i=e.sourceContentFor(r);null!=i&&n.setSourceContent(r,i)})),n},sr.prototype.addMapping=function(e){var t=Jn.getArg(e,\"generated\"),n=Jn.getArg(e,\"original\",null),r=Jn.getArg(e,\"source\",null),a=Jn.getArg(e,\"name\",null);this._skipValidation||this._validateMapping(t,n,r,a),null!=r&&(r=String(r),this._sources.has(r)||this._sources.add(r)),null!=a&&(a=String(a),this._names.has(a)||this._names.add(a)),this._mappings.add({generatedLine:t.line,generatedColumn:t.column,originalLine:null!=n&&n.line,originalColumn:null!=n&&n.column,source:r,name:a})},sr.prototype.setSourceContent=function(e,t){var n=e;null!=this._sourceRoot&&(n=Jn.relative(this._sourceRoot,n)),null!=t?(this._sourcesContents||(this._sourcesContents=Object.create(null)),this._sourcesContents[Jn.toSetString(n)]=t):this._sourcesContents&&(delete this._sourcesContents[Jn.toSetString(n)],0===Object.keys(this._sourcesContents).length&&(this._sourcesContents=null))},sr.prototype.applySourceMap=function(e,t,n){var r=t;if(null==t){if(null==e.file)throw new Error('SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map\\'s \"file\" property. Both were omitted.');r=e.file}var a=this._sourceRoot;null!=a&&(r=Jn.relative(a,r));var i=new ir,o=new ir;this._mappings.unsortedForEach((function(t){if(t.source===r&&null!=t.originalLine){var s=e.originalPositionFor({line:t.originalLine,column:t.originalColumn});null!=s.source&&(t.source=s.source,null!=n&&(t.source=Jn.join(n,t.source)),null!=a&&(t.source=Jn.relative(a,t.source)),t.originalLine=s.line,t.originalColumn=s.column,null!=s.name&&(t.name=s.name))}var l=t.source;null==l||i.has(l)||i.add(l);var c=t.name;null==c||o.has(c)||o.add(c)}),this),this._sources=i,this._names=o,e.sources.forEach((function(t){var r=e.sourceContentFor(t);null!=r&&(null!=n&&(t=Jn.join(n,t)),null!=a&&(t=Jn.relative(a,t)),this.setSourceContent(t,r))}),this)},sr.prototype._validateMapping=function(e,t,n,r){if(t&&\"number\"!=typeof t.line&&\"number\"!=typeof t.column)throw new Error(\"original.line and original.column are not numbers -- you probably meant to omit the original mapping entirely and only map the generated position. If so, pass null for the original mapping instead of an object with empty or null values.\");if((!(e&&\"line\"in e&&\"column\"in e&&e.line>0&&e.column>=0)||t||n||r)&&!(e&&\"line\"in e&&\"column\"in e&&t&&\"line\"in t&&\"column\"in t&&e.line>0&&e.column>=0&&t.line>0&&t.column>=0&&n))throw new Error(\"Invalid mapping: \"+JSON.stringify({generated:e,source:n,original:t,name:r}))},sr.prototype._serializeMappings=function(){for(var e,t,n,r,a=0,i=1,o=0,s=0,l=0,c=0,u=\"\",h=this._mappings.toArray(),d=0,p=h.length;d<p;d++){if(e=\"\",(t=h[d]).generatedLine!==i)for(a=0;t.generatedLine!==i;)e+=\";\",i++;else if(d>0){if(!Jn.compareByGeneratedPositionsInflated(t,h[d-1]))continue;e+=\",\"}e+=Xn(t.generatedColumn-a),a=t.generatedColumn,null!=t.source&&(r=this._sources.indexOf(t.source),e+=Xn(r-c),c=r,e+=Xn(t.originalLine-1-s),s=t.originalLine-1,e+=Xn(t.originalColumn-o),o=t.originalColumn,null!=t.name&&(n=this._names.indexOf(t.name),e+=Xn(n-l),l=n)),u+=e}return u},sr.prototype._generateSourcesContent=function(e,t){return e.map((function(e){if(!this._sourcesContents)return null;null!=t&&(e=Jn.relative(t,e));var n=Jn.toSetString(e);return Object.prototype.hasOwnProperty.call(this._sourcesContents,n)?this._sourcesContents[n]:null}),this)},sr.prototype.toJSON=function(){var e={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return null!=this._file&&(e.file=this._file),null!=this._sourceRoot&&(e.sourceRoot=this._sourceRoot),this._sourcesContents&&(e.sourcesContent=this._generateSourcesContent(e.sources,e.sourceRoot)),e},sr.prototype.toString=function(){return JSON.stringify(this.toJSON())};var lr={SourceMapGenerator:sr}.SourceMapGenerator,cr={Atrule:!0,Selector:!0,Declaration:!0},ur=Object.prototype.hasOwnProperty;function hr(e,t){var n=e.children,r=null;\"function\"!=typeof t?n.forEach(this.node,this):n.forEach((function(e){null!==r&&t.call(this,r),this.node(e),r=e}),this)}var dr=function(e){function t(e){if(!ur.call(n,e.type))throw new Error(\"Unknown node type: \"+e.type);n[e.type].call(this,e)}var n={};if(e.node)for(var r in e.node)n[r]=e.node[r].generate;return function(e,n){var r=\"\",a={children:hr,node:t,chunk:function(e){r+=e},result:function(){return r}};return n&&(\"function\"==typeof n.decorator&&(a=n.decorator(a)),n.sourceMap&&(a=function(e){var t=new lr,n=1,r=0,a={line:1,column:0},i={line:0,column:0},o=!1,s={line:1,column:0},l={generated:s},c=e.node;e.node=function(e){if(e.loc&&e.loc.start&&cr.hasOwnProperty(e.type)){var u=e.loc.start.line,h=e.loc.start.column-1;i.line===u&&i.column===h||(i.line=u,i.column=h,a.line=n,a.column=r,o&&(o=!1,a.line===s.line&&a.column===s.column||t.addMapping(l)),o=!0,t.addMapping({source:e.loc.source,original:i,generated:a}))}c.call(this,e),o&&cr.hasOwnProperty(e.type)&&(s.line=n,s.column=r)};var u=e.chunk;e.chunk=function(e){for(var t=0;t<e.length;t++)10===e.charCodeAt(t)?(n++,r=0):r++;u(e)};var h=e.result;return e.result=function(){return o&&t.addMapping(l),{css:h(),map:t}},e}(a))),a.node(e),a.result()}},pr=Object.prototype.hasOwnProperty,fr=function(){};function mr(e){return\"function\"==typeof e?e:fr}function gr(e,t){return function(n,r,a){n.type===t&&e.call(this,n,r,a)}}function br(e,t){var n=t.structure,r=[];for(var a in n)if(!1!==pr.call(n,a)){var i=n[a],o={name:a,type:!1,nullable:!1};Array.isArray(n[a])||(i=[n[a]]);for(var s=0;s<i.length;s++){var l=i[s];null===l?o.nullable=!0:\"string\"==typeof l?o.type=\"node\":Array.isArray(l)&&(o.type=\"list\")}o.type&&r.push(o)}return r.length?{context:t.walkContext,fields:r}:null}function yr(e,t){var n=e.fields.slice(),r=e.context,a=\"string\"==typeof r;return t&&n.reverse(),function(e,i,o){var s;a&&(s=i[r],i[r]=e);for(var l=0;l<n.length;l++){var c=n[l],u=e[c.name];c.nullable&&!u||(\"list\"===c.type?t?u.forEachRight(o):u.forEach(o):o(u))}a&&(i[r]=s)}}function kr(e){return{Atrule:{StyleSheet:e.StyleSheet,Atrule:e.Atrule,Rule:e.Rule,Block:e.Block},Rule:{StyleSheet:e.StyleSheet,Atrule:e.Atrule,Rule:e.Rule,Block:e.Block},Declaration:{StyleSheet:e.StyleSheet,Atrule:e.Atrule,Rule:e.Rule,Block:e.Block,DeclarationList:e.DeclarationList}}}var vr=function(e){var t=function(e){var t={};for(var n in e.node)if(pr.call(e.node,n)){var r=e.node[n];if(!r.structure)throw new Error(\"Missed `structure` field in `\"+n+\"` node type definition\");t[n]=br(0,r)}return t}(e),n={},r={};for(var a in t)pr.call(t,a)&&null!==t[a]&&(n[a]=yr(t[a],!1),r[a]=yr(t[a],!0));var i=kr(n),o=kr(r),s=function(e,a){var s=fr,l=fr,c=n,u={root:e,stylesheet:null,atrule:null,atrulePrelude:null,rule:null,selector:null,block:null,declaration:null,function:null};if(\"function\"==typeof a)s=a;else if(a&&(s=mr(a.enter),l=mr(a.leave),a.reverse&&(c=r),a.visit)){if(i.hasOwnProperty(a.visit))c=a.reverse?o[a.visit]:i[a.visit];else if(!t.hasOwnProperty(a.visit))throw new Error(\"Bad value `\"+a.visit+\"` for `visit` option (should be: \"+Object.keys(t).join(\", \")+\")\");s=gr(s,a.visit),l=gr(l,a.visit)}if(s===fr&&l===fr)throw new Error(\"Neither `enter` nor `leave` walker handler is set or both aren't a function\");if(a.reverse){var h=s;s=l,l=h}!function e(t,n,r){s.call(u,t,n,r),c.hasOwnProperty(t.type)&&c[t.type](t,u,e),l.call(u,t,n,r)}(e)};return s.find=function(e,t){var n=null;return s(e,(function(e,r,a){null===n&&t.call(this,e,r,a)&&(n=e)})),n},s.findLast=function(e,t){var n=null;return s(e,{reverse:!0,enter:function(e,r,a){null===n&&t.call(this,e,r,a)&&(n=e)}}),n},s.findAll=function(e,t){var n=[];return s(e,(function(e,r,a){t.call(this,e,r,a)&&n.push(e)})),n},s},wr=function e(t){var n={};for(var r in t){var a=t[r];a&&(Array.isArray(a)||a instanceof o?a=a.map(e):a.constructor===Object&&(a=e(a))),n[r]=a}return n},xr=Object.prototype.hasOwnProperty,Sr={generic:!0,types:{},atrules:{},properties:{},parseContext:{},scope:{},atrule:[\"parse\"],pseudo:[\"parse\"],node:[\"name\",\"structure\",\"parse\",\"generate\",\"walkContext\"]};function Cr(e){return e&&e.constructor===Object}function Ar(e){return Cr(e)?Object.assign({},e):e}function zr(e,t){for(var n in t)xr.call(t,n)&&(Cr(e[n])?zr(e[n],Ar(t[n])):e[n]=Ar(t[n]))}var Pr=function(e,t){return function e(t,n,r){for(var a in r)if(!1!==xr.call(r,a))if(!0===r[a])a in n&&xr.call(n,a)&&(t[a]=Ar(n[a]));else if(r[a]){if(Cr(r[a]))zr(i={},t[a]),zr(i,n[a]),t[a]=i;else if(Array.isArray(r[a])){var i={},o=r[a].reduce((function(e,t){return e[t]=!0,e}),{});for(var s in t[a])xr.call(t[a],s)&&(i[s]={},t[a]&&t[a][s]&&e(i[s],t[a][s],o));for(var s in n[a])xr.call(n[a],s)&&(i[s]||(i[s]={}),n[a]&&n[a][s]&&e(i[s],n[a][s],o));t[a]=i}}return t}(e,t,Sr)};function Lr(e){var t=Gn(e),n=vr(e),r=dr(e),a=function(e){return{fromPlainObject:function(t){return e(t,{enter:function(e){e.children&&e.children instanceof o==!1&&(e.children=(new o).fromArray(e.children))}}),t},toPlainObject:function(t){return e(t,{leave:function(e){e.children&&e.children instanceof o&&(e.children=e.children.toArray())}}),t}}}(n),i={List:o,SyntaxError:c,TokenStream:V,Lexer:Pn,vendorPrefix:ae.vendorPrefix,keyword:ae.keyword,property:ae.property,isCustomProperty:ae.isCustomProperty,definitionSyntax:Ln,lexer:null,createLexer:function(e){return new Pn(e,i,i.lexer.structure)},tokenize:Se,parse:t,walk:n,generate:r,find:n.find,findLast:n.findLast,findAll:n.findAll,clone:wr,fromPlainObject:a.fromPlainObject,toPlainObject:a.toPlainObject,createSyntax:function(e){return Lr(Pr({},e))},fork:function(t){var n=Pr({},e);return Lr(\"function\"==typeof t?t(n,Object.assign):Pr(n,t))}};return i.lexer=new Pn({generic:!0,types:e.types,atrules:e.atrules,properties:e.properties,node:e.node},i),i}var Tr=function(e){return Lr(Pr({},e))},Er={\"absolute-size\":\"xx-small|x-small|small|medium|large|x-large|xx-large\",\"alpha-value\":\"<number>|<percentage>\",\"angle-percentage\":\"<angle>|<percentage>\",\"angular-color-hint\":\"<angle-percentage>\",\"angular-color-stop\":\"<color>&&<color-stop-angle>?\",\"angular-color-stop-list\":\"[<angular-color-stop> [, <angular-color-hint>]?]# , <angular-color-stop>\",\"animateable-feature\":\"scroll-position|contents|<custom-ident>\",attachment:\"scroll|fixed|local\",\"attr()\":\"attr( <attr-name> <type-or-unit>? [, <attr-fallback>]? )\",\"attr-matcher\":\"['~'|'|'|'^'|'$'|'*']? '='\",\"attr-modifier\":\"i|s\",\"attribute-selector\":\"'[' <wq-name> ']'|'[' <wq-name> <attr-matcher> [<string-token>|<ident-token>] <attr-modifier>? ']'\",\"auto-repeat\":\"repeat( [auto-fill|auto-fit] , [<line-names>? <fixed-size>]+ <line-names>? )\",\"auto-track-list\":\"[<line-names>? [<fixed-size>|<fixed-repeat>]]* <line-names>? <auto-repeat> [<line-names>? [<fixed-size>|<fixed-repeat>]]* <line-names>?\",\"baseline-position\":\"[first|last]? baseline\",\"basic-shape\":\"<inset()>|<circle()>|<ellipse()>|<polygon()>\",\"bg-image\":\"none|<image>\",\"bg-layer\":\"<bg-image>||<bg-position> [/ <bg-size>]?||<repeat-style>||<attachment>||<box>||<box>\",\"bg-position\":\"[[left|center|right|top|bottom|<length-percentage>]|[left|center|right|<length-percentage>] [top|center|bottom|<length-percentage>]|[center|[left|right] <length-percentage>?]&&[center|[top|bottom] <length-percentage>?]]\",\"bg-size\":\"[<length-percentage>|auto]{1,2}|cover|contain\",\"blur()\":\"blur( <length> )\",\"blend-mode\":\"normal|multiply|screen|overlay|darken|lighten|color-dodge|color-burn|hard-light|soft-light|difference|exclusion|hue|saturation|color|luminosity\",box:\"border-box|padding-box|content-box\",\"brightness()\":\"brightness( <number-percentage> )\",\"calc()\":\"calc( <calc-sum> )\",\"calc-sum\":\"<calc-product> [['+'|'-'] <calc-product>]*\",\"calc-product\":\"<calc-value> ['*' <calc-value>|'/' <number>]*\",\"calc-value\":\"<number>|<dimension>|<percentage>|( <calc-sum> )\",\"cf-final-image\":\"<image>|<color>\",\"cf-mixing-image\":\"<percentage>?&&<image>\",\"circle()\":\"circle( [<shape-radius>]? [at <position>]? )\",\"clamp()\":\"clamp( <calc-sum>#{3} )\",\"class-selector\":\"'.' <ident-token>\",\"clip-source\":\"<url>\",color:\"<rgb()>|<rgba()>|<hsl()>|<hsla()>|<hex-color>|<named-color>|currentcolor|<deprecated-system-color>\",\"color-stop\":\"<color-stop-length>|<color-stop-angle>\",\"color-stop-angle\":\"<angle-percentage>{1,2}\",\"color-stop-length\":\"<length-percentage>{1,2}\",\"color-stop-list\":\"[<linear-color-stop> [, <linear-color-hint>]?]# , <linear-color-stop>\",combinator:\"'>'|'+'|'~'|['||']\",\"common-lig-values\":\"[common-ligatures|no-common-ligatures]\",compat:\"searchfield|textarea|push-button|button-bevel|slider-horizontal|checkbox|radio|square-button|menulist|menulist-button|listbox|meter|progress-bar\",\"composite-style\":\"clear|copy|source-over|source-in|source-out|source-atop|destination-over|destination-in|destination-out|destination-atop|xor\",\"compositing-operator\":\"add|subtract|intersect|exclude\",\"compound-selector\":\"[<type-selector>? <subclass-selector>* [<pseudo-element-selector> <pseudo-class-selector>*]*]!\",\"compound-selector-list\":\"<compound-selector>#\",\"complex-selector\":\"<compound-selector> [<combinator>? <compound-selector>]*\",\"complex-selector-list\":\"<complex-selector>#\",\"conic-gradient()\":\"conic-gradient( [from <angle>]? [at <position>]? , <angular-color-stop-list> )\",\"contextual-alt-values\":\"[contextual|no-contextual]\",\"content-distribution\":\"space-between|space-around|space-evenly|stretch\",\"content-list\":\"[<string>|contents|<url>|<quote>|<attr()>|counter( <ident> , <'list-style-type'>? )]+\",\"content-position\":\"center|start|end|flex-start|flex-end\",\"content-replacement\":\"<image>\",\"contrast()\":\"contrast( [<number-percentage>] )\",\"counter()\":\"counter( <custom-ident> , [<counter-style>|none]? )\",\"counter-style\":\"<counter-style-name>|symbols( )\",\"counter-style-name\":\"<custom-ident>\",\"counters()\":\"counters( <custom-ident> , <string> , [<counter-style>|none]? )\",\"cross-fade()\":\"cross-fade( <cf-mixing-image> , <cf-final-image>? )\",\"cubic-bezier-timing-function\":\"ease|ease-in|ease-out|ease-in-out|cubic-bezier( <number> , <number> , <number> , <number> )\",\"deprecated-system-color\":\"ActiveBorder|ActiveCaption|AppWorkspace|Background|ButtonFace|ButtonHighlight|ButtonShadow|ButtonText|CaptionText|GrayText|Highlight|HighlightText|InactiveBorder|InactiveCaption|InactiveCaptionText|InfoBackground|InfoText|Menu|MenuText|Scrollbar|ThreeDDarkShadow|ThreeDFace|ThreeDHighlight|ThreeDLightShadow|ThreeDShadow|Window|WindowFrame|WindowText\",\"discretionary-lig-values\":\"[discretionary-ligatures|no-discretionary-ligatures]\",\"display-box\":\"contents|none\",\"display-inside\":\"flow|flow-root|table|flex|grid|ruby\",\"display-internal\":\"table-row-group|table-header-group|table-footer-group|table-row|table-cell|table-column-group|table-column|table-caption|ruby-base|ruby-text|ruby-base-container|ruby-text-container\",\"display-legacy\":\"inline-block|inline-list-item|inline-table|inline-flex|inline-grid\",\"display-listitem\":\"<display-outside>?&&[flow|flow-root]?&&list-item\",\"display-outside\":\"block|inline|run-in\",\"drop-shadow()\":\"drop-shadow( <length>{2,3} <color>? )\",\"east-asian-variant-values\":\"[jis78|jis83|jis90|jis04|simplified|traditional]\",\"east-asian-width-values\":\"[full-width|proportional-width]\",\"element()\":\"element( <id-selector> )\",\"ellipse()\":\"ellipse( [<shape-radius>{2}]? [at <position>]? )\",\"ending-shape\":\"circle|ellipse\",\"env()\":\"env( <custom-ident> , <declaration-value>? )\",\"explicit-track-list\":\"[<line-names>? <track-size>]+ <line-names>?\",\"family-name\":\"<string>|<custom-ident>+\",\"feature-tag-value\":\"<string> [<integer>|on|off]?\",\"feature-type\":\"@stylistic|@historical-forms|@styleset|@character-variant|@swash|@ornaments|@annotation\",\"feature-value-block\":\"<feature-type> '{' <feature-value-declaration-list> '}'\",\"feature-value-block-list\":\"<feature-value-block>+\",\"feature-value-declaration\":\"<custom-ident> : <integer>+ ;\",\"feature-value-declaration-list\":\"<feature-value-declaration>\",\"feature-value-name\":\"<custom-ident>\",\"fill-rule\":\"nonzero|evenodd\",\"filter-function\":\"<blur()>|<brightness()>|<contrast()>|<drop-shadow()>|<grayscale()>|<hue-rotate()>|<invert()>|<opacity()>|<saturate()>|<sepia()>\",\"filter-function-list\":\"[<filter-function>|<url>]+\",\"final-bg-layer\":\"<'background-color'>||<bg-image>||<bg-position> [/ <bg-size>]?||<repeat-style>||<attachment>||<box>||<box>\",\"fit-content()\":\"fit-content( [<length>|<percentage>] )\",\"fixed-breadth\":\"<length-percentage>\",\"fixed-repeat\":\"repeat( [<positive-integer>] , [<line-names>? <fixed-size>]+ <line-names>? )\",\"fixed-size\":\"<fixed-breadth>|minmax( <fixed-breadth> , <track-breadth> )|minmax( <inflexible-breadth> , <fixed-breadth> )\",\"font-stretch-absolute\":\"normal|ultra-condensed|extra-condensed|condensed|semi-condensed|semi-expanded|expanded|extra-expanded|ultra-expanded|<percentage>\",\"font-variant-css21\":\"[normal|small-caps]\",\"font-weight-absolute\":\"normal|bold|<number>\",\"frequency-percentage\":\"<frequency>|<percentage>\",\"general-enclosed\":\"[<function-token> <any-value> )]|( <ident> <any-value> )\",\"generic-family\":\"serif|sans-serif|cursive|fantasy|monospace|-apple-system\",\"generic-name\":\"serif|sans-serif|cursive|fantasy|monospace\",\"geometry-box\":\"<shape-box>|fill-box|stroke-box|view-box\",gradient:\"<linear-gradient()>|<repeating-linear-gradient()>|<radial-gradient()>|<repeating-radial-gradient()>|<conic-gradient()>|<-legacy-gradient>\",\"grayscale()\":\"grayscale( <number-percentage> )\",\"grid-line\":\"auto|<custom-ident>|[<integer>&&<custom-ident>?]|[span&&[<integer>||<custom-ident>]]\",\"historical-lig-values\":\"[historical-ligatures|no-historical-ligatures]\",\"hsl()\":\"hsl( <hue> <percentage> <percentage> [/ <alpha-value>]? )|hsl( <hue> , <percentage> , <percentage> , <alpha-value>? )\",\"hsla()\":\"hsla( <hue> <percentage> <percentage> [/ <alpha-value>]? )|hsla( <hue> , <percentage> , <percentage> , <alpha-value>? )\",hue:\"<number>|<angle>\",\"hue-rotate()\":\"hue-rotate( <angle> )\",image:\"<url>|<image()>|<image-set()>|<element()>|<cross-fade()>|<gradient>\",\"image()\":\"image( <image-tags>? [<image-src>? , <color>?]! )\",\"image-set()\":\"image-set( <image-set-option># )\",\"image-set-option\":\"[<image>|<string>] <resolution>\",\"image-src\":\"<url>|<string>\",\"image-tags\":\"ltr|rtl\",\"inflexible-breadth\":\"<length>|<percentage>|min-content|max-content|auto\",\"inset()\":\"inset( <length-percentage>{1,4} [round <'border-radius'>]? )\",\"invert()\":\"invert( <number-percentage> )\",\"keyframes-name\":\"<custom-ident>|<string>\",\"keyframe-block\":\"<keyframe-selector># { <declaration-list> }\",\"keyframe-block-list\":\"<keyframe-block>+\",\"keyframe-selector\":\"from|to|<percentage>\",\"leader()\":\"leader( <leader-type> )\",\"leader-type\":\"dotted|solid|space|<string>\",\"length-percentage\":\"<length>|<percentage>\",\"line-names\":\"'[' <custom-ident>* ']'\",\"line-name-list\":\"[<line-names>|<name-repeat>]+\",\"line-style\":\"none|hidden|dotted|dashed|solid|double|groove|ridge|inset|outset\",\"line-width\":\"<length>|thin|medium|thick\",\"linear-color-hint\":\"<length-percentage>\",\"linear-color-stop\":\"<color> <color-stop-length>?\",\"linear-gradient()\":\"linear-gradient( [<angle>|to <side-or-corner>]? , <color-stop-list> )\",\"mask-layer\":\"<mask-reference>||<position> [/ <bg-size>]?||<repeat-style>||<geometry-box>||[<geometry-box>|no-clip]||<compositing-operator>||<masking-mode>\",\"mask-position\":\"[<length-percentage>|left|center|right] [<length-percentage>|top|center|bottom]?\",\"mask-reference\":\"none|<image>|<mask-source>\",\"mask-source\":\"<url>\",\"masking-mode\":\"alpha|luminance|match-source\",\"matrix()\":\"matrix( <number>#{6} )\",\"matrix3d()\":\"matrix3d( <number>#{16} )\",\"max()\":\"max( <calc-sum># )\",\"media-and\":\"<media-in-parens> [and <media-in-parens>]+\",\"media-condition\":\"<media-not>|<media-and>|<media-or>|<media-in-parens>\",\"media-condition-without-or\":\"<media-not>|<media-and>|<media-in-parens>\",\"media-feature\":\"( [<mf-plain>|<mf-boolean>|<mf-range>] )\",\"media-in-parens\":\"( <media-condition> )|<media-feature>|<general-enclosed>\",\"media-not\":\"not <media-in-parens>\",\"media-or\":\"<media-in-parens> [or <media-in-parens>]+\",\"media-query\":\"<media-condition>|[not|only]? <media-type> [and <media-condition-without-or>]?\",\"media-query-list\":\"<media-query>#\",\"media-type\":\"<ident>\",\"mf-boolean\":\"<mf-name>\",\"mf-name\":\"<ident>\",\"mf-plain\":\"<mf-name> : <mf-value>\",\"mf-range\":\"<mf-name> ['<'|'>']? '='? <mf-value>|<mf-value> ['<'|'>']? '='? <mf-name>|<mf-value> '<' '='? <mf-name> '<' '='? <mf-value>|<mf-value> '>' '='? <mf-name> '>' '='? <mf-value>\",\"mf-value\":\"<number>|<dimension>|<ident>|<ratio>\",\"min()\":\"min( <calc-sum># )\",\"minmax()\":\"minmax( [<length>|<percentage>|<flex>|min-content|max-content|auto] , [<length>|<percentage>|<flex>|min-content|max-content|auto] )\",\"named-color\":\"transparent|aliceblue|antiquewhite|aqua|aquamarine|azure|beige|bisque|black|blanchedalmond|blue|blueviolet|brown|burlywood|cadetblue|chartreuse|chocolate|coral|cornflowerblue|cornsilk|crimson|cyan|darkblue|darkcyan|darkgoldenrod|darkgray|darkgreen|darkgrey|darkkhaki|darkmagenta|darkolivegreen|darkorange|darkorchid|darkred|darksalmon|darkseagreen|darkslateblue|darkslategray|darkslategrey|darkturquoise|darkviolet|deeppink|deepskyblue|dimgray|dimgrey|dodgerblue|firebrick|floralwhite|forestgreen|fuchsia|gainsboro|ghostwhite|gold|goldenrod|gray|green|greenyellow|grey|honeydew|hotpink|indianred|indigo|ivory|khaki|lavender|lavenderblush|lawngreen|lemonchiffon|lightblue|lightcoral|lightcyan|lightgoldenrodyellow|lightgray|lightgreen|lightgrey|lightpink|lightsalmon|lightseagreen|lightskyblue|lightslategray|lightslategrey|lightsteelblue|lightyellow|lime|limegreen|linen|magenta|maroon|mediumaquamarine|mediumblue|mediumorchid|mediumpurple|mediumseagreen|mediumslateblue|mediumspringgreen|mediumturquoise|mediumvioletred|midnightblue|mintcream|mistyrose|moccasin|navajowhite|navy|oldlace|olive|olivedrab|orange|orangered|orchid|palegoldenrod|palegreen|paleturquoise|palevioletred|papayawhip|peachpuff|peru|pink|plum|powderblue|purple|rebeccapurple|red|rosybrown|royalblue|saddlebrown|salmon|sandybrown|seagreen|seashell|sienna|silver|skyblue|slateblue|slategray|slategrey|snow|springgreen|steelblue|tan|teal|thistle|tomato|turquoise|violet|wheat|white|whitesmoke|yellow|yellowgreen|<-non-standard-color>\",\"namespace-prefix\":\"<ident>\",\"ns-prefix\":\"[<ident-token>|'*']? '|'\",\"number-percentage\":\"<number>|<percentage>\",\"numeric-figure-values\":\"[lining-nums|oldstyle-nums]\",\"numeric-fraction-values\":\"[diagonal-fractions|stacked-fractions]\",\"numeric-spacing-values\":\"[proportional-nums|tabular-nums]\",nth:\"<an-plus-b>|even|odd\",\"opacity()\":\"opacity( [<number-percentage>] )\",\"overflow-position\":\"unsafe|safe\",\"outline-radius\":\"<length>|<percentage>\",\"page-body\":\"<declaration>? [; <page-body>]?|<page-margin-box> <page-body>\",\"page-margin-box\":\"<page-margin-box-type> '{' <declaration-list> '}'\",\"page-margin-box-type\":\"@top-left-corner|@top-left|@top-center|@top-right|@top-right-corner|@bottom-left-corner|@bottom-left|@bottom-center|@bottom-right|@bottom-right-corner|@left-top|@left-middle|@left-bottom|@right-top|@right-middle|@right-bottom\",\"page-selector-list\":\"[<page-selector>#]?\",\"page-selector\":\"<pseudo-page>+|<ident> <pseudo-page>*\",\"perspective()\":\"perspective( <length> )\",\"polygon()\":\"polygon( <fill-rule>? , [<length-percentage> <length-percentage>]# )\",position:\"[[left|center|right]||[top|center|bottom]|[left|center|right|<length-percentage>] [top|center|bottom|<length-percentage>]?|[[left|right] <length-percentage>]&&[[top|bottom] <length-percentage>]]\",\"pseudo-class-selector\":\"':' <ident-token>|':' <function-token> <any-value> ')'\",\"pseudo-element-selector\":\"':' <pseudo-class-selector>\",\"pseudo-page\":\": [left|right|first|blank]\",quote:\"open-quote|close-quote|no-open-quote|no-close-quote\",\"radial-gradient()\":\"radial-gradient( [<ending-shape>||<size>]? [at <position>]? , <color-stop-list> )\",\"relative-selector\":\"<combinator>? <complex-selector>\",\"relative-selector-list\":\"<relative-selector>#\",\"relative-size\":\"larger|smaller\",\"repeat-style\":\"repeat-x|repeat-y|[repeat|space|round|no-repeat]{1,2}\",\"repeating-linear-gradient()\":\"repeating-linear-gradient( [<angle>|to <side-or-corner>]? , <color-stop-list> )\",\"repeating-radial-gradient()\":\"repeating-radial-gradient( [<ending-shape>||<size>]? [at <position>]? , <color-stop-list> )\",\"rgb()\":\"rgb( <percentage>{3} [/ <alpha-value>]? )|rgb( <number>{3} [/ <alpha-value>]? )|rgb( <percentage>#{3} , <alpha-value>? )|rgb( <number>#{3} , <alpha-value>? )\",\"rgba()\":\"rgba( <percentage>{3} [/ <alpha-value>]? )|rgba( <number>{3} [/ <alpha-value>]? )|rgba( <percentage>#{3} , <alpha-value>? )|rgba( <number>#{3} , <alpha-value>? )\",\"rotate()\":\"rotate( [<angle>|<zero>] )\",\"rotate3d()\":\"rotate3d( <number> , <number> , <number> , [<angle>|<zero>] )\",\"rotateX()\":\"rotateX( [<angle>|<zero>] )\",\"rotateY()\":\"rotateY( [<angle>|<zero>] )\",\"rotateZ()\":\"rotateZ( [<angle>|<zero>] )\",\"saturate()\":\"saturate( <number-percentage> )\",\"scale()\":\"scale( <number> , <number>? )\",\"scale3d()\":\"scale3d( <number> , <number> , <number> )\",\"scaleX()\":\"scaleX( <number> )\",\"scaleY()\":\"scaleY( <number> )\",\"scaleZ()\":\"scaleZ( <number> )\",\"self-position\":\"center|start|end|self-start|self-end|flex-start|flex-end\",\"shape-radius\":\"<length-percentage>|closest-side|farthest-side\",\"skew()\":\"skew( [<angle>|<zero>] , [<angle>|<zero>]? )\",\"skewX()\":\"skewX( [<angle>|<zero>] )\",\"skewY()\":\"skewY( [<angle>|<zero>] )\",\"sepia()\":\"sepia( <number-percentage> )\",shadow:\"inset?&&<length>{2,4}&&<color>?\",\"shadow-t\":\"[<length>{2,3}&&<color>?]\",shape:\"rect( <top> , <right> , <bottom> , <left> )|rect( <top> <right> <bottom> <left> )\",\"shape-box\":\"<box>|margin-box\",\"side-or-corner\":\"[left|right]||[top|bottom]\",\"single-animation\":\"<time>||<timing-function>||<time>||<single-animation-iteration-count>||<single-animation-direction>||<single-animation-fill-mode>||<single-animation-play-state>||[none|<keyframes-name>]\",\"single-animation-direction\":\"normal|reverse|alternate|alternate-reverse\",\"single-animation-fill-mode\":\"none|forwards|backwards|both\",\"single-animation-iteration-count\":\"infinite|<number>\",\"single-animation-play-state\":\"running|paused\",\"single-transition\":\"[none|<single-transition-property>]||<time>||<timing-function>||<time>\",\"single-transition-property\":\"all|<custom-ident>\",size:\"closest-side|farthest-side|closest-corner|farthest-corner|<length>|<length-percentage>{2}\",\"step-position\":\"jump-start|jump-end|jump-none|jump-both|start|end\",\"step-timing-function\":\"step-start|step-end|steps( <integer> [, <step-position>]? )\",\"subclass-selector\":\"<id-selector>|<class-selector>|<attribute-selector>|<pseudo-class-selector>\",\"supports-condition\":\"not <supports-in-parens>|<supports-in-parens> [and <supports-in-parens>]*|<supports-in-parens> [or <supports-in-parens>]*\",\"supports-in-parens\":\"( <supports-condition> )|<supports-feature>|<general-enclosed>\",\"supports-feature\":\"<supports-decl>|<supports-selector-fn>\",\"supports-decl\":\"( <declaration> )\",\"supports-selector-fn\":\"selector( <complex-selector> )\",symbol:\"<string>|<image>|<custom-ident>\",target:\"<target-counter()>|<target-counters()>|<target-text()>\",\"target-counter()\":\"target-counter( [<string>|<url>] , <custom-ident> , <counter-style>? )\",\"target-counters()\":\"target-counters( [<string>|<url>] , <custom-ident> , <string> , <counter-style>? )\",\"target-text()\":\"target-text( [<string>|<url>] , [content|before|after|first-letter]? )\",\"time-percentage\":\"<time>|<percentage>\",\"timing-function\":\"linear|<cubic-bezier-timing-function>|<step-timing-function>\",\"track-breadth\":\"<length-percentage>|<flex>|min-content|max-content|auto\",\"track-list\":\"[<line-names>? [<track-size>|<track-repeat>]]+ <line-names>?\",\"track-repeat\":\"repeat( [<positive-integer>] , [<line-names>? <track-size>]+ <line-names>? )\",\"track-size\":\"<track-breadth>|minmax( <inflexible-breadth> , <track-breadth> )|fit-content( [<length>|<percentage>] )\",\"transform-function\":\"<matrix()>|<translate()>|<translateX()>|<translateY()>|<scale()>|<scaleX()>|<scaleY()>|<rotate()>|<skew()>|<skewX()>|<skewY()>|<matrix3d()>|<translate3d()>|<translateZ()>|<scale3d()>|<scaleZ()>|<rotate3d()>|<rotateX()>|<rotateY()>|<rotateZ()>|<perspective()>\",\"transform-list\":\"<transform-function>+\",\"translate()\":\"translate( <length-percentage> , <length-percentage>? )\",\"translate3d()\":\"translate3d( <length-percentage> , <length-percentage> , <length> )\",\"translateX()\":\"translateX( <length-percentage> )\",\"translateY()\":\"translateY( <length-percentage> )\",\"translateZ()\":\"translateZ( <length> )\",\"type-or-unit\":\"string|color|url|integer|number|length|angle|time|frequency|cap|ch|em|ex|ic|lh|rlh|rem|vb|vi|vw|vh|vmin|vmax|mm|Q|cm|in|pt|pc|px|deg|grad|rad|turn|ms|s|Hz|kHz|%\",\"type-selector\":\"<wq-name>|<ns-prefix>? '*'\",\"var()\":\"var( <custom-property-name> , <declaration-value>? )\",\"viewport-length\":\"auto|<length-percentage>\",\"wq-name\":\"<ns-prefix>? <ident-token>\",\"-legacy-gradient\":\"<-webkit-gradient()>|<-legacy-linear-gradient>|<-legacy-repeating-linear-gradient>|<-legacy-radial-gradient>|<-legacy-repeating-radial-gradient>\",\"-legacy-linear-gradient\":\"-moz-linear-gradient( <-legacy-linear-gradient-arguments> )|-webkit-linear-gradient( <-legacy-linear-gradient-arguments> )|-o-linear-gradient( <-legacy-linear-gradient-arguments> )\",\"-legacy-repeating-linear-gradient\":\"-moz-repeating-linear-gradient( <-legacy-linear-gradient-arguments> )|-webkit-repeating-linear-gradient( <-legacy-linear-gradient-arguments> )|-o-repeating-linear-gradient( <-legacy-linear-gradient-arguments> )\",\"-legacy-linear-gradient-arguments\":\"[<angle>|<side-or-corner>]? , <color-stop-list>\",\"-legacy-radial-gradient\":\"-moz-radial-gradient( <-legacy-radial-gradient-arguments> )|-webkit-radial-gradient( <-legacy-radial-gradient-arguments> )|-o-radial-gradient( <-legacy-radial-gradient-arguments> )\",\"-legacy-repeating-radial-gradient\":\"-moz-repeating-radial-gradient( <-legacy-radial-gradient-arguments> )|-webkit-repeating-radial-gradient( <-legacy-radial-gradient-arguments> )|-o-repeating-radial-gradient( <-legacy-radial-gradient-arguments> )\",\"-legacy-radial-gradient-arguments\":\"[<position> ,]? [[[<-legacy-radial-gradient-shape>||<-legacy-radial-gradient-size>]|[<length>|<percentage>]{2}] ,]? <color-stop-list>\",\"-legacy-radial-gradient-size\":\"closest-side|closest-corner|farthest-side|farthest-corner|contain|cover\",\"-legacy-radial-gradient-shape\":\"circle|ellipse\",\"-non-standard-font\":\"-apple-system-body|-apple-system-headline|-apple-system-subheadline|-apple-system-caption1|-apple-system-caption2|-apple-system-footnote|-apple-system-short-body|-apple-system-short-headline|-apple-system-short-subheadline|-apple-system-short-caption1|-apple-system-short-footnote|-apple-system-tall-body\",\"-non-standard-color\":\"-moz-ButtonDefault|-moz-ButtonHoverFace|-moz-ButtonHoverText|-moz-CellHighlight|-moz-CellHighlightText|-moz-Combobox|-moz-ComboboxText|-moz-Dialog|-moz-DialogText|-moz-dragtargetzone|-moz-EvenTreeRow|-moz-Field|-moz-FieldText|-moz-html-CellHighlight|-moz-html-CellHighlightText|-moz-mac-accentdarkestshadow|-moz-mac-accentdarkshadow|-moz-mac-accentface|-moz-mac-accentlightesthighlight|-moz-mac-accentlightshadow|-moz-mac-accentregularhighlight|-moz-mac-accentregularshadow|-moz-mac-chrome-active|-moz-mac-chrome-inactive|-moz-mac-focusring|-moz-mac-menuselect|-moz-mac-menushadow|-moz-mac-menutextselect|-moz-MenuHover|-moz-MenuHoverText|-moz-MenuBarText|-moz-MenuBarHoverText|-moz-nativehyperlinktext|-moz-OddTreeRow|-moz-win-communicationstext|-moz-win-mediatext|-moz-activehyperlinktext|-moz-default-background-color|-moz-default-color|-moz-hyperlinktext|-moz-visitedhyperlinktext|-webkit-activelink|-webkit-focus-ring-color|-webkit-link|-webkit-text\",\"-non-standard-image-rendering\":\"optimize-contrast|-moz-crisp-edges|-o-crisp-edges|-webkit-optimize-contrast\",\"-non-standard-overflow\":\"-moz-scrollbars-none|-moz-scrollbars-horizontal|-moz-scrollbars-vertical|-moz-hidden-unscrollable\",\"-non-standard-width\":\"min-intrinsic|intrinsic|-moz-min-content|-moz-max-content|-webkit-min-content|-webkit-max-content\",\"-webkit-gradient()\":\"-webkit-gradient( <-webkit-gradient-type> , <-webkit-gradient-point> [, <-webkit-gradient-point>|, <-webkit-gradient-radius> , <-webkit-gradient-point>] [, <-webkit-gradient-radius>]? [, <-webkit-gradient-color-stop>]* )\",\"-webkit-gradient-color-stop\":\"from( <color> )|color-stop( [<number-zero-one>|<percentage>] , <color> )|to( <color> )\",\"-webkit-gradient-point\":\"[left|center|right|<length-percentage>] [top|center|bottom|<length-percentage>]\",\"-webkit-gradient-radius\":\"<length>|<percentage>\",\"-webkit-gradient-type\":\"linear|radial\",\"-webkit-mask-box-repeat\":\"repeat|stretch|round\",\"-webkit-mask-clip-style\":\"border|border-box|padding|padding-box|content|content-box|text\",\"-ms-filter-function-list\":\"<-ms-filter-function>+\",\"-ms-filter-function\":\"<-ms-filter-function-progid>|<-ms-filter-function-legacy>\",\"-ms-filter-function-progid\":\"'progid:' [<ident-token> '.']* [<ident-token>|<function-token> <any-value>? )]\",\"-ms-filter-function-legacy\":\"<ident-token>|<function-token> <any-value>? )\",\"-ms-filter\":\"<string>\",age:\"child|young|old\",\"attr-name\":\"<wq-name>\",\"attr-fallback\":\"<any-value>\",\"border-radius\":\"<length-percentage>{1,2}\",bottom:\"<length>|auto\",\"generic-voice\":\"[<age>? <gender> <integer>?]\",gender:\"male|female|neutral\",left:\"<length>|auto\",\"mask-image\":\"<mask-reference>#\",\"name-repeat\":\"repeat( [<positive-integer>|auto-fill] , <line-names>+ )\",paint:\"none|<color>|<url> [none|<color>]?|context-fill|context-stroke\",\"path()\":\"path( <string> )\",ratio:\"<integer> / <integer>\",right:\"<length>|auto\",\"svg-length\":\"<percentage>|<length>|<number>\",\"svg-writing-mode\":\"lr-tb|rl-tb|tb-rl|lr|rl|tb\",top:\"<length>|auto\",\"track-group\":\"'(' [<string>* <track-minmax> <string>*]+ ')' ['[' <positive-integer> ']']?|<track-minmax>\",\"track-list-v0\":\"[<string>* <track-group> <string>*]+|none\",\"track-minmax\":\"minmax( <track-breadth> , <track-breadth> )|auto|<track-breadth>|fit-content\",x:\"<number>\",y:\"<number>\",declaration:\"<ident-token> : <declaration-value>? ['!' important]?\",\"declaration-list\":\"[<declaration>? ';']* <declaration>?\",url:\"url( <string> <url-modifier>* )|<url-token>\",\"url-modifier\":\"<ident>|<function-token> <any-value> )\",\"number-zero-one\":\"<number [0,1]>\",\"number-one-or-greater\":\"<number [1,\u221e]>\",\"positive-integer\":\"<integer [0,\u221e]>\"},Or={\"--*\":\"<declaration-value>\",\"-ms-accelerator\":\"false|true\",\"-ms-block-progression\":\"tb|rl|bt|lr\",\"-ms-content-zoom-chaining\":\"none|chained\",\"-ms-content-zooming\":\"none|zoom\",\"-ms-content-zoom-limit\":\"<'-ms-content-zoom-limit-min'> <'-ms-content-zoom-limit-max'>\",\"-ms-content-zoom-limit-max\":\"<percentage>\",\"-ms-content-zoom-limit-min\":\"<percentage>\",\"-ms-content-zoom-snap\":\"<'-ms-content-zoom-snap-type'>||<'-ms-content-zoom-snap-points'>\",\"-ms-content-zoom-snap-points\":\"snapInterval( <percentage> , <percentage> )|snapList( <percentage># )\",\"-ms-content-zoom-snap-type\":\"none|proximity|mandatory\",\"-ms-filter\":\"<string>\",\"-ms-flow-from\":\"[none|<custom-ident>]#\",\"-ms-flow-into\":\"[none|<custom-ident>]#\",\"-ms-high-contrast-adjust\":\"auto|none\",\"-ms-hyphenate-limit-chars\":\"auto|<integer>{1,3}\",\"-ms-hyphenate-limit-lines\":\"no-limit|<integer>\",\"-ms-hyphenate-limit-zone\":\"<percentage>|<length>\",\"-ms-ime-align\":\"auto|after\",\"-ms-overflow-style\":\"auto|none|scrollbar|-ms-autohiding-scrollbar\",\"-ms-scrollbar-3dlight-color\":\"<color>\",\"-ms-scrollbar-arrow-color\":\"<color>\",\"-ms-scrollbar-base-color\":\"<color>\",\"-ms-scrollbar-darkshadow-color\":\"<color>\",\"-ms-scrollbar-face-color\":\"<color>\",\"-ms-scrollbar-highlight-color\":\"<color>\",\"-ms-scrollbar-shadow-color\":\"<color>\",\"-ms-scrollbar-track-color\":\"<color>\",\"-ms-scroll-chaining\":\"chained|none\",\"-ms-scroll-limit\":\"<'-ms-scroll-limit-x-min'> <'-ms-scroll-limit-y-min'> <'-ms-scroll-limit-x-max'> <'-ms-scroll-limit-y-max'>\",\"-ms-scroll-limit-x-max\":\"auto|<length>\",\"-ms-scroll-limit-x-min\":\"<length>\",\"-ms-scroll-limit-y-max\":\"auto|<length>\",\"-ms-scroll-limit-y-min\":\"<length>\",\"-ms-scroll-rails\":\"none|railed\",\"-ms-scroll-snap-points-x\":\"snapInterval( <length-percentage> , <length-percentage> )|snapList( <length-percentage># )\",\"-ms-scroll-snap-points-y\":\"snapInterval( <length-percentage> , <length-percentage> )|snapList( <length-percentage># )\",\"-ms-scroll-snap-type\":\"none|proximity|mandatory\",\"-ms-scroll-snap-x\":\"<'-ms-scroll-snap-type'> <'-ms-scroll-snap-points-x'>\",\"-ms-scroll-snap-y\":\"<'-ms-scroll-snap-type'> <'-ms-scroll-snap-points-y'>\",\"-ms-scroll-translation\":\"none|vertical-to-horizontal\",\"-ms-text-autospace\":\"none|ideograph-alpha|ideograph-numeric|ideograph-parenthesis|ideograph-space\",\"-ms-touch-select\":\"grippers|none\",\"-ms-user-select\":\"none|element|text\",\"-ms-wrap-flow\":\"auto|both|start|end|maximum|clear\",\"-ms-wrap-margin\":\"<length>\",\"-ms-wrap-through\":\"wrap|none\",\"-moz-appearance\":\"none|button|button-arrow-down|button-arrow-next|button-arrow-previous|button-arrow-up|button-bevel|button-focus|caret|checkbox|checkbox-container|checkbox-label|checkmenuitem|dualbutton|groupbox|listbox|listitem|menuarrow|menubar|menucheckbox|menuimage|menuitem|menuitemtext|menulist|menulist-button|menulist-text|menulist-textfield|menupopup|menuradio|menuseparator|meterbar|meterchunk|progressbar|progressbar-vertical|progresschunk|progresschunk-vertical|radio|radio-container|radio-label|radiomenuitem|range|range-thumb|resizer|resizerpanel|scale-horizontal|scalethumbend|scalethumb-horizontal|scalethumbstart|scalethumbtick|scalethumb-vertical|scale-vertical|scrollbarbutton-down|scrollbarbutton-left|scrollbarbutton-right|scrollbarbutton-up|scrollbarthumb-horizontal|scrollbarthumb-vertical|scrollbartrack-horizontal|scrollbartrack-vertical|searchfield|separator|sheet|spinner|spinner-downbutton|spinner-textfield|spinner-upbutton|splitter|statusbar|statusbarpanel|tab|tabpanel|tabpanels|tab-scroll-arrow-back|tab-scroll-arrow-forward|textfield|textfield-multiline|toolbar|toolbarbutton|toolbarbutton-dropdown|toolbargripper|toolbox|tooltip|treeheader|treeheadercell|treeheadersortarrow|treeitem|treeline|treetwisty|treetwistyopen|treeview|-moz-mac-unified-toolbar|-moz-win-borderless-glass|-moz-win-browsertabbar-toolbox|-moz-win-communicationstext|-moz-win-communications-toolbox|-moz-win-exclude-glass|-moz-win-glass|-moz-win-mediatext|-moz-win-media-toolbox|-moz-window-button-box|-moz-window-button-box-maximized|-moz-window-button-close|-moz-window-button-maximize|-moz-window-button-minimize|-moz-window-button-restore|-moz-window-frame-bottom|-moz-window-frame-left|-moz-window-frame-right|-moz-window-titlebar|-moz-window-titlebar-maximized\",\"-moz-binding\":\"<url>|none\",\"-moz-border-bottom-colors\":\"<color>+|none\",\"-moz-border-left-colors\":\"<color>+|none\",\"-moz-border-right-colors\":\"<color>+|none\",\"-moz-border-top-colors\":\"<color>+|none\",\"-moz-context-properties\":\"none|[fill|fill-opacity|stroke|stroke-opacity]#\",\"-moz-float-edge\":\"border-box|content-box|margin-box|padding-box\",\"-moz-force-broken-image-icon\":\"<integer>\",\"-moz-image-region\":\"<shape>|auto\",\"-moz-orient\":\"inline|block|horizontal|vertical\",\"-moz-outline-radius\":\"<outline-radius>{1,4} [/ <outline-radius>{1,4}]?\",\"-moz-outline-radius-bottomleft\":\"<outline-radius>\",\"-moz-outline-radius-bottomright\":\"<outline-radius>\",\"-moz-outline-radius-topleft\":\"<outline-radius>\",\"-moz-outline-radius-topright\":\"<outline-radius>\",\"-moz-stack-sizing\":\"ignore|stretch-to-fit\",\"-moz-text-blink\":\"none|blink\",\"-moz-user-focus\":\"ignore|normal|select-after|select-before|select-menu|select-same|select-all|none\",\"-moz-user-input\":\"auto|none|enabled|disabled\",\"-moz-user-modify\":\"read-only|read-write|write-only\",\"-moz-window-dragging\":\"drag|no-drag\",\"-moz-window-shadow\":\"default|menu|tooltip|sheet|none\",\"-webkit-appearance\":\"none|button|button-bevel|caps-lock-indicator|caret|checkbox|default-button|listbox|listitem|media-fullscreen-button|media-mute-button|media-play-button|media-seek-back-button|media-seek-forward-button|media-slider|media-sliderthumb|menulist|menulist-button|menulist-text|menulist-textfield|push-button|radio|scrollbarbutton-down|scrollbarbutton-left|scrollbarbutton-right|scrollbarbutton-up|scrollbargripper-horizontal|scrollbargripper-vertical|scrollbarthumb-horizontal|scrollbarthumb-vertical|scrollbartrack-horizontal|scrollbartrack-vertical|searchfield|searchfield-cancel-button|searchfield-decoration|searchfield-results-button|searchfield-results-decoration|slider-horizontal|slider-vertical|sliderthumb-horizontal|sliderthumb-vertical|square-button|textarea|textfield\",\"-webkit-border-before\":\"<'border-width'>||<'border-style'>||<'color'>\",\"-webkit-border-before-color\":\"<'color'>\",\"-webkit-border-before-style\":\"<'border-style'>\",\"-webkit-border-before-width\":\"<'border-width'>\",\"-webkit-box-reflect\":\"[above|below|right|left]? <length>? <image>?\",\"-webkit-line-clamp\":\"none|<integer>\",\"-webkit-mask\":\"[<mask-reference>||<position> [/ <bg-size>]?||<repeat-style>||[<box>|border|padding|content|text]||[<box>|border|padding|content]]#\",\"-webkit-mask-attachment\":\"<attachment>#\",\"-webkit-mask-clip\":\"[<box>|border|padding|content|text]#\",\"-webkit-mask-composite\":\"<composite-style>#\",\"-webkit-mask-image\":\"<mask-reference>#\",\"-webkit-mask-origin\":\"[<box>|border|padding|content]#\",\"-webkit-mask-position\":\"<position>#\",\"-webkit-mask-position-x\":\"[<length-percentage>|left|center|right]#\",\"-webkit-mask-position-y\":\"[<length-percentage>|top|center|bottom]#\",\"-webkit-mask-repeat\":\"<repeat-style>#\",\"-webkit-mask-repeat-x\":\"repeat|no-repeat|space|round\",\"-webkit-mask-repeat-y\":\"repeat|no-repeat|space|round\",\"-webkit-mask-size\":\"<bg-size>#\",\"-webkit-overflow-scrolling\":\"auto|touch\",\"-webkit-tap-highlight-color\":\"<color>\",\"-webkit-text-fill-color\":\"<color>\",\"-webkit-text-stroke\":\"<length>||<color>\",\"-webkit-text-stroke-color\":\"<color>\",\"-webkit-text-stroke-width\":\"<length>\",\"-webkit-touch-callout\":\"default|none\",\"-webkit-user-modify\":\"read-only|read-write|read-write-plaintext-only\",\"align-content\":\"normal|<baseline-position>|<content-distribution>|<overflow-position>? <content-position>\",\"align-items\":\"normal|stretch|<baseline-position>|[<overflow-position>? <self-position>]\",\"align-self\":\"auto|normal|stretch|<baseline-position>|<overflow-position>? <self-position>\",all:\"initial|inherit|unset|revert\",animation:\"<single-animation>#\",\"animation-delay\":\"<time>#\",\"animation-direction\":\"<single-animation-direction>#\",\"animation-duration\":\"<time>#\",\"animation-fill-mode\":\"<single-animation-fill-mode>#\",\"animation-iteration-count\":\"<single-animation-iteration-count>#\",\"animation-name\":\"[none|<keyframes-name>]#\",\"animation-play-state\":\"<single-animation-play-state>#\",\"animation-timing-function\":\"<timing-function>#\",appearance:\"none|auto|button|textfield|<compat>\",azimuth:\"<angle>|[[left-side|far-left|left|center-left|center|center-right|right|far-right|right-side]||behind]|leftwards|rightwards\",\"backdrop-filter\":\"none|<filter-function-list>\",\"backface-visibility\":\"visible|hidden\",background:\"[<bg-layer> ,]* <final-bg-layer>\",\"background-attachment\":\"<attachment>#\",\"background-blend-mode\":\"<blend-mode>#\",\"background-clip\":\"<box>#\",\"background-color\":\"<color>\",\"background-image\":\"<bg-image>#\",\"background-origin\":\"<box>#\",\"background-position\":\"<bg-position>#\",\"background-position-x\":\"[center|[left|right|x-start|x-end]? <length-percentage>?]#\",\"background-position-y\":\"[center|[top|bottom|y-start|y-end]? <length-percentage>?]#\",\"background-repeat\":\"<repeat-style>#\",\"background-size\":\"<bg-size>#\",\"block-overflow\":\"clip|ellipsis|<string>\",\"block-size\":\"<'width'>\",border:\"<line-width>||<line-style>||<color>\",\"border-block\":\"<'border-top-width'>||<'border-top-style'>||<'color'>\",\"border-block-color\":\"<'border-top-color'>{1,2}\",\"border-block-style\":\"<'border-top-style'>\",\"border-block-width\":\"<'border-top-width'>\",\"border-block-end\":\"<'border-top-width'>||<'border-top-style'>||<'color'>\",\"border-block-end-color\":\"<'border-top-color'>\",\"border-block-end-style\":\"<'border-top-style'>\",\"border-block-end-width\":\"<'border-top-width'>\",\"border-block-start\":\"<'border-top-width'>||<'border-top-style'>||<'color'>\",\"border-block-start-color\":\"<'border-top-color'>\",\"border-block-start-style\":\"<'border-top-style'>\",\"border-block-start-width\":\"<'border-top-width'>\",\"border-bottom\":\"<line-width>||<line-style>||<color>\",\"border-bottom-color\":\"<'border-top-color'>\",\"border-bottom-left-radius\":\"<length-percentage>{1,2}\",\"border-bottom-right-radius\":\"<length-percentage>{1,2}\",\"border-bottom-style\":\"<line-style>\",\"border-bottom-width\":\"<line-width>\",\"border-collapse\":\"collapse|separate\",\"border-color\":\"<color>{1,4}\",\"border-end-end-radius\":\"<length-percentage>{1,2}\",\"border-end-start-radius\":\"<length-percentage>{1,2}\",\"border-image\":\"<'border-image-source'>||<'border-image-slice'> [/ <'border-image-width'>|/ <'border-image-width'>? / <'border-image-outset'>]?||<'border-image-repeat'>\",\"border-image-outset\":\"[<length>|<number>]{1,4}\",\"border-image-repeat\":\"[stretch|repeat|round|space]{1,2}\",\"border-image-slice\":\"<number-percentage>{1,4}&&fill?\",\"border-image-source\":\"none|<image>\",\"border-image-width\":\"[<length-percentage>|<number>|auto]{1,4}\",\"border-inline\":\"<'border-top-width'>||<'border-top-style'>||<'color'>\",\"border-inline-end\":\"<'border-top-width'>||<'border-top-style'>||<'color'>\",\"border-inline-color\":\"<'border-top-color'>{1,2}\",\"border-inline-style\":\"<'border-top-style'>\",\"border-inline-width\":\"<'border-top-width'>\",\"border-inline-end-color\":\"<'border-top-color'>\",\"border-inline-end-style\":\"<'border-top-style'>\",\"border-inline-end-width\":\"<'border-top-width'>\",\"border-inline-start\":\"<'border-top-width'>||<'border-top-style'>||<'color'>\",\"border-inline-start-color\":\"<'border-top-color'>\",\"border-inline-start-style\":\"<'border-top-style'>\",\"border-inline-start-width\":\"<'border-top-width'>\",\"border-left\":\"<line-width>||<line-style>||<color>\",\"border-left-color\":\"<color>\",\"border-left-style\":\"<line-style>\",\"border-left-width\":\"<line-width>\",\"border-radius\":\"<length-percentage>{1,4} [/ <length-percentage>{1,4}]?\",\"border-right\":\"<line-width>||<line-style>||<color>\",\"border-right-color\":\"<color>\",\"border-right-style\":\"<line-style>\",\"border-right-width\":\"<line-width>\",\"border-spacing\":\"<length> <length>?\",\"border-start-end-radius\":\"<length-percentage>{1,2}\",\"border-start-start-radius\":\"<length-percentage>{1,2}\",\"border-style\":\"<line-style>{1,4}\",\"border-top\":\"<line-width>||<line-style>||<color>\",\"border-top-color\":\"<color>\",\"border-top-left-radius\":\"<length-percentage>{1,2}\",\"border-top-right-radius\":\"<length-percentage>{1,2}\",\"border-top-style\":\"<line-style>\",\"border-top-width\":\"<line-width>\",\"border-width\":\"<line-width>{1,4}\",bottom:\"<length>|<percentage>|auto\",\"box-align\":\"start|center|end|baseline|stretch\",\"box-decoration-break\":\"slice|clone\",\"box-direction\":\"normal|reverse|inherit\",\"box-flex\":\"<number>\",\"box-flex-group\":\"<integer>\",\"box-lines\":\"single|multiple\",\"box-ordinal-group\":\"<integer>\",\"box-orient\":\"horizontal|vertical|inline-axis|block-axis|inherit\",\"box-pack\":\"start|center|end|justify\",\"box-shadow\":\"none|<shadow>#\",\"box-sizing\":\"content-box|border-box\",\"break-after\":\"auto|avoid|always|all|avoid-page|page|left|right|recto|verso|avoid-column|column|avoid-region|region\",\"break-before\":\"auto|avoid|always|all|avoid-page|page|left|right|recto|verso|avoid-column|column|avoid-region|region\",\"break-inside\":\"auto|avoid|avoid-page|avoid-column|avoid-region\",\"caption-side\":\"top|bottom|block-start|block-end|inline-start|inline-end\",\"caret-color\":\"auto|<color>\",clear:\"none|left|right|both|inline-start|inline-end\",clip:\"<shape>|auto\",\"clip-path\":\"<clip-source>|[<basic-shape>||<geometry-box>]|none\",color:\"<color>\",\"color-adjust\":\"economy|exact\",\"column-count\":\"<integer>|auto\",\"column-fill\":\"auto|balance|balance-all\",\"column-gap\":\"normal|<length-percentage>\",\"column-rule\":\"<'column-rule-width'>||<'column-rule-style'>||<'column-rule-color'>\",\"column-rule-color\":\"<color>\",\"column-rule-style\":\"<'border-style'>\",\"column-rule-width\":\"<'border-width'>\",\"column-span\":\"none|all\",\"column-width\":\"<length>|auto\",columns:\"<'column-width'>||<'column-count'>\",contain:\"none|strict|content|[size||layout||style||paint]\",content:\"normal|none|[<content-replacement>|<content-list>] [/ <string>]?\",\"counter-increment\":\"[<custom-ident> <integer>?]+|none\",\"counter-reset\":\"[<custom-ident> <integer>?]+|none\",\"counter-set\":\"[<custom-ident> <integer>?]+|none\",cursor:\"[[<url> [<x> <y>]? ,]* [auto|default|none|context-menu|help|pointer|progress|wait|cell|crosshair|text|vertical-text|alias|copy|move|no-drop|not-allowed|e-resize|n-resize|ne-resize|nw-resize|s-resize|se-resize|sw-resize|w-resize|ew-resize|ns-resize|nesw-resize|nwse-resize|col-resize|row-resize|all-scroll|zoom-in|zoom-out|grab|grabbing|hand|-webkit-grab|-webkit-grabbing|-webkit-zoom-in|-webkit-zoom-out|-moz-grab|-moz-grabbing|-moz-zoom-in|-moz-zoom-out]]\",direction:\"ltr|rtl\",display:\"block|contents|flex|flow|flow-root|grid|inline|inline-block|inline-flex|inline-grid|inline-list-item|inline-table|list-item|none|ruby|ruby-base|ruby-base-container|ruby-text|ruby-text-container|run-in|table|table-caption|table-cell|table-column|table-column-group|table-footer-group|table-header-group|table-row|table-row-group|-ms-flexbox|-ms-inline-flexbox|-ms-grid|-ms-inline-grid|-webkit-flex|-webkit-inline-flex|-webkit-box|-webkit-inline-box|-moz-inline-stack|-moz-box|-moz-inline-box\",\"empty-cells\":\"show|hide\",filter:\"none|<filter-function-list>|<-ms-filter-function-list>\",flex:\"none|[<'flex-grow'> <'flex-shrink'>?||<'flex-basis'>]\",\"flex-basis\":\"content|<'width'>\",\"flex-direction\":\"row|row-reverse|column|column-reverse\",\"flex-flow\":\"<'flex-direction'>||<'flex-wrap'>\",\"flex-grow\":\"<number>\",\"flex-shrink\":\"<number>\",\"flex-wrap\":\"nowrap|wrap|wrap-reverse\",float:\"left|right|none|inline-start|inline-end\",font:\"[[<'font-style'>||<font-variant-css21>||<'font-weight'>||<'font-stretch'>]? <'font-size'> [/ <'line-height'>]? <'font-family'>]|caption|icon|menu|message-box|small-caption|status-bar\",\"font-family\":\"[<family-name>|<generic-family>]#\",\"font-feature-settings\":\"normal|<feature-tag-value>#\",\"font-kerning\":\"auto|normal|none\",\"font-language-override\":\"normal|<string>\",\"font-optical-sizing\":\"auto|none\",\"font-variation-settings\":\"normal|[<string> <number>]#\",\"font-size\":\"<absolute-size>|<relative-size>|<length-percentage>\",\"font-size-adjust\":\"none|<number>\",\"font-stretch\":\"<font-stretch-absolute>\",\"font-style\":\"normal|italic|oblique <angle>?\",\"font-synthesis\":\"none|[weight||style]\",\"font-variant\":\"normal|none|[<common-lig-values>||<discretionary-lig-values>||<historical-lig-values>||<contextual-alt-values>||stylistic( <feature-value-name> )||historical-forms||styleset( <feature-value-name># )||character-variant( <feature-value-name># )||swash( <feature-value-name> )||ornaments( <feature-value-name> )||annotation( <feature-value-name> )||[small-caps|all-small-caps|petite-caps|all-petite-caps|unicase|titling-caps]||<numeric-figure-values>||<numeric-spacing-values>||<numeric-fraction-values>||ordinal||slashed-zero||<east-asian-variant-values>||<east-asian-width-values>||ruby]\",\"font-variant-alternates\":\"normal|[stylistic( <feature-value-name> )||historical-forms||styleset( <feature-value-name># )||character-variant( <feature-value-name># )||swash( <feature-value-name> )||ornaments( <feature-value-name> )||annotation( <feature-value-name> )]\",\"font-variant-caps\":\"normal|small-caps|all-small-caps|petite-caps|all-petite-caps|unicase|titling-caps\",\"font-variant-east-asian\":\"normal|[<east-asian-variant-values>||<east-asian-width-values>||ruby]\",\"font-variant-ligatures\":\"normal|none|[<common-lig-values>||<discretionary-lig-values>||<historical-lig-values>||<contextual-alt-values>]\",\"font-variant-numeric\":\"normal|[<numeric-figure-values>||<numeric-spacing-values>||<numeric-fraction-values>||ordinal||slashed-zero]\",\"font-variant-position\":\"normal|sub|super\",\"font-weight\":\"<font-weight-absolute>|bolder|lighter\",gap:\"<'row-gap'> <'column-gap'>?\",grid:\"<'grid-template'>|<'grid-template-rows'> / [auto-flow&&dense?] <'grid-auto-columns'>?|[auto-flow&&dense?] <'grid-auto-rows'>? / <'grid-template-columns'>\",\"grid-area\":\"<grid-line> [/ <grid-line>]{0,3}\",\"grid-auto-columns\":\"<track-size>+\",\"grid-auto-flow\":\"[row|column]||dense\",\"grid-auto-rows\":\"<track-size>+\",\"grid-column\":\"<grid-line> [/ <grid-line>]?\",\"grid-column-end\":\"<grid-line>\",\"grid-column-gap\":\"<length-percentage>\",\"grid-column-start\":\"<grid-line>\",\"grid-gap\":\"<'grid-row-gap'> <'grid-column-gap'>?\",\"grid-row\":\"<grid-line> [/ <grid-line>]?\",\"grid-row-end\":\"<grid-line>\",\"grid-row-gap\":\"<length-percentage>\",\"grid-row-start\":\"<grid-line>\",\"grid-template\":\"none|[<'grid-template-rows'> / <'grid-template-columns'>]|[<line-names>? <string> <track-size>? <line-names>?]+ [/ <explicit-track-list>]?\",\"grid-template-areas\":\"none|<string>+\",\"grid-template-columns\":\"none|<track-list>|<auto-track-list>\",\"grid-template-rows\":\"none|<track-list>|<auto-track-list>\",\"hanging-punctuation\":\"none|[first||[force-end|allow-end]||last]\",height:\"[<length>|<percentage>]&&[border-box|content-box]?|available|min-content|max-content|fit-content|auto\",hyphens:\"none|manual|auto\",\"image-orientation\":\"from-image|<angle>|[<angle>? flip]\",\"image-rendering\":\"auto|crisp-edges|pixelated|optimizeSpeed|optimizeQuality|<-non-standard-image-rendering>\",\"image-resolution\":\"[from-image||<resolution>]&&snap?\",\"ime-mode\":\"auto|normal|active|inactive|disabled\",\"initial-letter\":\"normal|[<number> <integer>?]\",\"initial-letter-align\":\"[auto|alphabetic|hanging|ideographic]\",\"inline-size\":\"<'width'>\",inset:\"<'top'>{1,4}\",\"inset-block\":\"<'top'>{1,2}\",\"inset-block-end\":\"<'top'>\",\"inset-block-start\":\"<'top'>\",\"inset-inline\":\"<'top'>{1,2}\",\"inset-inline-end\":\"<'top'>\",\"inset-inline-start\":\"<'top'>\",isolation:\"auto|isolate\",\"justify-content\":\"normal|<content-distribution>|<overflow-position>? [<content-position>|left|right]\",\"justify-items\":\"normal|stretch|<baseline-position>|<overflow-position>? [<self-position>|left|right]|legacy|legacy&&[left|right|center]\",\"justify-self\":\"auto|normal|stretch|<baseline-position>|<overflow-position>? [<self-position>|left|right]\",left:\"<length>|<percentage>|auto\",\"letter-spacing\":\"normal|<length-percentage>\",\"line-break\":\"auto|loose|normal|strict\",\"line-clamp\":\"none|<integer>\",\"line-height\":\"normal|<number>|<length>|<percentage>\",\"line-height-step\":\"<length>\",\"list-style\":\"<'list-style-type'>||<'list-style-position'>||<'list-style-image'>\",\"list-style-image\":\"<url>|none\",\"list-style-position\":\"inside|outside\",\"list-style-type\":\"<counter-style>|<string>|none\",margin:\"[<length>|<percentage>|auto]{1,4}\",\"margin-block\":\"<'margin-left'>{1,2}\",\"margin-block-end\":\"<'margin-left'>\",\"margin-block-start\":\"<'margin-left'>\",\"margin-bottom\":\"<length>|<percentage>|auto\",\"margin-inline\":\"<'margin-left'>{1,2}\",\"margin-inline-end\":\"<'margin-left'>\",\"margin-inline-start\":\"<'margin-left'>\",\"margin-left\":\"<length>|<percentage>|auto\",\"margin-right\":\"<length>|<percentage>|auto\",\"margin-top\":\"<length>|<percentage>|auto\",mask:\"<mask-layer>#\",\"mask-border\":\"<'mask-border-source'>||<'mask-border-slice'> [/ <'mask-border-width'>? [/ <'mask-border-outset'>]?]?||<'mask-border-repeat'>||<'mask-border-mode'>\",\"mask-border-mode\":\"luminance|alpha\",\"mask-border-outset\":\"[<length>|<number>]{1,4}\",\"mask-border-repeat\":\"[stretch|repeat|round|space]{1,2}\",\"mask-border-slice\":\"<number-percentage>{1,4} fill?\",\"mask-border-source\":\"none|<image>\",\"mask-border-width\":\"[<length-percentage>|<number>|auto]{1,4}\",\"mask-clip\":\"[<geometry-box>|no-clip]#\",\"mask-composite\":\"<compositing-operator>#\",\"mask-image\":\"<mask-reference>#\",\"mask-mode\":\"<masking-mode>#\",\"mask-origin\":\"<geometry-box>#\",\"mask-position\":\"<position>#\",\"mask-repeat\":\"<repeat-style>#\",\"mask-size\":\"<bg-size>#\",\"mask-type\":\"luminance|alpha\",\"max-block-size\":\"<'max-width'>\",\"max-height\":\"<length>|<percentage>|none|max-content|min-content|fit-content|fill-available\",\"max-inline-size\":\"<'max-width'>\",\"max-lines\":\"none|<integer>\",\"max-width\":\"<length>|<percentage>|none|max-content|min-content|fit-content|fill-available|<-non-standard-width>\",\"min-block-size\":\"<'min-width'>\",\"min-height\":\"<length>|<percentage>|auto|max-content|min-content|fit-content|fill-available\",\"min-inline-size\":\"<'min-width'>\",\"min-width\":\"<length>|<percentage>|auto|max-content|min-content|fit-content|fill-available|<-non-standard-width>\",\"mix-blend-mode\":\"<blend-mode>\",\"object-fit\":\"fill|contain|cover|none|scale-down\",\"object-position\":\"<position>\",offset:\"[<'offset-position'>? [<'offset-path'> [<'offset-distance'>||<'offset-rotate'>]?]?]! [/ <'offset-anchor'>]?\",\"offset-anchor\":\"auto|<position>\",\"offset-distance\":\"<length-percentage>\",\"offset-path\":\"none|ray( [<angle>&&<size>?&&contain?] )|<path()>|<url>|[<basic-shape>||<geometry-box>]\",\"offset-position\":\"auto|<position>\",\"offset-rotate\":\"[auto|reverse]||<angle>\",opacity:\"<number-zero-one>\",order:\"<integer>\",orphans:\"<integer>\",outline:\"[<'outline-color'>||<'outline-style'>||<'outline-width'>]\",\"outline-color\":\"<color>|invert\",\"outline-offset\":\"<length>\",\"outline-style\":\"auto|<'border-style'>\",\"outline-width\":\"<line-width>\",overflow:\"[visible|hidden|clip|scroll|auto]{1,2}|<-non-standard-overflow>\",\"overflow-anchor\":\"auto|none\",\"overflow-block\":\"visible|hidden|clip|scroll|auto\",\"overflow-clip-box\":\"padding-box|content-box\",\"overflow-inline\":\"visible|hidden|clip|scroll|auto\",\"overflow-wrap\":\"normal|break-word|anywhere\",\"overflow-x\":\"visible|hidden|clip|scroll|auto\",\"overflow-y\":\"visible|hidden|clip|scroll|auto\",\"overscroll-behavior\":\"[contain|none|auto]{1,2}\",\"overscroll-behavior-x\":\"contain|none|auto\",\"overscroll-behavior-y\":\"contain|none|auto\",padding:\"[<length>|<percentage>]{1,4}\",\"padding-block\":\"<'padding-left'>{1,2}\",\"padding-block-end\":\"<'padding-left'>\",\"padding-block-start\":\"<'padding-left'>\",\"padding-bottom\":\"<length>|<percentage>\",\"padding-inline\":\"<'padding-left'>{1,2}\",\"padding-inline-end\":\"<'padding-left'>\",\"padding-inline-start\":\"<'padding-left'>\",\"padding-left\":\"<length>|<percentage>\",\"padding-right\":\"<length>|<percentage>\",\"padding-top\":\"<length>|<percentage>\",\"page-break-after\":\"auto|always|avoid|left|right|recto|verso\",\"page-break-before\":\"auto|always|avoid|left|right|recto|verso\",\"page-break-inside\":\"auto|avoid\",\"paint-order\":\"normal|[fill||stroke||markers]\",perspective:\"none|<length>\",\"perspective-origin\":\"<position>\",\"place-content\":\"<'align-content'> <'justify-content'>?\",\"place-items\":\"<'align-items'> <'justify-items'>?\",\"place-self\":\"<'align-self'> <'justify-self'>?\",\"pointer-events\":\"auto|none|visiblePainted|visibleFill|visibleStroke|visible|painted|fill|stroke|all|inherit\",position:\"static|relative|absolute|sticky|fixed|-webkit-sticky\",quotes:\"none|[<string> <string>]+\",resize:\"none|both|horizontal|vertical|block|inline\",right:\"<length>|<percentage>|auto\",rotate:\"none|<angle>|[x|y|z|<number>{3}]&&<angle>\",\"row-gap\":\"normal|<length-percentage>\",\"ruby-align\":\"start|center|space-between|space-around\",\"ruby-merge\":\"separate|collapse|auto\",\"ruby-position\":\"over|under|inter-character\",scale:\"none|<number>{1,3}\",\"scrollbar-color\":\"auto|dark|light|<color>{2}\",\"scrollbar-width\":\"auto|thin|none\",\"scroll-behavior\":\"auto|smooth\",\"scroll-margin\":\"<length>{1,4}\",\"scroll-margin-block\":\"<length>{1,2}\",\"scroll-margin-block-start\":\"<length>\",\"scroll-margin-block-end\":\"<length>\",\"scroll-margin-bottom\":\"<length>\",\"scroll-margin-inline\":\"<length>{1,2}\",\"scroll-margin-inline-start\":\"<length>\",\"scroll-margin-inline-end\":\"<length>\",\"scroll-margin-left\":\"<length>\",\"scroll-margin-right\":\"<length>\",\"scroll-margin-top\":\"<length>\",\"scroll-padding\":\"[auto|<length-percentage>]{1,4}\",\"scroll-padding-block\":\"[auto|<length-percentage>]{1,2}\",\"scroll-padding-block-start\":\"auto|<length-percentage>\",\"scroll-padding-block-end\":\"auto|<length-percentage>\",\"scroll-padding-bottom\":\"auto|<length-percentage>\",\"scroll-padding-inline\":\"[auto|<length-percentage>]{1,2}\",\"scroll-padding-inline-start\":\"auto|<length-percentage>\",\"scroll-padding-inline-end\":\"auto|<length-percentage>\",\"scroll-padding-left\":\"auto|<length-percentage>\",\"scroll-padding-right\":\"auto|<length-percentage>\",\"scroll-padding-top\":\"auto|<length-percentage>\",\"scroll-snap-align\":\"[none|start|end|center]{1,2}\",\"scroll-snap-coordinate\":\"none|<position>#\",\"scroll-snap-destination\":\"<position>\",\"scroll-snap-points-x\":\"none|repeat( <length-percentage> )\",\"scroll-snap-points-y\":\"none|repeat( <length-percentage> )\",\"scroll-snap-stop\":\"normal|always\",\"scroll-snap-type\":\"none|[x|y|block|inline|both] [mandatory|proximity]?\",\"scroll-snap-type-x\":\"none|mandatory|proximity\",\"scroll-snap-type-y\":\"none|mandatory|proximity\",\"shape-image-threshold\":\"<number>\",\"shape-margin\":\"<length-percentage>\",\"shape-outside\":\"none|<shape-box>||<basic-shape>|<image>\",\"tab-size\":\"<integer>|<length>\",\"table-layout\":\"auto|fixed\",\"text-align\":\"start|end|left|right|center|justify|match-parent\",\"text-align-last\":\"auto|start|end|left|right|center|justify\",\"text-combine-upright\":\"none|all|[digits <integer>?]\",\"text-decoration\":\"<'text-decoration-line'>||<'text-decoration-style'>||<'text-decoration-color'>\",\"text-decoration-color\":\"<color>\",\"text-decoration-line\":\"none|[underline||overline||line-through||blink]\",\"text-decoration-skip\":\"none|[objects||[spaces|[leading-spaces||trailing-spaces]]||edges||box-decoration]\",\"text-decoration-skip-ink\":\"auto|none\",\"text-decoration-style\":\"solid|double|dotted|dashed|wavy\",\"text-emphasis\":\"<'text-emphasis-style'>||<'text-emphasis-color'>\",\"text-emphasis-color\":\"<color>\",\"text-emphasis-position\":\"[over|under]&&[right|left]\",\"text-emphasis-style\":\"none|[[filled|open]||[dot|circle|double-circle|triangle|sesame]]|<string>\",\"text-indent\":\"<length-percentage>&&hanging?&&each-line?\",\"text-justify\":\"auto|inter-character|inter-word|none\",\"text-orientation\":\"mixed|upright|sideways\",\"text-overflow\":\"[clip|ellipsis|<string>]{1,2}\",\"text-rendering\":\"auto|optimizeSpeed|optimizeLegibility|geometricPrecision\",\"text-shadow\":\"none|<shadow-t>#\",\"text-size-adjust\":\"none|auto|<percentage>\",\"text-transform\":\"none|capitalize|uppercase|lowercase|full-width|full-size-kana\",\"text-underline-position\":\"auto|[under||[left|right]]\",top:\"<length>|<percentage>|auto\",\"touch-action\":\"auto|none|[[pan-x|pan-left|pan-right]||[pan-y|pan-up|pan-down]||pinch-zoom]|manipulation\",transform:\"none|<transform-list>\",\"transform-box\":\"border-box|fill-box|view-box\",\"transform-origin\":\"[<length-percentage>|left|center|right|top|bottom]|[[<length-percentage>|left|center|right]&&[<length-percentage>|top|center|bottom]] <length>?\",\"transform-style\":\"flat|preserve-3d\",transition:\"<single-transition>#\",\"transition-delay\":\"<time>#\",\"transition-duration\":\"<time>#\",\"transition-property\":\"none|<single-transition-property>#\",\"transition-timing-function\":\"<timing-function>#\",translate:\"none|<length-percentage> [<length-percentage> <length>?]?\",\"unicode-bidi\":\"normal|embed|isolate|bidi-override|isolate-override|plaintext|-moz-isolate|-moz-isolate-override|-moz-plaintext|-webkit-isolate\",\"user-select\":\"auto|text|none|contain|all\",\"vertical-align\":\"baseline|sub|super|text-top|text-bottom|middle|top|bottom|<percentage>|<length>\",visibility:\"visible|hidden|collapse\",\"white-space\":\"normal|pre|nowrap|pre-wrap|pre-line\",widows:\"<integer>\",width:\"[<length>|<percentage>]&&[border-box|content-box]?|available|min-content|max-content|fit-content|auto\",\"will-change\":\"auto|<animateable-feature>#\",\"word-break\":\"normal|break-all|keep-all|break-word\",\"word-spacing\":\"normal|<length-percentage>\",\"word-wrap\":\"normal|break-word\",\"writing-mode\":\"horizontal-tb|vertical-rl|vertical-lr|sideways-rl|sideways-lr|<svg-writing-mode>\",\"z-index\":\"auto|<integer>\",zoom:\"normal|reset|<number>|<percentage>\",\"-moz-background-clip\":\"padding|border\",\"-moz-border-radius-bottomleft\":\"<'border-bottom-left-radius'>\",\"-moz-border-radius-bottomright\":\"<'border-bottom-right-radius'>\",\"-moz-border-radius-topleft\":\"<'border-top-left-radius'>\",\"-moz-border-radius-topright\":\"<'border-bottom-right-radius'>\",\"-moz-control-character-visibility\":\"visible|hidden\",\"-moz-osx-font-smoothing\":\"auto|grayscale\",\"-moz-user-select\":\"none|text|all|-moz-none\",\"-ms-flex-align\":\"start|end|center|baseline|stretch\",\"-ms-flex-item-align\":\"auto|start|end|center|baseline|stretch\",\"-ms-flex-line-pack\":\"start|end|center|justify|distribute|stretch\",\"-ms-flex-negative\":\"<'flex-shrink'>\",\"-ms-flex-pack\":\"start|end|center|justify|distribute\",\"-ms-flex-order\":\"<integer>\",\"-ms-flex-positive\":\"<'flex-grow'>\",\"-ms-flex-preferred-size\":\"<'flex-basis'>\",\"-ms-interpolation-mode\":\"nearest-neighbor|bicubic\",\"-ms-grid-column-align\":\"start|end|center|stretch\",\"-ms-grid-columns\":\"<track-list-v0>\",\"-ms-grid-row-align\":\"start|end|center|stretch\",\"-ms-grid-rows\":\"<track-list-v0>\",\"-ms-hyphenate-limit-last\":\"none|always|column|page|spread\",\"-webkit-background-clip\":\"[<box>|border|padding|content|text]#\",\"-webkit-column-break-after\":\"always|auto|avoid\",\"-webkit-column-break-before\":\"always|auto|avoid\",\"-webkit-column-break-inside\":\"always|auto|avoid\",\"-webkit-font-smoothing\":\"auto|none|antialiased|subpixel-antialiased\",\"-webkit-mask-box-image\":\"[<url>|<gradient>|none] [<length-percentage>{4} <-webkit-mask-box-repeat>{2}]?\",\"-webkit-print-color-adjust\":\"economy|exact\",\"-webkit-text-security\":\"none|circle|disc|square\",\"-webkit-user-drag\":\"none|element|auto\",\"-webkit-user-select\":\"auto|none|text|all\",\"alignment-baseline\":\"auto|baseline|before-edge|text-before-edge|middle|central|after-edge|text-after-edge|ideographic|alphabetic|hanging|mathematical\",\"baseline-shift\":\"baseline|sub|super|<svg-length>\",behavior:\"<url>+\",\"clip-rule\":\"nonzero|evenodd\",cue:\"<'cue-before'> <'cue-after'>?\",\"cue-after\":\"<url> <decibel>?|none\",\"cue-before\":\"<url> <decibel>?|none\",\"dominant-baseline\":\"auto|use-script|no-change|reset-size|ideographic|alphabetic|hanging|mathematical|central|middle|text-after-edge|text-before-edge\",fill:\"<paint>\",\"fill-opacity\":\"<number-zero-one>\",\"fill-rule\":\"nonzero|evenodd\",\"glyph-orientation-horizontal\":\"<angle>\",\"glyph-orientation-vertical\":\"<angle>\",kerning:\"auto|<svg-length>\",marker:\"none|<url>\",\"marker-end\":\"none|<url>\",\"marker-mid\":\"none|<url>\",\"marker-start\":\"none|<url>\",pause:\"<'pause-before'> <'pause-after'>?\",\"pause-after\":\"<time>|none|x-weak|weak|medium|strong|x-strong\",\"pause-before\":\"<time>|none|x-weak|weak|medium|strong|x-strong\",rest:\"<'rest-before'> <'rest-after'>?\",\"rest-after\":\"<time>|none|x-weak|weak|medium|strong|x-strong\",\"rest-before\":\"<time>|none|x-weak|weak|medium|strong|x-strong\",\"shape-rendering\":\"auto|optimizeSpeed|crispEdges|geometricPrecision\",src:\"[<url> [format( <string># )]?|local( <family-name> )]#\",speak:\"auto|none|normal\",\"speak-as\":\"normal|spell-out||digits||[literal-punctuation|no-punctuation]\",stroke:\"<paint>\",\"stroke-dasharray\":\"none|[<svg-length>+]#\",\"stroke-dashoffset\":\"<svg-length>\",\"stroke-linecap\":\"butt|round|square\",\"stroke-linejoin\":\"miter|round|bevel\",\"stroke-miterlimit\":\"<number-one-or-greater>\",\"stroke-opacity\":\"<number-zero-one>\",\"stroke-width\":\"<svg-length>\",\"text-anchor\":\"start|middle|end\",\"unicode-range\":\"<urange>#\",\"voice-balance\":\"<number>|left|center|right|leftwards|rightwards\",\"voice-duration\":\"auto|<time>\",\"voice-family\":\"[[<family-name>|<generic-voice>] ,]* [<family-name>|<generic-voice>]|preserve\",\"voice-pitch\":\"<frequency>&&absolute|[[x-low|low|medium|high|x-high]||[<frequency>|<semitones>|<percentage>]]\",\"voice-range\":\"<frequency>&&absolute|[[x-low|low|medium|high|x-high]||[<frequency>|<semitones>|<percentage>]]\",\"voice-rate\":\"[normal|x-slow|slow|medium|fast|x-fast]||<percentage>\",\"voice-stress\":\"normal|strong|moderate|none|reduced\",\"voice-volume\":\"silent|[[x-soft|soft|medium|loud|x-loud]||<decibel>]\"},Dr={generic:!0,types:Er,properties:Or},Rr=Object.freeze({__proto__:null,generic:!0,types:Er,properties:Or,default:Dr}),Ir=Se.cmpChar,Mr=Se.isDigit,Nr=Se.TYPE,Br=Nr.WhiteSpace,jr=Nr.Comment,_r=Nr.Ident,qr=Nr.Number,Wr=Nr.Dimension;function Fr(e,t){var n=this.scanner.tokenStart+e,r=this.scanner.source.charCodeAt(n);for(43!==r&&45!==r||(t&&this.error(\"Number sign is not allowed\"),n++);n<this.scanner.tokenEnd;n++)Mr(this.scanner.source.charCodeAt(n))||this.error(\"Integer is expected\",n)}function Ur(e){return Fr.call(this,0,e)}function Yr(e,t){if(!Ir(this.scanner.source,this.scanner.tokenStart+e,t)){var n=\"\";switch(t){case 110:n=\"N is expected\";break;case 45:n=\"HyphenMinus is expected\"}this.error(n,this.scanner.tokenStart+e)}}function Hr(){for(var e=0,t=0,n=this.scanner.tokenType;n===Br||n===jr;)n=this.scanner.lookupType(++e);if(n!==qr){if(!this.scanner.isDelim(43,e)&&!this.scanner.isDelim(45,e))return null;t=this.scanner.isDelim(43,e)?43:45;do{n=this.scanner.lookupType(++e)}while(n===Br||n===jr);n!==qr&&(this.scanner.skip(e),Ur.call(this,!0))}return e>0&&this.scanner.skip(e),0===t&&43!==(n=this.scanner.source.charCodeAt(this.scanner.tokenStart))&&45!==n&&this.error(\"Number sign is expected\"),Ur.call(this,0!==t),45===t?\"-\"+this.consume(qr):this.consume(qr)}var Vr={name:\"AnPlusB\",structure:{a:[String,null],b:[String,null]},parse:function(){var e=this.scanner.tokenStart,t=null,n=null;if(this.scanner.tokenType===qr)Ur.call(this,!1),n=this.consume(qr);else if(this.scanner.tokenType===_r&&Ir(this.scanner.source,this.scanner.tokenStart,45))switch(t=\"-1\",Yr.call(this,1,110),this.scanner.getTokenLength()){case 2:this.scanner.next(),n=Hr.call(this);break;case 3:Yr.call(this,2,45),this.scanner.next(),this.scanner.skipSC(),Ur.call(this,!0),n=\"-\"+this.consume(qr);break;default:Yr.call(this,2,45),Fr.call(this,3,!0),this.scanner.next(),n=this.scanner.substrToCursor(e+2)}else if(this.scanner.tokenType===_r||this.scanner.isDelim(43)&&this.scanner.lookupType(1)===_r){var r=0;switch(t=\"1\",this.scanner.isDelim(43)&&(r=1,this.scanner.next()),Yr.call(this,0,110),this.scanner.getTokenLength()){case 1:this.scanner.next(),n=Hr.call(this);break;case 2:Yr.call(this,1,45),this.scanner.next(),this.scanner.skipSC(),Ur.call(this,!0),n=\"-\"+this.consume(qr);break;default:Yr.call(this,1,45),Fr.call(this,2,!0),this.scanner.next(),n=this.scanner.substrToCursor(e+r+1)}}else if(this.scanner.tokenType===Wr){for(var a=this.scanner.source.charCodeAt(this.scanner.tokenStart),i=(r=43===a||45===a,this.scanner.tokenStart+r);i<this.scanner.tokenEnd&&Mr(this.scanner.source.charCodeAt(i));i++);i===this.scanner.tokenStart+r&&this.error(\"Integer is expected\",this.scanner.tokenStart+r),Yr.call(this,i-this.scanner.tokenStart,110),t=this.scanner.source.substring(e,i),i+1===this.scanner.tokenEnd?(this.scanner.next(),n=Hr.call(this)):(Yr.call(this,i-this.scanner.tokenStart+1,45),i+2===this.scanner.tokenEnd?(this.scanner.next(),this.scanner.skipSC(),Ur.call(this,!0),n=\"-\"+this.consume(qr)):(Fr.call(this,i-this.scanner.tokenStart+2,!0),this.scanner.next(),n=this.scanner.substrToCursor(i+1)))}else this.error();return null!==t&&43===t.charCodeAt(0)&&(t=t.substr(1)),null!==n&&43===n.charCodeAt(0)&&(n=n.substr(1)),{type:\"AnPlusB\",loc:this.getLocation(e,this.scanner.tokenStart),a:t,b:n}},generate:function(e){var t=null!==e.a&&void 0!==e.a,n=null!==e.b&&void 0!==e.b;t?(this.chunk(\"+1\"===e.a?\"+n\":\"1\"===e.a?\"n\":\"-1\"===e.a?\"-n\":e.a+\"n\"),n&&(\"-\"===(n=String(e.b)).charAt(0)||\"+\"===n.charAt(0)?(this.chunk(n.charAt(0)),this.chunk(n.substr(1))):(this.chunk(\"+\"),this.chunk(n)))):this.chunk(String(e.b))}},Kr=Se.TYPE,Gr=Kr.WhiteSpace,$r=Kr.Semicolon,Qr=Kr.LeftCurlyBracket,Xr=Kr.Delim;function Zr(){return this.scanner.tokenIndex>0&&this.scanner.lookupType(-1)===Gr?this.scanner.tokenIndex>1?this.scanner.getTokenStart(this.scanner.tokenIndex-1):this.scanner.firstCharOffset:this.scanner.tokenStart}function Jr(){return 0}var ea={name:\"Raw\",structure:{value:String},parse:function(e,t,n){var r,a=this.scanner.getTokenStart(e);return this.scanner.skip(this.scanner.getRawLength(e,t||Jr)),r=n&&this.scanner.tokenStart>a?Zr.call(this):this.scanner.tokenStart,{type:\"Raw\",loc:this.getLocation(a,r),value:this.scanner.source.substring(a,r)}},generate:function(e){this.chunk(e.value)},mode:{default:Jr,leftCurlyBracket:function(e){return e===Qr?1:0},leftCurlyBracketOrSemicolon:function(e){return e===Qr||e===$r?1:0},exclamationMarkOrSemicolon:function(e,t,n){return e===Xr&&33===t.charCodeAt(n)||e===$r?1:0},semicolonIncluded:function(e){return e===$r?2:0}}},ta=Se.TYPE,na=ea.mode,ra=ta.AtKeyword,aa=ta.Semicolon,ia=ta.LeftCurlyBracket,oa=ta.RightCurlyBracket;function sa(e){return this.Raw(e,na.leftCurlyBracketOrSemicolon,!0)}function la(){for(var e,t=1;e=this.scanner.lookupType(t);t++){if(e===oa)return!0;if(e===ia||e===ra)return!1}return!1}var ca={name:\"Atrule\",structure:{name:String,prelude:[\"AtrulePrelude\",\"Raw\",null],block:[\"Block\",null]},parse:function(){var e,t,n=this.scanner.tokenStart,r=null,a=null;switch(this.eat(ra),t=(e=this.scanner.substrToCursor(n+1)).toLowerCase(),this.scanner.skipSC(),!1===this.scanner.eof&&this.scanner.tokenType!==ia&&this.scanner.tokenType!==aa&&(this.parseAtrulePrelude?\"AtrulePrelude\"===(r=this.parseWithFallback(this.AtrulePrelude.bind(this,e),sa)).type&&null===r.children.head&&(r=null):r=sa.call(this,this.scanner.tokenIndex),this.scanner.skipSC()),this.scanner.tokenType){case aa:this.scanner.next();break;case ia:a=this.atrule.hasOwnProperty(t)&&\"function\"==typeof this.atrule[t].block?this.atrule[t].block.call(this):this.Block(la.call(this))}return{type:\"Atrule\",loc:this.getLocation(n,this.scanner.tokenStart),name:e,prelude:r,block:a}},generate:function(e){this.chunk(\"@\"),this.chunk(e.name),null!==e.prelude&&(this.chunk(\" \"),this.node(e.prelude)),e.block?this.node(e.block):this.chunk(\";\")},walkContext:\"atrule\"},ua=Se.TYPE,ha=ua.Semicolon,da=ua.LeftCurlyBracket,pa={name:\"AtrulePrelude\",structure:{children:[[]]},parse:function(e){var t=null;return null!==e&&(e=e.toLowerCase()),this.scanner.skipSC(),t=this.atrule.hasOwnProperty(e)&&\"function\"==typeof this.atrule[e].prelude?this.atrule[e].prelude.call(this):this.readSequence(this.scope.AtrulePrelude),this.scanner.skipSC(),!0!==this.scanner.eof&&this.scanner.tokenType!==da&&this.scanner.tokenType!==ha&&this.error(\"Semicolon or block is expected\"),null===t&&(t=this.createList()),{type:\"AtrulePrelude\",loc:this.getLocationFromList(t),children:t}},generate:function(e){this.children(e)},walkContext:\"atrulePrelude\"},fa=Se.TYPE,ma=fa.Ident,ga=fa.String,ba=fa.Colon,ya=fa.LeftSquareBracket,ka=fa.RightSquareBracket;function va(){this.scanner.eof&&this.error(\"Unexpected end of input\");var e=this.scanner.tokenStart,t=!1,n=!0;return this.scanner.isDelim(42)?(t=!0,n=!1,this.scanner.next()):this.scanner.isDelim(124)||this.eat(ma),this.scanner.isDelim(124)?61!==this.scanner.source.charCodeAt(this.scanner.tokenStart+1)?(this.scanner.next(),this.eat(ma)):t&&this.error(\"Identifier is expected\",this.scanner.tokenEnd):t&&this.error(\"Vertical line is expected\"),n&&this.scanner.tokenType===ba&&(this.scanner.next(),this.eat(ma)),{type:\"Identifier\",loc:this.getLocation(e,this.scanner.tokenStart),name:this.scanner.substrToCursor(e)}}function wa(){var e=this.scanner.tokenStart,t=this.scanner.source.charCodeAt(e);return 61!==t&&126!==t&&94!==t&&36!==t&&42!==t&&124!==t&&this.error(\"Attribute selector (=, ~=, ^=, $=, *=, |=) is expected\"),this.scanner.next(),61!==t&&(this.scanner.isDelim(61)||this.error(\"Equal sign is expected\"),this.scanner.next()),this.scanner.substrToCursor(e)}var xa={name:\"AttributeSelector\",structure:{name:\"Identifier\",matcher:[String,null],value:[\"String\",\"Identifier\",null],flags:[String,null]},parse:function(){var e,t=this.scanner.tokenStart,n=null,r=null,a=null;return this.eat(ya),this.scanner.skipSC(),e=va.call(this),this.scanner.skipSC(),this.scanner.tokenType!==ka&&(this.scanner.tokenType!==ma&&(n=wa.call(this),this.scanner.skipSC(),r=this.scanner.tokenType===ga?this.String():this.Identifier(),this.scanner.skipSC()),this.scanner.tokenType===ma&&(a=this.scanner.getTokenValue(),this.scanner.next(),this.scanner.skipSC())),this.eat(ka),{type:\"AttributeSelector\",loc:this.getLocation(t,this.scanner.tokenStart),name:e,matcher:n,value:r,flags:a}},generate:function(e){var t=\" \";this.chunk(\"[\"),this.node(e.name),null!==e.matcher&&(this.chunk(e.matcher),null!==e.value&&(this.node(e.value),\"String\"===e.value.type&&(t=\"\"))),null!==e.flags&&(this.chunk(t),this.chunk(e.flags)),this.chunk(\"]\")}},Sa=Se.TYPE,Ca=ea.mode,Aa=Sa.WhiteSpace,za=Sa.Comment,Pa=Sa.Semicolon,La=Sa.AtKeyword,Ta=Sa.LeftCurlyBracket,Ea=Sa.RightCurlyBracket;function Oa(e){return this.Raw(e,null,!0)}function Da(){return this.parseWithFallback(this.Rule,Oa)}function Ra(e){return this.Raw(e,Ca.semicolonIncluded,!0)}function Ia(){if(this.scanner.tokenType===Pa)return Ra.call(this,this.scanner.tokenIndex);var e=this.parseWithFallback(this.Declaration,Ra);return this.scanner.tokenType===Pa&&this.scanner.next(),e}var Ma={name:\"Block\",structure:{children:[[\"Atrule\",\"Rule\",\"Declaration\"]]},parse:function(e){var t=e?Ia:Da,n=this.scanner.tokenStart,r=this.createList();this.eat(Ta);e:for(;!this.scanner.eof;)switch(this.scanner.tokenType){case Ea:break e;case Aa:case za:this.scanner.next();break;case La:r.push(this.parseWithFallback(this.Atrule,Oa));break;default:r.push(t.call(this))}return this.scanner.eof||this.eat(Ea),{type:\"Block\",loc:this.getLocation(n,this.scanner.tokenStart),children:r}},generate:function(e){this.chunk(\"{\"),this.children(e,(function(e){\"Declaration\"===e.type&&this.chunk(\";\")})),this.chunk(\"}\")},walkContext:\"block\"},Na=Se.TYPE,Ba=Na.LeftSquareBracket,ja=Na.RightSquareBracket,_a={name:\"Brackets\",structure:{children:[[]]},parse:function(e,t){var n,r=this.scanner.tokenStart;return this.eat(Ba),n=e.call(this,t),this.scanner.eof||this.eat(ja),{type:\"Brackets\",loc:this.getLocation(r,this.scanner.tokenStart),children:n}},generate:function(e){this.chunk(\"[\"),this.children(e),this.chunk(\"]\")}},qa=Se.TYPE.CDC,Wa={name:\"CDC\",structure:[],parse:function(){var e=this.scanner.tokenStart;return this.eat(qa),{type:\"CDC\",loc:this.getLocation(e,this.scanner.tokenStart)}},generate:function(){this.chunk(\"--\\x3e\")}},Fa=Se.TYPE.CDO,Ua={name:\"CDO\",structure:[],parse:function(){var e=this.scanner.tokenStart;return this.eat(Fa),{type:\"CDO\",loc:this.getLocation(e,this.scanner.tokenStart)}},generate:function(){this.chunk(\"\\x3c!--\")}},Ya=Se.TYPE.Ident,Ha={name:\"ClassSelector\",structure:{name:String},parse:function(){return this.scanner.isDelim(46)||this.error(\"Full stop is expected\"),this.scanner.next(),{type:\"ClassSelector\",loc:this.getLocation(this.scanner.tokenStart-1,this.scanner.tokenEnd),name:this.consume(Ya)}},generate:function(e){this.chunk(\".\"),this.chunk(e.name)}},Va=Se.TYPE.Ident,Ka={name:\"Combinator\",structure:{name:String},parse:function(){var e=this.scanner.tokenStart;switch(this.scanner.source.charCodeAt(this.scanner.tokenStart)){case 62:case 43:case 126:this.scanner.next();break;case 47:this.scanner.next(),this.scanner.tokenType===Va&&!1!==this.scanner.lookupValue(0,\"deep\")||this.error(\"Identifier `deep` is expected\"),this.scanner.next(),this.scanner.isDelim(47)||this.error(\"Solidus is expected\"),this.scanner.next();break;default:this.error(\"Combinator is expected\")}return{type:\"Combinator\",loc:this.getLocation(e,this.scanner.tokenStart),name:this.scanner.substrToCursor(e)}},generate:function(e){this.chunk(e.name)}},Ga=Se.TYPE.Comment,$a={name:\"Comment\",structure:{value:String},parse:function(){var e=this.scanner.tokenStart,t=this.scanner.tokenEnd;return this.eat(Ga),t-e+2>=2&&42===this.scanner.source.charCodeAt(t-2)&&47===this.scanner.source.charCodeAt(t-1)&&(t-=2),{type:\"Comment\",loc:this.getLocation(e,this.scanner.tokenStart),value:this.scanner.source.substring(e+2,t)}},generate:function(e){this.chunk(\"/*\"),this.chunk(e.value),this.chunk(\"*/\")}},Qa=ae.isCustomProperty,Xa=Se.TYPE,Za=ea.mode,Ja=Xa.Ident,ei=Xa.Hash,ti=Xa.Colon,ni=Xa.Semicolon,ri=Xa.Delim;function ai(e){return this.Raw(e,Za.exclamationMarkOrSemicolon,!0)}function ii(e){return this.Raw(e,Za.exclamationMarkOrSemicolon,!1)}function oi(){var e=this.scanner.tokenIndex,t=this.Value();return\"Raw\"!==t.type&&!1===this.scanner.eof&&this.scanner.tokenType!==ni&&!1===this.scanner.isDelim(33)&&!1===this.scanner.isBalanceEdge(e)&&this.error(),t}var si={name:\"Declaration\",structure:{important:[Boolean,String],property:String,value:[\"Value\",\"Raw\"]},parse:function(){var e,t=this.scanner.tokenStart,n=this.scanner.tokenIndex,r=li.call(this),a=Qa(r),i=a?this.parseCustomProperty:this.parseValue,o=a?ii:ai,s=!1;return this.scanner.skipSC(),this.eat(ti),a||this.scanner.skipSC(),e=i?this.parseWithFallback(oi,o):o.call(this,this.scanner.tokenIndex),this.scanner.isDelim(33)&&(s=ci.call(this),this.scanner.skipSC()),!1===this.scanner.eof&&this.scanner.tokenType!==ni&&!1===this.scanner.isBalanceEdge(n)&&this.error(),{type:\"Declaration\",loc:this.getLocation(t,this.scanner.tokenStart),important:s,property:r,value:e}},generate:function(e){this.chunk(e.property),this.chunk(\":\"),this.node(e.value),e.important&&this.chunk(!0===e.important?\"!important\":\"!\"+e.important)},walkContext:\"declaration\"};function li(){var e=this.scanner.tokenStart;if(this.scanner.tokenType===ri)switch(this.scanner.source.charCodeAt(this.scanner.tokenStart)){case 42:case 36:case 43:case 35:case 38:this.scanner.next();break;case 47:this.scanner.next(),this.scanner.isDelim(47)&&this.scanner.next()}return this.scanner.tokenType===ei?this.eat(ei):this.eat(Ja),this.scanner.substrToCursor(e)}function ci(){this.eat(ri),this.scanner.skipSC();var e=this.consume(Ja);return\"important\"===e||e}var ui=Se.TYPE,hi=ea.mode,di=ui.WhiteSpace,pi=ui.Comment,fi=ui.Semicolon;function mi(e){return this.Raw(e,hi.semicolonIncluded,!0)}var gi={name:\"DeclarationList\",structure:{children:[[\"Declaration\"]]},parse:function(){for(var e=this.createList();!this.scanner.eof;)switch(this.scanner.tokenType){case di:case pi:case fi:this.scanner.next();break;default:e.push(this.parseWithFallback(this.Declaration,mi))}return{type:\"DeclarationList\",loc:this.getLocationFromList(e),children:e}},generate:function(e){this.children(e,(function(e){\"Declaration\"===e.type&&this.chunk(\";\")}))}},bi=j.consumeNumber,yi=Se.TYPE.Dimension,ki={name:\"Dimension\",structure:{value:String,unit:String},parse:function(){var e=this.scanner.tokenStart,t=bi(this.scanner.source,e);return this.eat(yi),{type:\"Dimension\",loc:this.getLocation(e,this.scanner.tokenStart),value:this.scanner.source.substring(e,t),unit:this.scanner.source.substring(t,this.scanner.tokenStart)}},generate:function(e){this.chunk(e.value),this.chunk(e.unit)}},vi=Se.TYPE.RightParenthesis,wi={name:\"Function\",structure:{name:String,children:[[]]},parse:function(e,t){var n,r=this.scanner.tokenStart,a=this.consumeFunctionName(),i=a.toLowerCase();return n=t.hasOwnProperty(i)?t[i].call(this,t):e.call(this,t),this.scanner.eof||this.eat(vi),{type:\"Function\",loc:this.getLocation(r,this.scanner.tokenStart),name:a,children:n}},generate:function(e){this.chunk(e.name),this.chunk(\"(\"),this.children(e),this.chunk(\")\")},walkContext:\"function\"},xi=Se.TYPE.Hash,Si={name:\"HexColor\",structure:{value:String},parse:function(){var e=this.scanner.tokenStart;return this.eat(xi),{type:\"HexColor\",loc:this.getLocation(e,this.scanner.tokenStart),value:this.scanner.substrToCursor(e+1)}},generate:function(e){this.chunk(\"#\"),this.chunk(e.value)}},Ci=Se.TYPE.Ident,Ai={name:\"Identifier\",structure:{name:String},parse:function(){return{type:\"Identifier\",loc:this.getLocation(this.scanner.tokenStart,this.scanner.tokenEnd),name:this.consume(Ci)}},generate:function(e){this.chunk(e.name)}},zi=Se.TYPE.Hash,Pi={name:\"IdSelector\",structure:{name:String},parse:function(){var e=this.scanner.tokenStart;return this.eat(zi),{type:\"IdSelector\",loc:this.getLocation(e,this.scanner.tokenStart),name:this.scanner.substrToCursor(e+1)}},generate:function(e){this.chunk(\"#\"),this.chunk(e.name)}},Li=Se.TYPE,Ti=Li.Ident,Ei=Li.Number,Oi=Li.Dimension,Di=Li.LeftParenthesis,Ri=Li.RightParenthesis,Ii=Li.Colon,Mi=Li.Delim,Ni={name:\"MediaFeature\",structure:{name:String,value:[\"Identifier\",\"Number\",\"Dimension\",\"Ratio\",null]},parse:function(){var e,t=this.scanner.tokenStart,n=null;if(this.eat(Di),this.scanner.skipSC(),e=this.consume(Ti),this.scanner.skipSC(),this.scanner.tokenType!==Ri){switch(this.eat(Ii),this.scanner.skipSC(),this.scanner.tokenType){case Ei:n=this.lookupNonWSType(1)===Mi?this.Ratio():this.Number();break;case Oi:n=this.Dimension();break;case Ti:n=this.Identifier();break;default:this.error(\"Number, dimension, ratio or identifier is expected\")}this.scanner.skipSC()}return this.eat(Ri),{type:\"MediaFeature\",loc:this.getLocation(t,this.scanner.tokenStart),name:e,value:n}},generate:function(e){this.chunk(\"(\"),this.chunk(e.name),null!==e.value&&(this.chunk(\":\"),this.node(e.value)),this.chunk(\")\")}},Bi=Se.TYPE,ji=Bi.WhiteSpace,_i=Bi.Comment,qi=Bi.Ident,Wi=Bi.LeftParenthesis,Fi={name:\"MediaQuery\",structure:{children:[[\"Identifier\",\"MediaFeature\",\"WhiteSpace\"]]},parse:function(){this.scanner.skipSC();var e=this.createList(),t=null,n=null;e:for(;!this.scanner.eof;){switch(this.scanner.tokenType){case _i:this.scanner.next();continue;case ji:n=this.WhiteSpace();continue;case qi:t=this.Identifier();break;case Wi:t=this.MediaFeature();break;default:break e}null!==n&&(e.push(n),n=null),e.push(t)}return null===t&&this.error(\"Identifier or parenthesis is expected\"),{type:\"MediaQuery\",loc:this.getLocationFromList(e),children:e}},generate:function(e){this.children(e)}},Ui=Se.TYPE.Comma,Yi={name:\"MediaQueryList\",structure:{children:[[\"MediaQuery\"]]},parse:function(e){var t=this.createList();for(this.scanner.skipSC();!this.scanner.eof&&(t.push(this.MediaQuery(e)),this.scanner.tokenType===Ui);)this.scanner.next();return{type:\"MediaQueryList\",loc:this.getLocationFromList(t),children:t}},generate:function(e){this.children(e,(function(){this.chunk(\",\")}))}},Hi=Se.TYPE.Number,Vi={name:\"Number\",structure:{value:String},parse:function(){return{type:\"Number\",loc:this.getLocation(this.scanner.tokenStart,this.scanner.tokenEnd),value:this.consume(Hi)}},generate:function(e){this.chunk(e.value)}},Ki={name:\"Operator\",structure:{value:String},parse:function(){var e=this.scanner.tokenStart;return this.scanner.next(),{type:\"Operator\",loc:this.getLocation(e,this.scanner.tokenStart),value:this.scanner.substrToCursor(e)}},generate:function(e){this.chunk(e.value)}},Gi=Se.TYPE,$i=Gi.LeftParenthesis,Qi=Gi.RightParenthesis,Xi={name:\"Parentheses\",structure:{children:[[]]},parse:function(e,t){var n,r=this.scanner.tokenStart;return this.eat($i),n=e.call(this,t),this.scanner.eof||this.eat(Qi),{type:\"Parentheses\",loc:this.getLocation(r,this.scanner.tokenStart),children:n}},generate:function(e){this.chunk(\"(\"),this.children(e),this.chunk(\")\")}},Zi=j.consumeNumber,Ji=Se.TYPE.Percentage,eo={name:\"Percentage\",structure:{value:String},parse:function(){var e=this.scanner.tokenStart,t=Zi(this.scanner.source,e);return this.eat(Ji),{type:\"Percentage\",loc:this.getLocation(e,this.scanner.tokenStart),value:this.scanner.source.substring(e,t)}},generate:function(e){this.chunk(e.value),this.chunk(\"%\")}},to=Se.TYPE,no=to.Ident,ro=to.Function,ao=to.Colon,io=to.RightParenthesis,oo={name:\"PseudoClassSelector\",structure:{name:String,children:[[\"Raw\"],null]},parse:function(){var e,t,n=this.scanner.tokenStart,r=null;return this.eat(ao),this.scanner.tokenType===ro?(t=(e=this.consumeFunctionName()).toLowerCase(),this.pseudo.hasOwnProperty(t)?(this.scanner.skipSC(),r=this.pseudo[t].call(this),this.scanner.skipSC()):(r=this.createList()).push(this.Raw(this.scanner.tokenIndex,null,!1)),this.eat(io)):e=this.consume(no),{type:\"PseudoClassSelector\",loc:this.getLocation(n,this.scanner.tokenStart),name:e,children:r}},generate:function(e){this.chunk(\":\"),this.chunk(e.name),null!==e.children&&(this.chunk(\"(\"),this.children(e),this.chunk(\")\"))},walkContext:\"function\"},so=Se.TYPE,lo=so.Ident,co=so.Function,uo=so.Colon,ho=so.RightParenthesis,po={name:\"PseudoElementSelector\",structure:{name:String,children:[[\"Raw\"],null]},parse:function(){var e,t,n=this.scanner.tokenStart,r=null;return this.eat(uo),this.eat(uo),this.scanner.tokenType===co?(t=(e=this.consumeFunctionName()).toLowerCase(),this.pseudo.hasOwnProperty(t)?(this.scanner.skipSC(),r=this.pseudo[t].call(this),this.scanner.skipSC()):(r=this.createList()).push(this.Raw(this.scanner.tokenIndex,null,!1)),this.eat(ho)):e=this.consume(lo),{type:\"PseudoElementSelector\",loc:this.getLocation(n,this.scanner.tokenStart),name:e,children:r}},generate:function(e){this.chunk(\"::\"),this.chunk(e.name),null!==e.children&&(this.chunk(\"(\"),this.children(e),this.chunk(\")\"))},walkContext:\"function\"},fo=Se.isDigit,mo=Se.TYPE,go=mo.Number,bo=mo.Delim;function yo(){this.scanner.skipWS();for(var e=this.consume(go),t=0;t<e.length;t++){var n=e.charCodeAt(t);fo(n)||46===n||this.error(\"Unsigned number is expected\",this.scanner.tokenStart-e.length+t)}return 0===Number(e)&&this.error(\"Zero number is not allowed\",this.scanner.tokenStart-e.length),e}var ko={name:\"Ratio\",structure:{left:String,right:String},parse:function(){var e,t=this.scanner.tokenStart,n=yo.call(this);return this.scanner.skipWS(),this.scanner.isDelim(47)||this.error(\"Solidus is expected\"),this.eat(bo),e=yo.call(this),{type:\"Ratio\",loc:this.getLocation(t,this.scanner.tokenStart),left:n,right:e}},generate:function(e){this.chunk(e.left),this.chunk(\"/\"),this.chunk(e.right)}},vo=Se.TYPE,wo=ea.mode,xo=vo.LeftCurlyBracket;function So(e){return this.Raw(e,wo.leftCurlyBracket,!0)}function Co(){var e=this.SelectorList();return\"Raw\"!==e.type&&!1===this.scanner.eof&&this.scanner.tokenType!==xo&&this.error(),e}var Ao={name:\"Rule\",structure:{prelude:[\"SelectorList\",\"Raw\"],block:[\"Block\"]},parse:function(){var e,t,n=this.scanner.tokenIndex,r=this.scanner.tokenStart;return e=this.parseRulePrelude?this.parseWithFallback(Co,So):So.call(this,n),t=this.Block(!0),{type:\"Rule\",loc:this.getLocation(r,this.scanner.tokenStart),prelude:e,block:t}},generate:function(e){this.node(e.prelude),this.node(e.block)},walkContext:\"rule\"},zo=Se.TYPE.Comma,Po={name:\"SelectorList\",structure:{children:[[\"Selector\",\"Raw\"]]},parse:function(){for(var e=this.createList();!this.scanner.eof&&(e.push(this.Selector()),this.scanner.tokenType===zo);)this.scanner.next();return{type:\"SelectorList\",loc:this.getLocationFromList(e),children:e}},generate:function(e){this.children(e,(function(){this.chunk(\",\")}))},walkContext:\"selector\"},Lo=Se.TYPE.String,To={name:\"String\",structure:{value:String},parse:function(){return{type:\"String\",loc:this.getLocation(this.scanner.tokenStart,this.scanner.tokenEnd),value:this.consume(Lo)}},generate:function(e){this.chunk(e.value)}},Eo=Se.TYPE,Oo=Eo.WhiteSpace,Do=Eo.Comment,Ro=Eo.AtKeyword,Io=Eo.CDO,Mo=Eo.CDC;function No(e){return this.Raw(e,null,!1)}var Bo={name:\"StyleSheet\",structure:{children:[[\"Comment\",\"CDO\",\"CDC\",\"Atrule\",\"Rule\",\"Raw\"]]},parse:function(){for(var e,t=this.scanner.tokenStart,n=this.createList();!this.scanner.eof;){switch(this.scanner.tokenType){case Oo:this.scanner.next();continue;case Do:if(33!==this.scanner.source.charCodeAt(this.scanner.tokenStart+2)){this.scanner.next();continue}e=this.Comment();break;case Io:e=this.CDO();break;case Mo:e=this.CDC();break;case Ro:e=this.parseWithFallback(this.Atrule,No);break;default:e=this.parseWithFallback(this.Rule,No)}n.push(e)}return{type:\"StyleSheet\",loc:this.getLocation(t,this.scanner.tokenStart),children:n}},generate:function(e){this.children(e)},walkContext:\"stylesheet\"},jo=Se.TYPE.Ident;function _o(){this.scanner.tokenType!==jo&&!1===this.scanner.isDelim(42)&&this.error(\"Identifier or asterisk is expected\"),this.scanner.next()}var qo={name:\"TypeSelector\",structure:{name:String},parse:function(){var e=this.scanner.tokenStart;return this.scanner.isDelim(124)?(this.scanner.next(),_o.call(this)):(_o.call(this),this.scanner.isDelim(124)&&(this.scanner.next(),_o.call(this))),{type:\"TypeSelector\",loc:this.getLocation(e,this.scanner.tokenStart),name:this.scanner.substrToCursor(e)}},generate:function(e){this.chunk(e.name)}},Wo=Se.isHexDigit,Fo=Se.cmpChar,Uo=Se.TYPE,Yo=Se.NAME,Ho=Uo.Ident,Vo=Uo.Number,Ko=Uo.Dimension;function Go(e,t){for(var n=this.scanner.tokenStart+e,r=0;n<this.scanner.tokenEnd;n++){var a=this.scanner.source.charCodeAt(n);if(45===a&&t&&0!==r)return 0===Go.call(this,e+r+1,!1)&&this.error(),-1;Wo(a)||this.error(t&&0!==r?\"HyphenMinus\"+(r<6?\" or hex digit\":\"\")+\" is expected\":r<6?\"Hex digit is expected\":\"Unexpected input\",n),++r>6&&this.error(\"Too many hex digits\",n)}return this.scanner.next(),r}function $o(e){for(var t=0;this.scanner.isDelim(63);)++t>e&&this.error(\"Too many question marks\"),this.scanner.next()}function Qo(e){this.scanner.source.charCodeAt(this.scanner.tokenStart)!==e&&this.error(Yo[e]+\" is expected\")}function Xo(){var e=0;return this.scanner.isDelim(43)?(this.scanner.next(),this.scanner.tokenType===Ho?void((e=Go.call(this,0,!0))>0&&$o.call(this,6-e)):this.scanner.isDelim(63)?(this.scanner.next(),void $o.call(this,5)):void this.error(\"Hex digit or question mark is expected\")):this.scanner.tokenType===Vo?(Qo.call(this,43),e=Go.call(this,1,!0),this.scanner.isDelim(63)?void $o.call(this,6-e):this.scanner.tokenType===Ko||this.scanner.tokenType===Vo?(Qo.call(this,45),void Go.call(this,1,!1)):void 0):this.scanner.tokenType===Ko?(Qo.call(this,43),void((e=Go.call(this,1,!0))>0&&$o.call(this,6-e))):void this.error()}var Zo={name:\"UnicodeRange\",structure:{value:String},parse:function(){var e=this.scanner.tokenStart;return Fo(this.scanner.source,e,117)||this.error(\"U is expected\"),Fo(this.scanner.source,e+1,43)||this.error(\"Plus sign is expected\"),this.scanner.next(),Xo.call(this),{type:\"UnicodeRange\",loc:this.getLocation(e,this.scanner.tokenStart),value:this.scanner.substrToCursor(e)}},generate:function(e){this.chunk(e.value)}},Jo=Se.isWhiteSpace,es=Se.cmpStr,ts=Se.TYPE,ns=ts.Function,rs=ts.Url,as=ts.RightParenthesis,is={name:\"Url\",structure:{value:[\"String\",\"Raw\"]},parse:function(){var e,t=this.scanner.tokenStart;switch(this.scanner.tokenType){case rs:for(var n=t+4,r=this.scanner.tokenEnd-1;n<r&&Jo(this.scanner.source.charCodeAt(n));)n++;for(;n<r&&Jo(this.scanner.source.charCodeAt(r-1));)r--;e={type:\"Raw\",loc:this.getLocation(n,r),value:this.scanner.source.substring(n,r)},this.eat(rs);break;case ns:es(this.scanner.source,this.scanner.tokenStart,this.scanner.tokenEnd,\"url(\")||this.error(\"Function name must be `url`\"),this.eat(ns),this.scanner.skipSC(),e=this.String(),this.scanner.skipSC(),this.eat(as);break;default:this.error(\"Url or Function is expected\")}return{type:\"Url\",loc:this.getLocation(t,this.scanner.tokenStart),value:e}},generate:function(e){this.chunk(\"url\"),this.chunk(\"(\"),this.node(e.value),this.chunk(\")\")}},os=Se.TYPE.WhiteSpace,ss=Object.freeze({type:\"WhiteSpace\",loc:null,value:\" \"}),ls={AnPlusB:Vr,Atrule:ca,AtrulePrelude:pa,AttributeSelector:xa,Block:Ma,Brackets:_a,CDC:Wa,CDO:Ua,ClassSelector:Ha,Combinator:Ka,Comment:$a,Declaration:si,DeclarationList:gi,Dimension:ki,Function:wi,HexColor:Si,Identifier:Ai,IdSelector:Pi,MediaFeature:Ni,MediaQuery:Fi,MediaQueryList:Yi,Nth:{name:\"Nth\",structure:{nth:[\"AnPlusB\",\"Identifier\"],selector:[\"SelectorList\",null]},parse:function(e){this.scanner.skipSC();var t,n=this.scanner.tokenStart,r=n,a=null;return t=this.scanner.lookupValue(0,\"odd\")||this.scanner.lookupValue(0,\"even\")?this.Identifier():this.AnPlusB(),this.scanner.skipSC(),e&&this.scanner.lookupValue(0,\"of\")?(this.scanner.next(),a=this.SelectorList(),this.needPositions&&(r=this.getLastListNode(a.children).loc.end.offset)):this.needPositions&&(r=t.loc.end.offset),{type:\"Nth\",loc:this.getLocation(n,r),nth:t,selector:a}},generate:function(e){this.node(e.nth),null!==e.selector&&(this.chunk(\" of \"),this.node(e.selector))}},Number:Vi,Operator:Ki,Parentheses:Xi,Percentage:eo,PseudoClassSelector:oo,PseudoElementSelector:po,Ratio:ko,Raw:ea,Rule:Ao,Selector:{name:\"Selector\",structure:{children:[[\"TypeSelector\",\"IdSelector\",\"ClassSelector\",\"AttributeSelector\",\"PseudoClassSelector\",\"PseudoElementSelector\",\"Combinator\",\"WhiteSpace\"]]},parse:function(){var e=this.readSequence(this.scope.Selector);return null===this.getFirstListNode(e)&&this.error(\"Selector is expected\"),{type:\"Selector\",loc:this.getLocationFromList(e),children:e}},generate:function(e){this.children(e)}},SelectorList:Po,String:To,StyleSheet:Bo,TypeSelector:qo,UnicodeRange:Zo,Url:is,Value:{name:\"Value\",structure:{children:[[]]},parse:function(){var e=this.scanner.tokenStart,t=this.readSequence(this.scope.Value);return{type:\"Value\",loc:this.getLocation(e,this.scanner.tokenStart),children:t}},generate:function(e){this.children(e)}},WhiteSpace:{name:\"WhiteSpace\",structure:{value:String},parse:function(){return this.eat(os),ss},generate:function(e){this.chunk(e.value)}}},cs=Zn(Rr),us={generic:!0,types:cs.types,atrules:cs.atrules,properties:cs.properties,node:ls},hs=Se.cmpChar,ds=Se.cmpStr,ps=Se.TYPE,fs=ps.Ident,ms=ps.String,gs=ps.Number,bs=ps.Function,ys=ps.Url,ks=ps.Hash,vs=ps.Dimension,ws=ps.Percentage,xs=ps.LeftParenthesis,Ss=ps.LeftSquareBracket,Cs=ps.Comma,As=ps.Delim,zs=function(e){switch(this.scanner.tokenType){case ks:return this.HexColor();case Cs:return e.space=null,e.ignoreWSAfter=!0,this.Operator();case xs:return this.Parentheses(this.readSequence,e.recognizer);case Ss:return this.Brackets(this.readSequence,e.recognizer);case ms:return this.String();case vs:return this.Dimension();case ws:return this.Percentage();case gs:return this.Number();case bs:return ds(this.scanner.source,this.scanner.tokenStart,this.scanner.tokenEnd,\"url(\")?this.Url():this.Function(this.readSequence,e.recognizer);case ys:return this.Url();case fs:return hs(this.scanner.source,this.scanner.tokenStart,117)&&hs(this.scanner.source,this.scanner.tokenStart+1,43)?this.UnicodeRange():this.Identifier();case As:var t=this.scanner.source.charCodeAt(this.scanner.tokenStart);if(47===t||42===t||43===t||45===t)return this.Operator();35===t&&this.error(\"Hex or identifier is expected\",this.scanner.tokenStart+1)}},Ps={getNode:zs},Ls=Se.TYPE,Ts=Ls.Delim,Es=Ls.Ident,Os=Ls.Dimension,Ds=Ls.Percentage,Rs=Ls.Number,Is=Ls.Hash,Ms=Ls.Colon,Ns=Ls.LeftSquareBracket;var Bs={getNode:function(e){switch(this.scanner.tokenType){case Ns:return this.AttributeSelector();case Is:return this.IdSelector();case Ms:return this.scanner.lookupType(1)===Ms?this.PseudoElementSelector():this.PseudoClassSelector();case Es:return this.TypeSelector();case Rs:case Ds:return this.Percentage();case Os:46===this.scanner.source.charCodeAt(this.scanner.tokenStart)&&this.error(\"Identifier is expected\",this.scanner.tokenStart+1);break;case Ts:switch(this.scanner.source.charCodeAt(this.scanner.tokenStart)){case 43:case 62:case 126:return e.space=null,e.ignoreWSAfter=!0,this.Combinator();case 47:return this.Combinator();case 46:return this.ClassSelector();case 42:case 124:return this.TypeSelector();case 35:return this.IdSelector()}}}},js=function(){this.scanner.skipSC();var e=this.createSingleNodeList(this.IdSelector());return this.scanner.skipSC(),e},_s=Se.TYPE,qs=ea.mode,Ws=_s.Comma,Fs={AtrulePrelude:Ps,Selector:Bs,Value:{getNode:zs,\"-moz-element\":js,element:js,expression:function(){return this.createSingleNodeList(this.Raw(this.scanner.tokenIndex,null,!1))},var:function(){var e=this.createList();return this.scanner.skipSC(),e.push(this.Identifier()),this.scanner.skipSC(),this.scanner.tokenType===Ws&&(e.push(this.Operator()),e.push(this.parseCustomProperty?this.Value(null):this.Raw(this.scanner.tokenIndex,qs.exclamationMarkOrSemicolon,!1))),e}}},Us=Se.TYPE,Ys=Us.String,Hs=Us.Ident,Vs=Us.Url,Ks=Us.Function,Gs=Us.LeftParenthesis,$s={parse:{prelude:function(){var e=this.createList();switch(this.scanner.skipSC(),this.scanner.tokenType){case Ys:e.push(this.String());break;case Vs:case Ks:e.push(this.Url());break;default:this.error(\"String or url() is expected\")}return this.lookupNonWSType(0)!==Hs&&this.lookupNonWSType(0)!==Gs||(e.push(this.WhiteSpace()),e.push(this.MediaQueryList())),e},block:null}},Qs=Se.TYPE,Xs=Qs.WhiteSpace,Zs=Qs.Comment,Js=Qs.Ident,el=Qs.Function,tl=Qs.Colon,nl=Qs.LeftParenthesis;function rl(){return this.createSingleNodeList(this.Raw(this.scanner.tokenIndex,null,!1))}function al(){return this.scanner.skipSC(),this.scanner.tokenType===Js&&this.lookupNonWSType(1)===tl?this.createSingleNodeList(this.Declaration()):il.call(this)}function il(){var e,t=this.createList(),n=null;this.scanner.skipSC();e:for(;!this.scanner.eof;){switch(this.scanner.tokenType){case Xs:n=this.WhiteSpace();continue;case Zs:this.scanner.next();continue;case el:e=this.Function(rl,this.scope.AtrulePrelude);break;case Js:e=this.Identifier();break;case nl:e=this.Parentheses(al,this.scope.AtrulePrelude);break;default:break e}null!==n&&(t.push(n),n=null),t.push(e)}return t}var ol={parse:function(){return this.createSingleNodeList(this.SelectorList())}},sl={parse:function(){return this.createSingleNodeList(this.Nth(!0))}},ll={parse:function(){return this.createSingleNodeList(this.Nth(!1))}};var cl=Tr(function(){for(var e={},t=0;t<arguments.length;t++){var n=arguments[t];for(var r in n)e[r]=n[r]}return e}(us,{parseContext:{default:\"StyleSheet\",stylesheet:\"StyleSheet\",atrule:\"Atrule\",atrulePrelude:function(e){return this.AtrulePrelude(e.atrule?String(e.atrule):null)},mediaQueryList:\"MediaQueryList\",mediaQuery:\"MediaQuery\",rule:\"Rule\",selectorList:\"SelectorList\",selector:\"Selector\",block:function(){return this.Block(!0)},declarationList:\"DeclarationList\",declaration:\"Declaration\",value:\"Value\"},scope:Fs,atrule:{\"font-face\":{parse:{prelude:null,block:function(){return this.Block(!0)}}},import:$s,media:{parse:{prelude:function(){return this.createSingleNodeList(this.MediaQueryList())},block:function(){return this.Block(!1)}}},page:{parse:{prelude:function(){return this.createSingleNodeList(this.SelectorList())},block:function(){return this.Block(!0)}}},supports:{parse:{prelude:function(){var e=il.call(this);return null===this.getFirstListNode(e)&&this.error(\"Condition is expected\"),e},block:function(){return this.Block(!1)}}}},pseudo:{dir:{parse:function(){return this.createSingleNodeList(this.Identifier())}},has:{parse:function(){return this.createSingleNodeList(this.SelectorList())}},lang:{parse:function(){return this.createSingleNodeList(this.Identifier())}},matches:ol,not:ol,\"nth-child\":sl,\"nth-last-child\":sl,\"nth-last-of-type\":ll,\"nth-of-type\":ll,slotted:{parse:function(){return this.createSingleNodeList(this.Selector())}}},node:ls},{node:ls})),ul=Object.prototype.hasOwnProperty;function hl(e,t){var n=Object.create(null);if(!Array.isArray(e))return null;for(var r=0;r<e.length;r++){var a=e[r];t&&(a=a.toLowerCase()),n[a]=!0}return n}function dl(e){if(!e)return null;var t=hl(e.tags,!0),n=hl(e.ids),r=hl(e.classes);return null===t&&null===n&&null===r?null:{tags:t,ids:n,classes:r}}var pl={buildIndex:function(e){var t=!1;if(e.scopes&&Array.isArray(e.scopes)){t=Object.create(null);for(var n=0;n<e.scopes.length;n++){var r=e.scopes[n];if(!r||!Array.isArray(r))throw new Error(\"Wrong usage format\");for(var a=0;a<r.length;a++){var i=r[a];if(ul.call(t,i))throw new Error(\"Class can't be used for several scopes: \"+i);t[i]=n+1}}}return{whitelist:dl(e),blacklist:dl(e.blacklist),scopes:t}}},fl={hasNoChildren:function(e){return!e||!e.children||e.children.isEmpty()},isNodeChildrenList:function(e,t){return null!==e&&e.children===t}},ml=cl.keyword,{hasNoChildren:gl}=fl,{isNodeChildrenList:bl}=fl,yl=Object.prototype.hasOwnProperty,kl=cl.walk,{hasNoChildren:vl}=fl;var{isNodeChildrenList:wl}=fl;function xl(e){return\"Operator\"===e.type&&\"+\"!==e.value&&\"-\"!==e.value}var Sl=cl.walk,Cl={Atrule:function(e,t,n){if(e.block&&(null!==this.stylesheet&&(this.stylesheet.firstAtrulesAllowed=!1),gl(e.block)))n.remove(t);else switch(e.name){case\"charset\":if(gl(e.prelude))return void n.remove(t);if(t.prev)return void n.remove(t);break;case\"import\":if(null===this.stylesheet||!this.stylesheet.firstAtrulesAllowed)return void n.remove(t);n.prevUntil(t.prev,(function(e){if(\"Atrule\"!==e.type||\"import\"!==e.name&&\"charset\"!==e.name)return this.root.firstAtrulesAllowed=!1,n.remove(t),!0}),this);break;default:var r=ml(e.name).basename;\"keyframes\"!==r&&\"media\"!==r&&\"supports\"!==r||(gl(e.prelude)||gl(e.block))&&n.remove(t)}},Comment:function(e,t,n){n.remove(t)},Declaration:function(e,t,n){e.value.children&&e.value.children.isEmpty()&&n.remove(t)},Raw:function(e,t,n){(bl(this.stylesheet,n)||bl(this.block,n))&&n.remove(t)},Rule:function(e,t,n,r){if(vl(e.prelude)||vl(e.block))n.remove(t);else{var a=r.usage;!a||null===a.whitelist&&null===a.blacklist||(function e(t,n){return t.children.each((function(r,a,i){var o=!1;kl(r,(function(r){if(null===this.selector||this.selector===t)switch(r.type){case\"SelectorList\":null!==this.function&&\"not\"===this.function.name.toLowerCase()||e(r,n)&&(o=!0);break;case\"ClassSelector\":null===n.whitelist||null===n.whitelist.classes||yl.call(n.whitelist.classes,r.name)||(o=!0),null!==n.blacklist&&null!==n.blacklist.classes&&yl.call(n.blacklist.classes,r.name)&&(o=!0);break;case\"IdSelector\":null===n.whitelist||null===n.whitelist.ids||yl.call(n.whitelist.ids,r.name)||(o=!0),null!==n.blacklist&&null!==n.blacklist.ids&&yl.call(n.blacklist.ids,r.name)&&(o=!0);break;case\"TypeSelector\":\"*\"!==r.name.charAt(r.name.length-1)&&(null===n.whitelist||null===n.whitelist.tags||yl.call(n.whitelist.tags,r.name.toLowerCase())||(o=!0),null!==n.blacklist&&null!==n.blacklist.tags&&yl.call(n.blacklist.tags,r.name.toLowerCase())&&(o=!0))}})),o&&i.remove(a)})),t.children.isEmpty()}(e.prelude,a),!vl(e.prelude))||n.remove(t)}},TypeSelector:function(e,t,n){if(\"*\"===t.data.name){var r=t.next&&t.next.data.type;\"IdSelector\"!==r&&\"ClassSelector\"!==r&&\"AttributeSelector\"!==r&&\"PseudoClassSelector\"!==r&&\"PseudoElementSelector\"!==r||n.remove(t)}},WhiteSpace:function(e,t,n){null!==t.next&&null!==t.prev?wl(this.stylesheet,n)||wl(this.block,n)?n.remove(t):\"WhiteSpace\"!==t.next.data.type?(xl(t.prev.data)||xl(t.next.data))&&n.remove(t):n.remove(t):n.remove(t)}},Al=cl.keyword,zl=/\\\\([0-9A-Fa-f]{1,6})(\\r\\n|[ \\t\\n\\f\\r])?|\\\\./g,Pl=/^(-?\\d|--)|[\\u0000-\\u002c\\u002e\\u002f\\u003A-\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u009f]/;var Ll=cl.List;var Tl=function(e){e.children.each((function(e,t,n){\"Identifier\"===e.type&&\"none\"===e.name.toLowerCase()&&(n.head===n.tail?t.data={type:\"Number\",loc:e.loc,value:\"0\"}:function(e,t){var n=t.prev,r=t.next;null!==r?\"WhiteSpace\"!==r.data.type||null!==n&&\"WhiteSpace\"!==n.data.type||e.remove(r):null!==n&&\"WhiteSpace\"===n.data.type&&e.remove(n),e.remove(t)}(n,t))}))},El=cl.property,Ol={font:function(e){var t=e.children;t.eachRight((function(e,t){if(\"Identifier\"===e.type)if(\"bold\"===e.name)t.data={type:\"Number\",loc:e.loc,value:\"700\"};else if(\"normal\"===e.name){var n=t.prev;n&&\"Operator\"===n.data.type&&\"/\"===n.data.value&&this.remove(n),this.remove(t)}else if(\"medium\"===e.name){var r=t.next;r&&\"Operator\"===r.data.type||this.remove(t)}})),t.each((function(e,t){\"WhiteSpace\"===e.type&&(t.prev&&t.next&&\"WhiteSpace\"!==t.next.data.type||this.remove(t))})),t.isEmpty()&&t.insert(t.createItem({type:\"Identifier\",name:\"normal\"}))},\"font-weight\":function(e){var t=e.children.head.data;if(\"Identifier\"===t.type)switch(t.name){case\"normal\":e.children.head.data={type:\"Number\",loc:t.loc,value:\"400\"};break;case\"bold\":e.children.head.data={type:\"Number\",loc:t.loc,value:\"700\"}}},background:function(e){function t(){if(a.length)return a[a.length-1].type}function n(){\"WhiteSpace\"===t()&&a.pop(),a.length||a.unshift({type:\"Number\",loc:null,value:\"0\"},{type:\"WhiteSpace\",value:\" \"},{type:\"Number\",loc:null,value:\"0\"}),r.push.apply(r,a),a=[]}var r=[],a=[];e.children.each((function(e){if(\"Operator\"===e.type&&\",\"===e.value)return n(),void r.push(e);(\"Identifier\"!==e.type||\"transparent\"!==e.name&&\"none\"!==e.name&&\"repeat\"!==e.name&&\"scroll\"!==e.name)&&(\"WhiteSpace\"!==e.type||a.length&&\"WhiteSpace\"!==t())&&a.push(e)})),n(),e.children=(new Ll).fromArray(r)},border:Tl,outline:Tl},Dl=/^(?:\\+|(-))?0*(\\d*)(?:\\.0*|(\\.\\d*?)0*)?$/,Rl=/^([\\+\\-])?0*(\\d*)(?:\\.0*|(\\.\\d*?)0*)?$/,Il={Dimension:!0,HexColor:!0,Identifier:!0,Number:!0,Raw:!0,UnicodeRange:!0};function Ml(e,t){var n=t&&null!==t.prev&&Il.hasOwnProperty(t.prev.data.type)?Rl:Dl;return\"\"!==(e=String(e).replace(n,\"$1$2$3\"))&&\"-\"!==e||(e=\"0\"),e}var Nl=function(e,t){e.value=Ml(e.value,t)},Bl=Nl.pack=Ml,jl={px:!0,mm:!0,cm:!0,in:!0,pt:!0,pc:!0,em:!0,ex:!0,ch:!0,rem:!0,vh:!0,vw:!0,vmin:!0,vmax:!0,vm:!0},_l=cl.lexer,ql=Nl.pack,Wl=new Set([\"width\",\"min-width\",\"max-width\",\"height\",\"min-height\",\"max-height\",\"flex\",\"-ms-flex\"]),Fl=new RegExp(\"^((\\\\\\\\[0-9a-f]{1,6}(\\\\r\\\\n|[ \\\\n\\\\r\\\\t\\\\f])?|\\\\\\\\[^\\\\n\\\\r\\\\f0-9a-fA-F])|[^\\\"'\\\\(\\\\)\\\\\\\\\\\\s\\0\\b\\v\u000e-\u001f])*$\",\"i\"),Ul=cl.lexer,Yl=Nl.pack,Hl={aliceblue:\"f0f8ff\",antiquewhite:\"faebd7\",aqua:\"0ff\",aquamarine:\"7fffd4\",azure:\"f0ffff\",beige:\"f5f5dc\",bisque:\"ffe4c4\",black:\"000\",blanchedalmond:\"ffebcd\",blue:\"00f\",blueviolet:\"8a2be2\",brown:\"a52a2a\",burlywood:\"deb887\",cadetblue:\"5f9ea0\",chartreuse:\"7fff00\",chocolate:\"d2691e\",coral:\"ff7f50\",cornflowerblue:\"6495ed\",cornsilk:\"fff8dc\",crimson:\"dc143c\",cyan:\"0ff\",darkblue:\"00008b\",darkcyan:\"008b8b\",darkgoldenrod:\"b8860b\",darkgray:\"a9a9a9\",darkgrey:\"a9a9a9\",darkgreen:\"006400\",darkkhaki:\"bdb76b\",darkmagenta:\"8b008b\",darkolivegreen:\"556b2f\",darkorange:\"ff8c00\",darkorchid:\"9932cc\",darkred:\"8b0000\",darksalmon:\"e9967a\",darkseagreen:\"8fbc8f\",darkslateblue:\"483d8b\",darkslategray:\"2f4f4f\",darkslategrey:\"2f4f4f\",darkturquoise:\"00ced1\",darkviolet:\"9400d3\",deeppink:\"ff1493\",deepskyblue:\"00bfff\",dimgray:\"696969\",dimgrey:\"696969\",dodgerblue:\"1e90ff\",firebrick:\"b22222\",floralwhite:\"fffaf0\",forestgreen:\"228b22\",fuchsia:\"f0f\",gainsboro:\"dcdcdc\",ghostwhite:\"f8f8ff\",gold:\"ffd700\",goldenrod:\"daa520\",gray:\"808080\",grey:\"808080\",green:\"008000\",greenyellow:\"adff2f\",honeydew:\"f0fff0\",hotpink:\"ff69b4\",indianred:\"cd5c5c\",indigo:\"4b0082\",ivory:\"fffff0\",khaki:\"f0e68c\",lavender:\"e6e6fa\",lavenderblush:\"fff0f5\",lawngreen:\"7cfc00\",lemonchiffon:\"fffacd\",lightblue:\"add8e6\",lightcoral:\"f08080\",lightcyan:\"e0ffff\",lightgoldenrodyellow:\"fafad2\",lightgray:\"d3d3d3\",lightgrey:\"d3d3d3\",lightgreen:\"90ee90\",lightpink:\"ffb6c1\",lightsalmon:\"ffa07a\",lightseagreen:\"20b2aa\",lightskyblue:\"87cefa\",lightslategray:\"789\",lightslategrey:\"789\",lightsteelblue:\"b0c4de\",lightyellow:\"ffffe0\",lime:\"0f0\",limegreen:\"32cd32\",linen:\"faf0e6\",magenta:\"f0f\",maroon:\"800000\",mediumaquamarine:\"66cdaa\",mediumblue:\"0000cd\",mediumorchid:\"ba55d3\",mediumpurple:\"9370db\",mediumseagreen:\"3cb371\",mediumslateblue:\"7b68ee\",mediumspringgreen:\"00fa9a\",mediumturquoise:\"48d1cc\",mediumvioletred:\"c71585\",midnightblue:\"191970\",mintcream:\"f5fffa\",mistyrose:\"ffe4e1\",moccasin:\"ffe4b5\",navajowhite:\"ffdead\",navy:\"000080\",oldlace:\"fdf5e6\",olive:\"808000\",olivedrab:\"6b8e23\",orange:\"ffa500\",orangered:\"ff4500\",orchid:\"da70d6\",palegoldenrod:\"eee8aa\",palegreen:\"98fb98\",paleturquoise:\"afeeee\",palevioletred:\"db7093\",papayawhip:\"ffefd5\",peachpuff:\"ffdab9\",peru:\"cd853f\",pink:\"ffc0cb\",plum:\"dda0dd\",powderblue:\"b0e0e6\",purple:\"800080\",rebeccapurple:\"639\",red:\"f00\",rosybrown:\"bc8f8f\",royalblue:\"4169e1\",saddlebrown:\"8b4513\",salmon:\"fa8072\",sandybrown:\"f4a460\",seagreen:\"2e8b57\",seashell:\"fff5ee\",sienna:\"a0522d\",silver:\"c0c0c0\",skyblue:\"87ceeb\",slateblue:\"6a5acd\",slategray:\"708090\",slategrey:\"708090\",snow:\"fffafa\",springgreen:\"00ff7f\",steelblue:\"4682b4\",tan:\"d2b48c\",teal:\"008080\",thistle:\"d8bfd8\",tomato:\"ff6347\",turquoise:\"40e0d0\",violet:\"ee82ee\",wheat:\"f5deb3\",white:\"fff\",whitesmoke:\"f5f5f5\",yellow:\"ff0\",yellowgreen:\"9acd32\"},Vl={8e5:\"maroon\",800080:\"purple\",808e3:\"olive\",808080:\"gray\",\"00ffff\":\"cyan\",f0ffff:\"azure\",f5f5dc:\"beige\",ffe4c4:\"bisque\",\"000000\":\"black\",\"0000ff\":\"blue\",a52a2a:\"brown\",ff7f50:\"coral\",ffd700:\"gold\",\"008000\":\"green\",\"4b0082\":\"indigo\",fffff0:\"ivory\",f0e68c:\"khaki\",\"00ff00\":\"lime\",faf0e6:\"linen\",\"000080\":\"navy\",ffa500:\"orange\",da70d6:\"orchid\",cd853f:\"peru\",ffc0cb:\"pink\",dda0dd:\"plum\",f00:\"red\",ff0000:\"red\",fa8072:\"salmon\",a0522d:\"sienna\",c0c0c0:\"silver\",fffafa:\"snow\",d2b48c:\"tan\",\"008080\":\"teal\",ff6347:\"tomato\",ee82ee:\"violet\",f5deb3:\"wheat\",ffffff:\"white\",ffff00:\"yellow\"};function Kl(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function Gl(e,t,n,r){var a,i,o;if(0===t)a=i=o=n;else{var s=n<.5?n*(1+t):n+t-n*t,l=2*n-s;a=Kl(l,s,e+1/3),i=Kl(l,s,e),o=Kl(l,s,e-1/3)}return[Math.round(255*a),Math.round(255*i),Math.round(255*o),r]}function $l(e){return 1===(e=e.toString(16)).length?\"0\"+e:e}function Ql(e,t,n){for(var r=e.head,a=[],i=!1;null!==r;){var o=r.data,s=o.type;switch(s){case\"Number\":case\"Percentage\":if(i)return;i=!0,a.push({type:s,value:Number(o.value)});break;case\"Operator\":if(\",\"===o.value){if(!i)return;i=!1}else if(i||\"+\"!==o.value)return;break;default:return}r=r.next}if(a.length===t){if(4===a.length){if(\"Number\"!==a[3].type)return;a[3].type=\"Alpha\"}if(n){if(a[0].type!==a[1].type||a[0].type!==a[2].type)return}else{if(\"Number\"!==a[0].type||\"Percentage\"!==a[1].type||\"Percentage\"!==a[2].type)return;a[0].type=\"Angle\"}return a.map((function(e){var t=Math.max(0,e.value);switch(e.type){case\"Number\":t=Math.min(t,255);break;case\"Percentage\":if(t=Math.min(t,100)/100,!n)return t;t*=255;break;case\"Angle\":return(t%360+360)%360/360;case\"Alpha\":return Math.min(t,1)}return Math.round(t)}))}}function Xl(e,t){var n=e.value.toLowerCase();6===n.length&&n[0]===n[1]&&n[2]===n[3]&&n[4]===n[5]&&(n=n[0]+n[2]+n[4]),Vl[n]?t.data={type:\"Identifier\",loc:e.loc,name:Vl[n]}:e.value=n}var Zl={compressFunction:function(e,t,n){var r,a=e.name;if(\"rgba\"===a||\"hsla\"===a){if(!(r=Ql(e.children,4,\"rgba\"===a)))return;if(\"hsla\"===a&&(r=Gl.apply(null,r),e.name=\"rgba\"),0===r[3]){var i=this.function&&this.function.name;if(0===r[0]&&0===r[1]&&0===r[2]||!/^(?:to|from|color-stop)$|gradient$/i.test(i))return void(t.data={type:\"Identifier\",loc:e.loc,name:\"transparent\"})}if(1!==r[3])return void e.children.each((function(e,t,n){\"Operator\"!==e.type?t.data={type:\"Number\",loc:e.loc,value:Yl(r.shift(),null)}:\",\"!==e.value&&n.remove(t)}));a=\"rgb\"}if(\"hsl\"===a){if(!(r=r||Ql(e.children,3,!1)))return;r=Gl.apply(null,r),a=\"rgb\"}if(\"rgb\"===a){if(!(r=r||Ql(e.children,3,!0)))return;var o=t.next;o&&\"WhiteSpace\"!==o.data.type&&n.insert(n.createItem({type:\"WhiteSpace\",value:\" \"}),o),t.data={type:\"HexColor\",loc:e.loc,value:$l(r[0])+$l(r[1])+$l(r[2])},Xl(t.data,t)}},compressIdent:function(e,t){if(null!==this.declaration){var n=e.name.toLowerCase();if(Hl.hasOwnProperty(n)&&Ul.matchDeclaration(this.declaration).isType(e,\"color\")){var r=Hl[n];r.length+1<=n.length?t.data={type:\"HexColor\",loc:e.loc,value:r}:(\"grey\"===n&&(n=\"gray\"),e.name=n)}}},compressHex:Xl},Jl=cl.walk,ec={Atrule:function(e){\"keyframes\"===Al(e.name).basename&&function(e){e.block.children.each((function(e){e.prelude.children.each((function(e){e.children.each((function(e,t){\"Percentage\"===e.type&&\"100\"===e.value?t.data={type:\"TypeSelector\",loc:e.loc,name:\"to\"}:\"TypeSelector\"===e.type&&\"from\"===e.name&&(t.data={type:\"Percentage\",loc:e.loc,value:\"0\"})}))}))}))}(e)},AttributeSelector:function(e){var t=e.value;if(t&&\"String\"===t.type){var n=t.value.replace(/^(.)(.*)\\1$/,\"$2\");(function(e){if(\"\"!==e&&\"-\"!==e)return e=e.replace(zl,\"a\"),!Pl.test(e)})(n)&&(e.value={type:\"Identifier\",loc:t.loc,name:n})}},Value:function(e){if(this.declaration){var t=El(this.declaration.property);Ol.hasOwnProperty(t.basename)&&Ol[t.basename](e)}},Dimension:function(e,t){var n=Bl(e.value,t);if(e.value=n,\"0\"===n&&null!==this.declaration&&null===this.atrulePrelude){var r=e.unit.toLowerCase();if(!jl.hasOwnProperty(r))return;if(\"-ms-flex\"===this.declaration.property||\"flex\"===this.declaration.property)return;if(this.function&&\"calc\"===this.function.name)return;t.data={type:\"Number\",loc:e.loc,value:n}}},Percentage:function(e,t){e.value=ql(e.value,t),\"0\"===e.value&&this.declaration&&!Wl.has(this.declaration.property)&&(t.data={type:\"Number\",loc:e.loc,value:e.value},_l.matchDeclaration(this.declaration).isType(t.data,\"length\")||(t.data=e))},Number:Nl,String:function(e){var t=e.value;t=t.replace(/\\\\(\\r\\n|\\r|\\n|\\f)/g,\"\"),e.value=t},Url:function(e){var t=e.value;if(\"String\"===t.type){var n=t.value[0],r=t.value.substr(1,t.value.length-2);r=r.replace(/\\\\\\\\/g,\"/\"),Fl.test(r)?e.value={type:\"Raw\",loc:e.value.loc,value:r}:e.value.value=-1===r.indexOf('\"')?'\"'+r+'\"':n+r+n}},HexColor:Zl.compressHex,Identifier:Zl.compressIdent,Function:Zl.compressFunction},tc=cl.generate;function nc(){this.seed=0,this.map=Object.create(null)}nc.prototype.resolve=function(e){var t=this.map[e];return t||(t=++this.seed,this.map[e]=t),t};var rc=cl.generate,ac={\"first-letter\":!0,\"first-line\":!0,after:!0,before:!0},ic={link:!0,visited:!0,hover:!0,active:!0,\"first-letter\":!0,\"first-line\":!0,after:!0,before:!0},oc=cl.keyword,sc=cl.walk,lc=cl.generate,cc=function(e,t){var n,r=(n=new nc,function(e){var t=tc(e);return e.id=n.resolve(t),e.length=t.length,e.fingerprint=null,e});return sc(e,{visit:\"Rule\",enter:function(e){e.block.children.each(r),function(e,t){var n=Object.create(null),r=!1;e.prelude.children.each((function(e){var a=\"*\",i=0;e.children.each((function(o){switch(o.type){case\"ClassSelector\":if(t&&t.scopes){var s=t.scopes[o.name]||0;if(0!==i&&s!==i)throw new Error(\"Selector can't has classes from different scopes: \"+rc(e));i=s}break;case\"PseudoClassSelector\":var l=o.name.toLowerCase();ic.hasOwnProperty(l)||(n[l]=!0,r=!0);break;case\"PseudoElementSelector\":l=o.name.toLowerCase();ac.hasOwnProperty(l)||(n[l]=!0,r=!0);break;case\"TypeSelector\":a=o.name.toLowerCase();break;case\"AttributeSelector\":o.flags&&(n[\"[\"+o.flags.toLowerCase()+\"]\"]=!0,r=!0);break;case\"WhiteSpace\":case\"Combinator\":a=\"*\"}})),e.compareMarker=function(e){var t=0,n=0,r=0;return e.children.each((function e(a){switch(a.type){case\"SelectorList\":case\"Selector\":a.children.each(e);break;case\"IdSelector\":t++;break;case\"ClassSelector\":case\"AttributeSelector\":n++;break;case\"PseudoClassSelector\":switch(a.name.toLowerCase()){case\"not\":a.children.each(e);break;case\"before\":case\"after\":case\"first-line\":case\"first-letter\":r++;break;default:n++}break;case\"PseudoElementSelector\":r++;break;case\"TypeSelector\":\"*\"!==a.name.charAt(a.name.length-1)&&r++}})),[t,n,r]}(e).toString(),e.id=null,e.id=rc(e),i&&(e.compareMarker+=\":\"+i),\"*\"!==a&&(e.compareMarker+=\",\"+a)})),e.pseudoSignature=r&&Object.keys(n).sort().join(\",\")}(e,t.usage)}}),sc(e,{visit:\"Atrule\",enter:function(e){e.prelude&&(e.prelude.id=null,e.prelude.id=lc(e.prelude)),\"keyframes\"===oc(e.name).basename&&(e.block.avoidRulesMerge=!0,e.block.children.each((function(e){e.prelude.children.each((function(e){e.compareMarker=e.id}))})))}}),{declaration:r}},uc=cl.List,hc=cl.keyword,dc=Object.prototype.hasOwnProperty,pc=cl.walk;function fc(e,t,n,r){var a=t.data,i=hc(a.name).basename,o=a.name.toLowerCase()+\"/\"+(a.prelude?a.prelude.id:null);dc.call(e,i)||(e[i]=Object.create(null)),r&&delete e[i][o],dc.call(e[i],o)||(e[i][o]=new uc),e[i][o].append(n.remove(t))}function mc(e){return\"Atrule\"===e.type&&\"media\"===e.name}function gc(e,t,n){if(mc(e)){var r=t.prev&&t.prev.data;r&&mc(r)&&e.prelude&&r.prelude&&e.prelude.id===r.prelude.id&&(r.block.children.appendList(e.block.children),n.remove(t))}}var bc=function(e,t){!function(e,t){var n=Object.create(null),r=null;for(var a in e.children.each((function(e,a,i){if(\"Atrule\"===e.type){var o=hc(e.name).basename;switch(o){case\"keyframes\":return void fc(n,a,i,!0);case\"media\":if(t.forceMediaMerge)return void fc(n,a,i,!1)}null===r&&\"charset\"!==o&&\"import\"!==o&&(r=a)}else null===r&&(r=a)})),n)for(var i in n[a])e.children.insertList(n[a][i],\"media\"===a?null:r)}(e,t),pc(e,{visit:\"Atrule\",reverse:!0,enter:gc})},yc=Object.prototype.hasOwnProperty;function kc(e,t){for(var n=e.head;null!==n;){for(var r=t.head;null!==r;){if(n.data.compareMarker===r.data.compareMarker)return!0;r=r.next}n=n.next}return!1}var vc={isEqualSelectors:function(e,t){for(var n=e.head,r=t.head;null!==n&&null!==r&&n.data.id===r.data.id;)n=n.next,r=r.next;return null===n&&null===r},isEqualDeclarations:function(e,t){for(var n=e.head,r=t.head;null!==n&&null!==r&&n.data.id===r.data.id;)n=n.next,r=r.next;return null===n&&null===r},compareDeclarations:function(e,t){for(var n={eq:[],ne1:[],ne2:[],ne2overrided:[]},r=Object.create(null),a=Object.create(null),i=t.head;i;i=i.next)a[i.data.id]=!0;for(i=e.head;i;i=i.next){(o=i.data).fingerprint&&(r[o.fingerprint]=o.important),a[o.id]?(a[o.id]=!1,n.eq.push(o)):n.ne1.push(o)}for(i=t.head;i;i=i.next){var o;a[(o=i.data).id]&&((!yc.call(r,o.fingerprint)||!r[o.fingerprint]&&o.important)&&n.ne2.push(o),n.ne2overrided.push(o))}return n},addSelectors:function(e,t){return t.each((function(t){for(var n=t.id,r=e.head;r;){var a=r.data.id;if(a===n)return;if(a>n)break;r=r.next}e.insert(e.createItem(t),r)})),e},hasSimilarSelectors:kc,unsafeToSkipNode:function e(t){switch(t.type){case\"Rule\":return kc(t.prelude.children,this);case\"Atrule\":if(t.block)return t.block.children.some(e,this);break;case\"Declaration\":return!1}return!0}},wc=cl.walk;function xc(e,t,n){var r=e.prelude.children,a=e.block.children;n.prevUntil(t.prev,(function(i){if(\"Rule\"!==i.type)return vc.unsafeToSkipNode.call(r,i);var o=i.prelude.children,s=i.block.children;if(e.pseudoSignature===i.pseudoSignature){if(vc.isEqualSelectors(o,r))return s.appendList(a),n.remove(t),!0;if(vc.isEqualDeclarations(a,s))return vc.addSelectors(o,r),n.remove(t),!0}return vc.hasSimilarSelectors(r,o)}))}var Sc=cl.List,Cc=cl.walk;function Ac(e,t,n){for(var r=e.prelude.children;r.head!==r.tail;){var a=new Sc;a.insert(r.remove(r.head)),n.insert(n.createItem({type:\"Rule\",loc:e.loc,prelude:{type:\"SelectorList\",loc:e.prelude.loc,children:a},block:{type:\"Block\",loc:e.block.loc,children:e.block.children.copy()},pseudoSignature:e.pseudoSignature}),t)}}var zc=cl.List,Pc=cl.generate,Lc=cl.walk,Tc=[\"top\",\"right\",\"bottom\",\"left\"],Ec={\"margin-top\":\"top\",\"margin-right\":\"right\",\"margin-bottom\":\"bottom\",\"margin-left\":\"left\",\"padding-top\":\"top\",\"padding-right\":\"right\",\"padding-bottom\":\"bottom\",\"padding-left\":\"left\",\"border-top-color\":\"top\",\"border-right-color\":\"right\",\"border-bottom-color\":\"bottom\",\"border-left-color\":\"left\",\"border-top-width\":\"top\",\"border-right-width\":\"right\",\"border-bottom-width\":\"bottom\",\"border-left-width\":\"left\",\"border-top-style\":\"top\",\"border-right-style\":\"right\",\"border-bottom-style\":\"bottom\",\"border-left-style\":\"left\"},Oc={margin:\"margin\",\"margin-top\":\"margin\",\"margin-right\":\"margin\",\"margin-bottom\":\"margin\",\"margin-left\":\"margin\",padding:\"padding\",\"padding-top\":\"padding\",\"padding-right\":\"padding\",\"padding-bottom\":\"padding\",\"padding-left\":\"padding\",\"border-color\":\"border-color\",\"border-top-color\":\"border-color\",\"border-right-color\":\"border-color\",\"border-bottom-color\":\"border-color\",\"border-left-color\":\"border-color\",\"border-width\":\"border-width\",\"border-top-width\":\"border-width\",\"border-right-width\":\"border-width\",\"border-bottom-width\":\"border-width\",\"border-left-width\":\"border-width\",\"border-style\":\"border-style\",\"border-top-style\":\"border-style\",\"border-right-style\":\"border-style\",\"border-bottom-style\":\"border-style\",\"border-left-style\":\"border-style\"};function Dc(e){this.name=e,this.loc=null,this.iehack=void 0,this.sides={top:null,right:null,bottom:null,left:null}}function Rc(e,t,n,r){var a=e.block.children,i=e.prelude.children.first().id;return e.block.children.eachRight((function(e,o){var s=e.property;if(Oc.hasOwnProperty(s)){var l,c,u=Oc[s];r&&i!==r||u in t&&(c=2,l=t[u]),l&&l.add(s,e)||(c=1,(l=new Dc(u)).add(s,e))?(t[u]=l,n.push({operation:c,block:a,item:o,shorthand:l}),r=i):r=null}})),r}Dc.prototype.getValueSequence=function(e,t){var n=[],r=\"\";return!(e.value.children.some((function(t){var a=!1;switch(t.type){case\"Identifier\":switch(t.name){case\"\\\\0\":case\"\\\\9\":return void(r=t.name);case\"inherit\":case\"initial\":case\"unset\":case\"revert\":a=t.name}break;case\"Dimension\":switch(t.unit){case\"rem\":case\"vw\":case\"vh\":case\"vmin\":case\"vmax\":case\"vm\":a=t.unit}break;case\"HexColor\":case\"Number\":case\"Percentage\":break;case\"Function\":a=t.name;break;case\"WhiteSpace\":return!1;default:return!0}n.push({node:t,special:a,important:e.important})}))||n.length>t)&&((\"string\"!=typeof this.iehack||this.iehack===r)&&(this.iehack=r,n))},Dc.prototype.canOverride=function(e,t){var n=this.sides[e];return!n||t.important&&!n.important},Dc.prototype.add=function(e,t){return!!function(){var n=this.sides,r=Ec[e];if(r){if(r in n==!1)return!1;if(!(i=this.getValueSequence(t,1))||!i.length)return!1;for(var a in n)if(null!==n[a]&&n[a].special!==i[0].special)return!1;return!this.canOverride(r,i[0])||(n[r]=i[0],!0)}if(e===this.name){var i;if(!(i=this.getValueSequence(t,4))||!i.length)return!1;switch(i.length){case 1:i[1]=i[0],i[2]=i[0],i[3]=i[0];break;case 2:i[2]=i[0],i[3]=i[1];break;case 3:i[3]=i[1]}for(var o=0;o<4;o++)for(var a in n)if(null!==n[a]&&n[a].special!==i[o].special)return!1;for(o=0;o<4;o++)this.canOverride(Tc[o],i[o])&&(n[Tc[o]]=i[o]);return!0}}.call(this)&&(this.loc||(this.loc=t.loc),!0)},Dc.prototype.isOkToMinimize=function(){var e=this.sides.top,t=this.sides.right,n=this.sides.bottom,r=this.sides.left;if(e&&t&&n&&r){var a=e.important+t.important+n.important+r.important;return 0===a||4===a}return!1},Dc.prototype.getValue=function(){var e=new zc,t=this.sides,n=[t.top,t.right,t.bottom,t.left],r=[Pc(t.top.node),Pc(t.right.node),Pc(t.bottom.node),Pc(t.left.node)];r[3]===r[1]&&(n.pop(),r[2]===r[0]&&(n.pop(),r[1]===r[0]&&n.pop()));for(var a=0;a<n.length;a++)a&&e.appendData({type:\"WhiteSpace\",value:\" \"}),e.appendData(n[a].node);return this.iehack&&(e.appendData({type:\"WhiteSpace\",value:\" \"}),e.appendData({type:\"Identifier\",loc:null,name:this.iehack})),{type:\"Value\",loc:null,children:e}},Dc.prototype.getDeclaration=function(){return{type:\"Declaration\",loc:this.loc,important:this.sides.top.important,property:this.name,value:this.getValue()}};var Ic=function(e,t){var n={},r=[];Lc(e,{visit:\"Rule\",reverse:!0,enter:function(e){var t,a,i=this.block||this.stylesheet,o=(e.pseudoSignature||\"\")+\"|\"+e.prelude.children.first().id;n.hasOwnProperty(i.id)?t=n[i.id]:(t={lastShortSelector:null},n[i.id]=t),t.hasOwnProperty(o)?a=t[o]:(a={},t[o]=a),t.lastShortSelector=Rc.call(this,e,a,r,t.lastShortSelector)}}),function(e,t){e.forEach((function(e){var n=e.shorthand;n.isOkToMinimize()&&(1===e.operation?e.item.data=t(n.getDeclaration()):e.block.remove(e.item))}))}(r,t.declaration)},Mc=cl.property,Nc=cl.keyword,Bc=cl.walk,jc=cl.generate,_c=1,qc={src:1},Wc={display:/table|ruby|flex|-(flex)?box$|grid|contents|run-in/i,\"text-align\":/^(start|end|match-parent|justify-all)$/i},Fc=[\"auto\",\"crosshair\",\"default\",\"move\",\"text\",\"wait\",\"help\",\"n-resize\",\"e-resize\",\"s-resize\",\"w-resize\",\"ne-resize\",\"nw-resize\",\"se-resize\",\"sw-resize\",\"pointer\",\"progress\",\"not-allowed\",\"no-drop\",\"vertical-text\",\"all-scroll\",\"col-resize\",\"row-resize\"],Uc=[\"static\",\"relative\",\"absolute\",\"fixed\"],Yc={\"border-width\":[\"border\"],\"border-style\":[\"border\"],\"border-color\":[\"border\"],\"border-top\":[\"border\"],\"border-right\":[\"border\"],\"border-bottom\":[\"border\"],\"border-left\":[\"border\"],\"border-top-width\":[\"border-top\",\"border-width\",\"border\"],\"border-right-width\":[\"border-right\",\"border-width\",\"border\"],\"border-bottom-width\":[\"border-bottom\",\"border-width\",\"border\"],\"border-left-width\":[\"border-left\",\"border-width\",\"border\"],\"border-top-style\":[\"border-top\",\"border-style\",\"border\"],\"border-right-style\":[\"border-right\",\"border-style\",\"border\"],\"border-bottom-style\":[\"border-bottom\",\"border-style\",\"border\"],\"border-left-style\":[\"border-left\",\"border-style\",\"border\"],\"border-top-color\":[\"border-top\",\"border-color\",\"border\"],\"border-right-color\":[\"border-right\",\"border-color\",\"border\"],\"border-bottom-color\":[\"border-bottom\",\"border-color\",\"border\"],\"border-left-color\":[\"border-left\",\"border-color\",\"border\"],\"margin-top\":[\"margin\"],\"margin-right\":[\"margin\"],\"margin-bottom\":[\"margin\"],\"margin-left\":[\"margin\"],\"padding-top\":[\"padding\"],\"padding-right\":[\"padding\"],\"padding-bottom\":[\"padding\"],\"padding-left\":[\"padding\"],\"font-style\":[\"font\"],\"font-variant\":[\"font\"],\"font-weight\":[\"font\"],\"font-size\":[\"font\"],\"font-family\":[\"font\"],\"list-style-type\":[\"list-style\"],\"list-style-position\":[\"list-style\"],\"list-style-image\":[\"list-style\"]};function Hc(e,t,n){var r=Mc(e).basename;if(\"background\"===r)return e+\":\"+jc(t.value);var a=t.id,i=n[a];if(!i){switch(t.value.type){case\"Value\":var o=\"\",s=\"\",l={},c=!1;t.value.children.each((function e(t){switch(t.type){case\"Value\":case\"Brackets\":case\"Parentheses\":t.children.each(e);break;case\"Raw\":c=!0;break;case\"Identifier\":var n=t.name;o||(o=Nc(n).vendor),/\\\\[09]/.test(n)&&(s=RegExp.lastMatch),\"cursor\"===r?-1===Fc.indexOf(n)&&(l[n]=!0):\"position\"===r?-1===Uc.indexOf(n)&&(l[n]=!0):Wc.hasOwnProperty(r)&&Wc[r].test(n)&&(l[n]=!0);break;case\"Function\":n=t.name;if(o||(o=Nc(n).vendor),\"rect\"===n)t.children.some((function(e){return\"Operator\"===e.type&&\",\"===e.value}))||(n=\"rect-backward\");l[n+\"()\"]=!0,t.children.each(e);break;case\"Dimension\":var a=t.unit;switch(/\\\\[09]/.test(a)&&(s=RegExp.lastMatch),a){case\"rem\":case\"vw\":case\"vh\":case\"vmin\":case\"vmax\":case\"vm\":l[a]=!0}}})),i=c?\"!\"+_c++:\"!\"+Object.keys(l).sort()+\"|\"+s+o;break;case\"Raw\":i=\"!\"+t.value.value;break;default:i=jc(t.value)}n[a]=i}return e+i}function Vc(e,t,n,r,a){var i=e.block.children;i.eachRight((function(e,t){var n,o=e.property,s=Hc(o,e,a);(n=r[s])&&!qc.hasOwnProperty(o)?e.important&&!n.item.data.important?(r[s]={block:i,item:t},n.block.remove(n.item)):i.remove(t):(n=function(e,t,n){var r=Mc(t.property);if(Yc.hasOwnProperty(r.basename))for(var a=Yc[r.basename],i=0;i<a.length;i++){var o=Hc(r.prefix+a[i],t,n),s=e.hasOwnProperty(o)?e[o]:null;if(s&&(!t.important||s.item.data.important))return s}}(r,e,a))?i.remove(t):(e.fingerprint=s,r[s]={block:i,item:t})})),i.isEmpty()&&n.remove(t)}var Kc=cl.walk;function Gc(e,t,n){var r=e.prelude.children,a=e.block.children,i=r.first().compareMarker,o={};n.nextUntil(t.next,(function(t,s){if(\"Rule\"!==t.type)return vc.unsafeToSkipNode.call(r,t);if(e.pseudoSignature!==t.pseudoSignature)return!0;var l=t.prelude.children.head,c=t.block.children,u=l.data.compareMarker;if(u in o)return!0;if(r.head===r.tail&&r.first().id===l.data.id)return a.appendList(c),void n.remove(s);if(vc.isEqualDeclarations(a,c)){var h=l.data.id;return r.some((function(e,t){var n=e.id;return h<n?(r.insert(l,t),!0):t.next?void 0:(r.insert(l),!0)})),void n.remove(s)}if(u===i)return!0;o[u]=!0}))}var $c=cl.List,Qc=cl.walk;function Xc(e){var t=0;return e.each((function(e){t+=e.id.length+1})),t-1}function Zc(e){for(var t=0,n=0;n<e.length;n++)t+=e[n].length;return t+e.length-1}function Jc(e,t,n){var r=null!==this.block&&this.block.avoidRulesMerge,a=e.prelude.children,i=e.block,o=Object.create(null),s=!0,l=!0;n.prevUntil(t.prev,(function(c,u){var h=c.block,d=c.type;if(\"Rule\"!==d){var p=vc.unsafeToSkipNode.call(a,c);return!p&&\"Atrule\"===d&&h&&Qc(h,{visit:\"Rule\",enter:function(e){e.prelude.children.each((function(e){o[e.compareMarker]=!0}))}}),p}var f=c.prelude.children;if(e.pseudoSignature!==c.pseudoSignature)return!0;if(!(l=!f.some((function(e){return e.compareMarker in o})))&&!s)return!0;if(s&&vc.isEqualSelectors(f,a))return h.children.appendList(i.children),n.remove(t),!0;var m=vc.compareDeclarations(i.children,h.children);if(m.eq.length){if(!m.ne1.length&&!m.ne2.length)return l&&(vc.addSelectors(a,f),n.remove(u)),!0;if(!r)if(m.ne1.length&&!m.ne2.length){var g=Xc(a),b=Zc(m.eq);s&&g<b&&(vc.addSelectors(f,a),i.children=(new $c).fromArray(m.ne1))}else if(!m.ne1.length&&m.ne2.length){g=Xc(f),b=Zc(m.eq);l&&g<b&&(vc.addSelectors(a,f),h.children=(new $c).fromArray(m.ne2))}else{var y={type:\"SelectorList\",loc:null,children:vc.addSelectors(f.copy(),a)},k=Xc(y.children)+2;if((b=Zc(m.eq))>=k){var v=n.createItem({type:\"Rule\",loc:null,prelude:y,block:{type:\"Block\",loc:null,children:(new $c).fromArray(m.eq)},pseudoSignature:e.pseudoSignature});return i.children=(new $c).fromArray(m.ne1),h.children=(new $c).fromArray(m.ne2overrided),s?n.insert(v,u):n.insert(v,t),!0}}}s&&(s=!f.some((function(e){return a.some((function(t){return t.compareMarker===e.compareMarker}))}))),f.each((function(e){o[e.compareMarker]=!0}))}))}var eu=function(e,t){var n=cc(e,t);t.logger(\"prepare\",e),bc(e,t),t.logger(\"mergeAtrule\",e),function(e){wc(e,{visit:\"Rule\",enter:xc})}(e),t.logger(\"initialMergeRuleset\",e),function(e){Cc(e,{visit:\"Rule\",reverse:!0,enter:Ac})}(e),t.logger(\"disjoinRuleset\",e),Ic(e,n),t.logger(\"restructShorthand\",e),function(e){var t={},n=Object.create(null);Bc(e,{visit:\"Rule\",reverse:!0,enter:function(e,r,a){var i,o,s=this.block||this.stylesheet,l=(e.pseudoSignature||\"\")+\"|\"+e.prelude.children.first().id;t.hasOwnProperty(s.id)?i=t[s.id]:(i={},t[s.id]=i),i.hasOwnProperty(l)?o=i[l]:(o={},i[l]=o),Vc.call(this,e,r,a,o,n)}})}(e),t.logger(\"restructBlock\",e),function(e){Kc(e,{visit:\"Rule\",enter:Gc})}(e),t.logger(\"mergeRuleset\",e),function(e){Qc(e,{visit:\"Rule\",reverse:!0,enter:Jc})}(e),t.logger(\"restructRuleset\",e)},tu=cl.List,nu=cl.clone,ru=cl.walk;function au(e,t){var n,r=new tu,a=!1;return e.nextUntil(e.head,(function(e,i,o){if(\"Comment\"===e.type)return t&&\"!\"===e.value.charAt(0)?!(!a&&!n)||(o.remove(i),void(n=e)):void o.remove(i);\"WhiteSpace\"!==e.type&&(a=!0),r.insert(o.remove(i))})),{comment:n,stylesheet:{type:\"StyleSheet\",loc:null,children:r}}}function iu(e,t,n,r){r.logger(\"Compress block #\"+n,null,!0);var a=1;return\"StyleSheet\"===e.type&&(e.firstAtrulesAllowed=t,e.id=a++),ru(e,{visit:\"Atrule\",enter:function(e){null!==e.block&&(e.block.id=a++)}}),r.logger(\"init\",e),function(e,t){Sl(e,{leave:function(e,n,r){Cl.hasOwnProperty(e.type)&&Cl[e.type].call(this,e,n,r,t)}})}(e,r),r.logger(\"clean\",e),function(e){Jl(e,{leave:function(e,t,n){ec.hasOwnProperty(e.type)&&ec[e.type].call(this,e,t,n)}})}(e),r.logger(\"replace\",e),r.restructuring&&eu(e,r),e}function ou(e){return\"restructure\"in e?e.restructure:!(\"restructuring\"in e)||e.restructuring}var su=function(e,t){e=e||{type:\"StyleSheet\",loc:null,children:new tu};var n,r,a,i,o={logger:\"function\"==typeof(t=t||{}).logger?t.logger:function(){},restructuring:ou(t),forceMediaMerge:Boolean(t.forceMediaMerge),usage:!!t.usage&&pl.buildIndex(t.usage)},s=function(e){var t=\"comments\"in e?e.comments:\"exclamation\";return\"boolean\"==typeof t?t=!!t&&\"exclamation\":\"exclamation\"!==t&&\"first-exclamation\"!==t&&(t=!1),t}(t),l=!0,c=new tu,u=1;t.clone&&(e=nu(e)),\"StyleSheet\"===e.type?(n=e.children,e.children=c):(i=e,n=(new tu).appendData({type:\"Rule\",loc:null,prelude:{type:\"SelectorList\",loc:null,children:(new tu).appendData({type:\"Selector\",loc:null,children:(new tu).appendData({type:\"TypeSelector\",loc:null,name:\"x\"})})},block:i}));do{if(iu((r=au(n,Boolean(s))).stylesheet,l,u++,o),a=r.stylesheet.children,r.comment&&(c.isEmpty()||c.insert(tu.createItem({type:\"Raw\",value:\"\\n\"})),c.insert(tu.createItem(r.comment)),a.isEmpty()||c.insert(tu.createItem({type:\"Raw\",value:\"\\n\"}))),l&&!a.isEmpty()){var h=a.last();(\"Atrule\"!==h.type||\"import\"!==h.name&&\"charset\"!==h.name)&&(l=!1)}\"exclamation\"!==s&&(s=!1),c.appendList(a)}while(!n.isEmpty());return{ast:e}},lu={version:\"4.0.3\"},cu=Zn(Object.freeze({__proto__:null,version:\"4.0.3\",default:lu})),uu=cl.parse,hu=cl.generate;function du(e,t,n,r){return t.debug&&console.error(\"## \"+e+\" done in %d ms\\n\",Date.now()-n),r}function pu(e){var t,n;return\"function\"!=typeof(e=function(e){var t={};for(var n in e)t[n]=e[n];return t}(e)).logger&&e.debug&&(e.logger=(t=e.debug,function(e,r){var a=e;if(r&&(a=\"[\"+((Date.now()-n)/1e3).toFixed(3)+\"s] \"+a),t>1&&r){var i=hu(r);2===t&&i.length>256&&(i=i.substr(0,256)+\"...\"),a+=\"\\n  \"+i+\"\\n\"}console.error(a),n=Date.now()})),e}function fu(e,t,n){Array.isArray(n)||(n=[n]),n.forEach((function(n){n(e,t)}))}function mu(e,t,n){var r=(n=n||{}).filename||\"<unknown>\",a=du(\"parsing\",n,Date.now(),uu(t,{context:e,filename:r,positions:Boolean(n.sourceMap)}));n.beforeCompress&&du(\"beforeCompress\",n,Date.now(),fu(a,n,n.beforeCompress));var i,o=du(\"compress\",n,Date.now(),su(a,pu(n)));return n.afterCompress&&du(\"afterCompress\",n,Date.now(),fu(o,n,n.afterCompress)),n.sourceMap?du(\"generate(sourceMap: true)\",n,Date.now(),((i=hu(o.ast,{sourceMap:!0})).map._file=r,i.map.setSourceContent(r,t),i)):du(\"generate\",n,Date.now(),{css:hu(o.ast),map:null})}var gu={version:cu.version,minify:function(e,t){return mu(\"stylesheet\",e,t)},minifyBlock:function(e,t){return mu(\"declarationList\",e,t)},syntax:Object.assign({compress:su},cl)},bu=gu.version,yu=gu.minify,ku=gu.minifyBlock,vu=gu.syntax;e.default=gu,e.minify=yu,e.minifyBlock=ku,e.syntax=vu,e.version=bu,Object.defineProperty(e,\"__esModule\",{value:!0})}));","Magento_PageBuilder/js/resource/dropzone/dropzone.js":"// Uses AMD or browser globals to create a jQuery plugin.\r\n(function (factory) {\r\n    if (typeof define === 'function' && define.amd) {\r\n        // AMD. Register as an anonymous module.\r\n        define(['jquery'], factory);\r\n    } else {\r\n        // Browser globals\r\n        factory(jQuery);\r\n    }\r\n} (function (jQuery) {\r\n    var module = { exports: { } }; // Fake component\r\n\r\n\r\n    /*\r\n     *\r\n     * More info at [www.dropzonejs.com](http://www.dropzonejs.com)\r\n     *\r\n     * Copyright (c) 2012, Matias Meno\r\n     *\r\n     * Permission is hereby granted, free of charge, to any person obtaining a copy\r\n     * of this software and associated documentation files (the \"Software\"), to deal\r\n     * in the Software without restriction, including without limitation the rights\r\n     * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n     * copies of the Software, and to permit persons to whom the Software is\r\n     * furnished to do so, subject to the following conditions:\r\n     *\r\n     * The above copyright notice and this permission notice shall be included in\r\n     * all copies or substantial portions of the Software.\r\n     *\r\n     * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n     * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n     * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n     * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n     * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n     * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n     * THE SOFTWARE.\r\n     *\r\n     */\r\n\r\n    (function() {\r\n        var Dropzone, Emitter, camelize, contentLoaded, detectVerticalSquash, drawImageIOSFix, noop, without,\r\n            __slice = [].slice,\r\n            __hasProp = {}.hasOwnProperty,\r\n            __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };\r\n\r\n        noop = function() {};\r\n\r\n        Emitter = (function() {\r\n            function Emitter() {}\r\n\r\n            Emitter.prototype.addEventListener = Emitter.prototype.on;\r\n\r\n            Emitter.prototype.on = function(event, fn) {\r\n                this._callbacks = this._callbacks || {};\r\n                if (!this._callbacks[event]) {\r\n                    this._callbacks[event] = [];\r\n                }\r\n                this._callbacks[event].push(fn);\r\n                return this;\r\n            };\r\n\r\n            Emitter.prototype.emit = function() {\r\n                var args, callback, callbacks, event, _i, _len;\r\n                event = arguments[0], args = 2 <= arguments.length ? __slice.call(arguments, 1) : [];\r\n                this._callbacks = this._callbacks || {};\r\n                callbacks = this._callbacks[event];\r\n                if (callbacks) {\r\n                    for (_i = 0, _len = callbacks.length; _i < _len; _i++) {\r\n                        callback = callbacks[_i];\r\n                        callback.apply(this, args);\r\n                    }\r\n                }\r\n                return this;\r\n            };\r\n\r\n            Emitter.prototype.removeListener = Emitter.prototype.off;\r\n\r\n            Emitter.prototype.removeAllListeners = Emitter.prototype.off;\r\n\r\n            Emitter.prototype.removeEventListener = Emitter.prototype.off;\r\n\r\n            Emitter.prototype.off = function(event, fn) {\r\n                var callback, callbacks, i, _i, _len;\r\n                if (!this._callbacks || arguments.length === 0) {\r\n                    this._callbacks = {};\r\n                    return this;\r\n                }\r\n                callbacks = this._callbacks[event];\r\n                if (!callbacks) {\r\n                    return this;\r\n                }\r\n                if (arguments.length === 1) {\r\n                    delete this._callbacks[event];\r\n                    return this;\r\n                }\r\n                for (i = _i = 0, _len = callbacks.length; _i < _len; i = ++_i) {\r\n                    callback = callbacks[i];\r\n                    if (callback === fn) {\r\n                        callbacks.splice(i, 1);\r\n                        break;\r\n                    }\r\n                }\r\n                return this;\r\n            };\r\n\r\n            return Emitter;\r\n\r\n        })();\r\n\r\n        Dropzone = (function(_super) {\r\n            var extend, resolveOption;\r\n\r\n            __extends(Dropzone, _super);\r\n\r\n            Dropzone.prototype.Emitter = Emitter;\r\n\r\n\r\n            /*\r\n             This is a list of all available events you can register on a dropzone object.\r\n\r\n             You can register an event handler like this:\r\n\r\n             dropzone.on(\"dragEnter\", function() { });\r\n             */\r\n\r\n            Dropzone.prototype.events = [\"drop\", \"dragstart\", \"dragend\", \"dragenter\", \"dragover\", \"dragleave\", \"addedfile\", \"addedfiles\", \"removedfile\", \"thumbnail\", \"error\", \"errormultiple\", \"processing\", \"processingmultiple\", \"uploadprogress\", \"totaluploadprogress\", \"sending\", \"sendingmultiple\", \"success\", \"successmultiple\", \"canceled\", \"canceledmultiple\", \"complete\", \"completemultiple\", \"reset\", \"maxfilesexceeded\", \"maxfilesreached\", \"queuecomplete\"];\r\n\r\n            Dropzone.prototype.defaultOptions = {\r\n                url: null,\r\n                method: \"post\",\r\n                withCredentials: false,\r\n                parallelUploads: 2,\r\n                uploadMultiple: false,\r\n                maxFilesize: 256,\r\n                paramName: \"file\",\r\n                createImageThumbnails: true,\r\n                maxThumbnailFilesize: 10,\r\n                thumbnailWidth: 120,\r\n                thumbnailHeight: 120,\r\n                filesizeBase: 1000,\r\n                maxFiles: null,\r\n                params: {},\r\n                clickable: true,\r\n                ignoreHiddenFiles: true,\r\n                acceptedFiles: null,\r\n                acceptedMimeTypes: null,\r\n                autoProcessQueue: true,\r\n                autoQueue: true,\r\n                addRemoveLinks: false,\r\n                previewsContainer: null,\r\n                hiddenInputContainer: \"body\",\r\n                capture: null,\r\n                dictDefaultMessage: \"Drop files here to upload\",\r\n                dictFallbackMessage: \"Your browser does not support drag'n'drop file uploads.\",\r\n                dictFallbackText: \"Please use the fallback form below to upload your files like in the olden days.\",\r\n                dictFileTooBig: \"File is too big ({{filesize}}MiB). Max filesize: {{maxFilesize}}MiB.\",\r\n                dictInvalidFileType: \"You can't upload files of this type.\",\r\n                dictResponseError: \"Server responded with {{statusCode}} code.\",\r\n                dictCancelUpload: \"Cancel upload\",\r\n                dictCancelUploadConfirmation: \"Are you sure you want to cancel this upload?\",\r\n                dictRemoveFile: \"Remove file\",\r\n                dictRemoveFileConfirmation: null,\r\n                dictMaxFilesExceeded: \"You can not upload any more files.\",\r\n                accept: function(file, done) {\r\n                    return done();\r\n                },\r\n                init: function() {\r\n                    return noop;\r\n                },\r\n                forceFallback: false,\r\n                fallback: function() {\r\n                    var child, messageElement, span, _i, _len, _ref;\r\n                    this.element.className = \"\" + this.element.className + \" dz-browser-not-supported\";\r\n                    _ref = this.element.getElementsByTagName(\"div\");\r\n                    for (_i = 0, _len = _ref.length; _i < _len; _i++) {\r\n                        child = _ref[_i];\r\n                        if (/(^| )dz-message($| )/.test(child.className)) {\r\n                            messageElement = child;\r\n                            child.className = \"dz-message\";\r\n                            continue;\r\n                        }\r\n                    }\r\n                    if (!messageElement) {\r\n                        messageElement = Dropzone.createElement(\"<div class=\\\"dz-message\\\"><span></span></div>\");\r\n                        this.element.appendChild(messageElement);\r\n                    }\r\n                    span = messageElement.getElementsByTagName(\"span\")[0];\r\n                    if (span) {\r\n                        if (span.textContent != null) {\r\n                            span.textContent = this.options.dictFallbackMessage;\r\n                        } else if (span.innerText != null) {\r\n                            span.innerText = this.options.dictFallbackMessage;\r\n                        }\r\n                    }\r\n                    return this.element.appendChild(this.getFallbackForm());\r\n                },\r\n                resize: function(file) {\r\n                    var info, srcRatio, trgRatio;\r\n                    info = {\r\n                        srcX: 0,\r\n                        srcY: 0,\r\n                        srcWidth: file.width,\r\n                        srcHeight: file.height\r\n                    };\r\n                    srcRatio = file.width / file.height;\r\n                    info.optWidth = this.options.thumbnailWidth;\r\n                    info.optHeight = this.options.thumbnailHeight;\r\n                    if ((info.optWidth == null) && (info.optHeight == null)) {\r\n                        info.optWidth = info.srcWidth;\r\n                        info.optHeight = info.srcHeight;\r\n                    } else if (info.optWidth == null) {\r\n                        info.optWidth = srcRatio * info.optHeight;\r\n                    } else if (info.optHeight == null) {\r\n                        info.optHeight = (1 / srcRatio) * info.optWidth;\r\n                    }\r\n                    trgRatio = info.optWidth / info.optHeight;\r\n                    if (file.height < info.optHeight || file.width < info.optWidth) {\r\n                        info.trgHeight = info.srcHeight;\r\n                        info.trgWidth = info.srcWidth;\r\n                    } else {\r\n                        if (srcRatio > trgRatio) {\r\n                            info.srcHeight = file.height;\r\n                            info.srcWidth = info.srcHeight * trgRatio;\r\n                        } else {\r\n                            info.srcWidth = file.width;\r\n                            info.srcHeight = info.srcWidth / trgRatio;\r\n                        }\r\n                    }\r\n                    info.srcX = (file.width - info.srcWidth) / 2;\r\n                    info.srcY = (file.height - info.srcHeight) / 2;\r\n                    return info;\r\n                },\r\n\r\n                /*\r\n                 Those functions register themselves to the events on init and handle all\r\n                 the user interface specific stuff. Overwriting them won't break the upload\r\n                 but can break the way it's displayed.\r\n                 You can overwrite them if you don't like the default behavior. If you just\r\n                 want to add an additional event handler, register it on the dropzone object\r\n                 and don't overwrite those options.\r\n                 */\r\n                drop: function(e) {\r\n                    return this.element.classList.remove(\"dz-drag-hover\");\r\n                },\r\n                dragstart: noop,\r\n                dragend: function(e) {\r\n                    return this.element.classList.remove(\"dz-drag-hover\");\r\n                },\r\n                dragenter: function(e) {\r\n                    return this.element.classList.add(\"dz-drag-hover\");\r\n                },\r\n                dragover: function(e) {\r\n                    return this.element.classList.add(\"dz-drag-hover\");\r\n                },\r\n                dragleave: function(e) {\r\n                    return this.element.classList.remove(\"dz-drag-hover\");\r\n                },\r\n                paste: noop,\r\n                reset: function() {\r\n                    return this.element.classList.remove(\"dz-started\");\r\n                },\r\n                addedfile: function(file) {\r\n                    var node, removeFileEvent, removeLink, _i, _j, _k, _len, _len1, _len2, _ref, _ref1, _ref2, _results;\r\n                    if (this.element === this.previewsContainer) {\r\n                        this.element.classList.add(\"dz-started\");\r\n                    }\r\n                    if (this.previewsContainer) {\r\n                        file.previewElement = Dropzone.createElement(this.options.template.trim());\r\n                        file.template = file.previewElement;\r\n                        this.previewsContainer.appendChild(file.previewElement);\r\n                        _ref = file.previewElement.querySelectorAll(\"[data-dz-name]\");\r\n                        for (_i = 0, _len = _ref.length; _i < _len; _i++) {\r\n                            node = _ref[_i];\r\n                            node.textContent = file.name;\r\n                        }\r\n                        _ref1 = file.previewElement.querySelectorAll(\"[data-dz-size]\");\r\n                        for (_j = 0, _len1 = _ref1.length; _j < _len1; _j++) {\r\n                            node = _ref1[_j];\r\n                            node.innerHTML = this.filesize(file.size);\r\n                        }\r\n                        if (this.options.addRemoveLinks) {\r\n                            file._removeLink = Dropzone.createElement(\"<a class=\\\"dz-remove\\\" href=\\\"javascript:undefined;\\\" data-dz-remove>\" + this.options.dictRemoveFile + \"</a>\");\r\n                            file.previewElement.appendChild(file._removeLink);\r\n                        }\r\n                        removeFileEvent = (function(_this) {\r\n                            return function(e) {\r\n                                e.preventDefault();\r\n                                e.stopPropagation();\r\n                                if (file.status === Dropzone.UPLOADING) {\r\n                                    return Dropzone.confirm(_this.options.dictCancelUploadConfirmation, function() {\r\n                                        return _this.removeFile(file);\r\n                                    });\r\n                                } else {\r\n                                    if (_this.options.dictRemoveFileConfirmation) {\r\n                                        return Dropzone.confirm(_this.options.dictRemoveFileConfirmation, function() {\r\n                                            return _this.removeFile(file);\r\n                                        });\r\n                                    } else {\r\n                                        return _this.removeFile(file);\r\n                                    }\r\n                                }\r\n                            };\r\n                        })(this);\r\n                        _ref2 = file.previewElement.querySelectorAll(\"[data-dz-remove]\");\r\n                        _results = [];\r\n                        for (_k = 0, _len2 = _ref2.length; _k < _len2; _k++) {\r\n                            removeLink = _ref2[_k];\r\n                            _results.push(removeLink.addEventListener(\"click\", removeFileEvent));\r\n                        }\r\n                        return _results;\r\n                    }\r\n                },\r\n                removedfile: function(file) {\r\n                    var _ref;\r\n                    if (file.previewElement) {\r\n                        if ((_ref = file.previewElement) != null) {\r\n                            _ref.parentNode.removeChild(file.previewElement);\r\n                        }\r\n                    }\r\n                    return this._updateMaxFilesReachedClass();\r\n                },\r\n                thumbnail: function(file, dataUrl) {\r\n                    var thumbnailElement, _i, _len, _ref;\r\n                    if (file.previewElement) {\r\n                        file.previewElement.classList.remove(\"dz-file-preview\");\r\n                        _ref = file.previewElement.querySelectorAll(\"[data-dz-thumbnail]\");\r\n                        for (_i = 0, _len = _ref.length; _i < _len; _i++) {\r\n                            thumbnailElement = _ref[_i];\r\n                            thumbnailElement.alt = file.name;\r\n                            thumbnailElement.src = dataUrl;\r\n                        }\r\n                        return setTimeout(((function(_this) {\r\n                            return function() {\r\n                                return file.previewElement.classList.add(\"dz-image-preview\");\r\n                            };\r\n                        })(this)), 1);\r\n                    }\r\n                },\r\n                error: function(file, message) {\r\n                    var node, _i, _len, _ref, _results;\r\n                    if (file.previewElement) {\r\n                        file.previewElement.classList.add(\"dz-error\");\r\n                        if (typeof message !== \"String\" && message.error) {\r\n                            message = message.error;\r\n                        }\r\n                        _ref = file.previewElement.querySelectorAll(\"[data-dz-errormessage]\");\r\n                        _results = [];\r\n                        for (_i = 0, _len = _ref.length; _i < _len; _i++) {\r\n                            node = _ref[_i];\r\n                            _results.push(node.textContent = message);\r\n                        }\r\n                        return _results;\r\n                    }\r\n                },\r\n                errormultiple: noop,\r\n                processing: function(file) {\r\n                    if (file.previewElement) {\r\n                        file.previewElement.classList.add(\"dz-processing\");\r\n                        if (file._removeLink) {\r\n                            return file._removeLink.textContent = this.options.dictCancelUpload;\r\n                        }\r\n                    }\r\n                },\r\n                processingmultiple: noop,\r\n                uploadprogress: function(file, progress, bytesSent) {\r\n                    var node, _i, _len, _ref, _results;\r\n                    if (file.previewElement) {\r\n                        _ref = file.previewElement.querySelectorAll(\"[data-dz-uploadprogress]\");\r\n                        _results = [];\r\n                        for (_i = 0, _len = _ref.length; _i < _len; _i++) {\r\n                            node = _ref[_i];\r\n                            if (node.nodeName === 'PROGRESS') {\r\n                                _results.push(node.value = progress);\r\n                            } else {\r\n                                _results.push(node.style.width = \"\" + progress + \"%\");\r\n                            }\r\n                        }\r\n                        return _results;\r\n                    }\r\n                },\r\n                totaluploadprogress: noop,\r\n                sending: noop,\r\n                sendingmultiple: noop,\r\n                success: function(file) {\r\n                    if (file.previewElement) {\r\n                        return file.previewElement.classList.add(\"dz-success\");\r\n                    }\r\n                },\r\n                successmultiple: noop,\r\n                canceled: function(file) {\r\n                    return this.emit(\"error\", file, \"Upload canceled.\");\r\n                },\r\n                canceledmultiple: noop,\r\n                complete: function(file) {\r\n                    if (file._removeLink) {\r\n                        file._removeLink.textContent = this.options.dictRemoveFile;\r\n                    }\r\n                    if (file.previewElement) {\r\n                        return file.previewElement.classList.add(\"dz-complete\");\r\n                    }\r\n                },\r\n                completemultiple: noop,\r\n                maxfilesexceeded: noop,\r\n                maxfilesreached: noop,\r\n                queuecomplete: noop,\r\n                addedfiles: noop,\r\n                template: \"<div class=\\\"dz-preview dz-file-preview\\\">\\n  <div class=\\\"dz-image\\\"><img data-dz-thumbnail /></div>\\n  <div class=\\\"dz-details\\\">\\n    <div class=\\\"dz-size\\\"><span data-dz-size></span></div>\\n    <div class=\\\"dz-filename\\\"><span data-dz-name></span></div>\\n  </div>\\n  <div class=\\\"dz-progress\\\"><span class=\\\"dz-upload\\\" data-dz-uploadprogress></span></div>\\n  <div class=\\\"dz-error-message\\\"><span data-dz-errormessage></span></div>\\n  <div class=\\\"dz-success-mark\\\">\\n    <svg width=\\\"54px\\\" height=\\\"54px\\\" viewBox=\\\"0 0 54 54\\\" version=\\\"1.1\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" xmlns:sketch=\\\"http://www.bohemiancoding.com/sketch/ns\\\">\\n      <title>Check</title>\\n      <defs></defs>\\n      <g id=\\\"Page-1\\\" stroke=\\\"none\\\" stroke-width=\\\"1\\\" fill=\\\"none\\\" fill-rule=\\\"evenodd\\\" sketch:type=\\\"MSPage\\\">\\n        <path d=\\\"M23.5,31.8431458 L17.5852419,25.9283877 C16.0248253,24.3679711 13.4910294,24.366835 11.9289322,25.9289322 C10.3700136,27.4878508 10.3665912,30.0234455 11.9283877,31.5852419 L20.4147581,40.0716123 C20.5133999,40.1702541 20.6159315,40.2626649 20.7218615,40.3488435 C22.2835669,41.8725651 24.794234,41.8626202 26.3461564,40.3106978 L43.3106978,23.3461564 C44.8771021,21.7797521 44.8758057,19.2483887 43.3137085,17.6862915 C41.7547899,16.1273729 39.2176035,16.1255422 37.6538436,17.6893022 L23.5,31.8431458 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z\\\" id=\\\"Oval-2\\\" stroke-opacity=\\\"0.198794158\\\" stroke=\\\"#747474\\\" fill-opacity=\\\"0.816519475\\\" fill=\\\"#FFFFFF\\\" sketch:type=\\\"MSShapeGroup\\\"></path>\\n      </g>\\n    </svg>\\n  </div>\\n  <div class=\\\"dz-error-mark\\\">\\n    <svg width=\\\"54px\\\" height=\\\"54px\\\" viewBox=\\\"0 0 54 54\\\" version=\\\"1.1\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" xmlns:sketch=\\\"http://www.bohemiancoding.com/sketch/ns\\\">\\n      <title>Error</title>\\n      <defs></defs>\\n      <g id=\\\"Page-1\\\" stroke=\\\"none\\\" stroke-width=\\\"1\\\" fill=\\\"none\\\" fill-rule=\\\"evenodd\\\" sketch:type=\\\"MSPage\\\">\\n        <g id=\\\"Check-+-Oval-2\\\" sketch:type=\\\"MSLayerGroup\\\" stroke=\\\"#747474\\\" stroke-opacity=\\\"0.198794158\\\" fill=\\\"#FFFFFF\\\" fill-opacity=\\\"0.816519475\\\">\\n          <path d=\\\"M32.6568542,29 L38.3106978,23.3461564 C39.8771021,21.7797521 39.8758057,19.2483887 38.3137085,17.6862915 C36.7547899,16.1273729 34.2176035,16.1255422 32.6538436,17.6893022 L27,23.3431458 L21.3461564,17.6893022 C19.7823965,16.1255422 17.2452101,16.1273729 15.6862915,17.6862915 C14.1241943,19.2483887 14.1228979,21.7797521 15.6893022,23.3461564 L21.3431458,29 L15.6893022,34.6538436 C14.1228979,36.2202479 14.1241943,38.7516113 15.6862915,40.3137085 C17.2452101,41.8726271 19.7823965,41.8744578 21.3461564,40.3106978 L27,34.6568542 L32.6538436,40.3106978 C34.2176035,41.8744578 36.7547899,41.8726271 38.3137085,40.3137085 C39.8758057,38.7516113 39.8771021,36.2202479 38.3106978,34.6538436 L32.6568542,29 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z\\\" id=\\\"Oval-2\\\" sketch:type=\\\"MSShapeGroup\\\"></path>\\n        </g>\\n      </g>\\n    </svg>\\n  </div>\\n</div>\"\r\n            };\r\n\r\n            extend = function() {\r\n                var key, object, objects, target, val, _i, _len;\r\n                target = arguments[0], objects = 2 <= arguments.length ? __slice.call(arguments, 1) : [];\r\n                for (_i = 0, _len = objects.length; _i < _len; _i++) {\r\n                    object = objects[_i];\r\n                    for (key in object) {\r\n                        val = object[key];\r\n                        target[key] = val;\r\n                    }\r\n                }\r\n                return target;\r\n            };\r\n\r\n            function Dropzone(element, options) {\r\n                var elementOptions, fallback, _ref;\r\n                this.element = element;\r\n                this.version = Dropzone.version;\r\n                this.defaultOptions.template = this.defaultOptions.template.replace(/\\n*/g, \"\");\r\n                this.clickableElements = [];\r\n                this.listeners = [];\r\n                this.files = [];\r\n                if (typeof this.element === \"string\") {\r\n                    this.element = document.querySelector(this.element);\r\n                }\r\n                if (!(this.element && (this.element.nodeType != null))) {\r\n                    throw new Error(\"Invalid dropzone element.\");\r\n                }\r\n                if (this.element.dropzone) {\r\n                    throw new Error(\"Dropzone already attached.\");\r\n                }\r\n                Dropzone.instances.push(this);\r\n                this.element.dropzone = this;\r\n                elementOptions = (_ref = Dropzone.optionsForElement(this.element)) != null ? _ref : {};\r\n                this.options = extend({}, this.defaultOptions, elementOptions, options != null ? options : {});\r\n                if (this.options.forceFallback || !Dropzone.isBrowserSupported()) {\r\n                    return this.options.fallback.call(this);\r\n                }\r\n                if (this.options.url == null) {\r\n                    this.options.url = this.element.getAttribute(\"action\");\r\n                }\r\n                if (!this.options.url) {\r\n                    throw new Error(\"No URL provided.\");\r\n                }\r\n                if (this.options.acceptedFiles && this.options.acceptedMimeTypes) {\r\n                    throw new Error(\"You can't provide both 'acceptedFiles' and 'acceptedMimeTypes'. 'acceptedMimeTypes' is deprecated.\");\r\n                }\r\n                if (this.options.acceptedMimeTypes) {\r\n                    this.options.acceptedFiles = this.options.acceptedMimeTypes;\r\n                    delete this.options.acceptedMimeTypes;\r\n                }\r\n                this.options.method = this.options.method.toUpperCase();\r\n                if ((fallback = this.getExistingFallback()) && fallback.parentNode) {\r\n                    fallback.parentNode.removeChild(fallback);\r\n                }\r\n                if (this.options.previewsContainer !== false) {\r\n                    if (this.options.previewsContainer) {\r\n                        this.previewsContainer = Dropzone.getElement(this.options.previewsContainer, \"previewsContainer\");\r\n                    } else {\r\n                        this.previewsContainer = this.element;\r\n                    }\r\n                }\r\n                if (this.options.clickable) {\r\n                    if (this.options.clickable === true) {\r\n                        this.clickableElements = [this.element];\r\n                    } else {\r\n                        this.clickableElements = Dropzone.getElements(this.options.clickable, \"clickable\");\r\n                    }\r\n                }\r\n                this.init();\r\n            }\r\n\r\n            Dropzone.prototype.getAcceptedFiles = function() {\r\n                var file, _i, _len, _ref, _results;\r\n                _ref = this.files;\r\n                _results = [];\r\n                for (_i = 0, _len = _ref.length; _i < _len; _i++) {\r\n                    file = _ref[_i];\r\n                    if (file.accepted) {\r\n                        _results.push(file);\r\n                    }\r\n                }\r\n                return _results;\r\n            };\r\n\r\n            Dropzone.prototype.getRejectedFiles = function() {\r\n                var file, _i, _len, _ref, _results;\r\n                _ref = this.files;\r\n                _results = [];\r\n                for (_i = 0, _len = _ref.length; _i < _len; _i++) {\r\n                    file = _ref[_i];\r\n                    if (!file.accepted) {\r\n                        _results.push(file);\r\n                    }\r\n                }\r\n                return _results;\r\n            };\r\n\r\n            Dropzone.prototype.getFilesWithStatus = function(status) {\r\n                var file, _i, _len, _ref, _results;\r\n                _ref = this.files;\r\n                _results = [];\r\n                for (_i = 0, _len = _ref.length; _i < _len; _i++) {\r\n                    file = _ref[_i];\r\n                    if (file.status === status) {\r\n                        _results.push(file);\r\n                    }\r\n                }\r\n                return _results;\r\n            };\r\n\r\n            Dropzone.prototype.getQueuedFiles = function() {\r\n                return this.getFilesWithStatus(Dropzone.QUEUED);\r\n            };\r\n\r\n            Dropzone.prototype.getUploadingFiles = function() {\r\n                return this.getFilesWithStatus(Dropzone.UPLOADING);\r\n            };\r\n\r\n            Dropzone.prototype.getAddedFiles = function() {\r\n                return this.getFilesWithStatus(Dropzone.ADDED);\r\n            };\r\n\r\n            Dropzone.prototype.getActiveFiles = function() {\r\n                var file, _i, _len, _ref, _results;\r\n                _ref = this.files;\r\n                _results = [];\r\n                for (_i = 0, _len = _ref.length; _i < _len; _i++) {\r\n                    file = _ref[_i];\r\n                    if (file.status === Dropzone.UPLOADING || file.status === Dropzone.QUEUED) {\r\n                        _results.push(file);\r\n                    }\r\n                }\r\n                return _results;\r\n            };\r\n\r\n            Dropzone.prototype.init = function() {\r\n                var eventName, noPropagation, setupHiddenFileInput, _i, _len, _ref, _ref1;\r\n                if (this.element.tagName === \"form\") {\r\n                    this.element.setAttribute(\"enctype\", \"multipart/form-data\");\r\n                }\r\n                if (this.element.classList.contains(\"dropzone\") && !this.element.querySelector(\".dz-message\")) {\r\n                    this.element.appendChild(Dropzone.createElement(\"<div class=\\\"dz-default dz-message\\\"><span>\" + this.options.dictDefaultMessage + \"</span></div>\"));\r\n                }\r\n                if (this.clickableElements.length) {\r\n                    setupHiddenFileInput = (function(_this) {\r\n                        return function() {\r\n                            if (_this.hiddenFileInput) {\r\n                                _this.hiddenFileInput.parentNode.removeChild(_this.hiddenFileInput);\r\n                            }\r\n                            _this.hiddenFileInput = document.createElement(\"input\");\r\n                            _this.hiddenFileInput.setAttribute(\"type\", \"file\");\r\n                            if ((_this.options.maxFiles == null) || _this.options.maxFiles > 1) {\r\n                                _this.hiddenFileInput.setAttribute(\"multiple\", \"multiple\");\r\n                            }\r\n                            _this.hiddenFileInput.className = \"dz-hidden-input\";\r\n                            if (_this.options.acceptedFiles != null) {\r\n                                _this.hiddenFileInput.setAttribute(\"accept\", _this.options.acceptedFiles);\r\n                            }\r\n                            if (_this.options.capture != null) {\r\n                                _this.hiddenFileInput.setAttribute(\"capture\", _this.options.capture);\r\n                            }\r\n                            _this.hiddenFileInput.style.visibility = \"hidden\";\r\n                            _this.hiddenFileInput.style.position = \"absolute\";\r\n                            _this.hiddenFileInput.style.top = \"0\";\r\n                            _this.hiddenFileInput.style.left = \"0\";\r\n                            _this.hiddenFileInput.style.height = \"0\";\r\n                            _this.hiddenFileInput.style.width = \"0\";\r\n                            document.querySelector(_this.options.hiddenInputContainer).appendChild(_this.hiddenFileInput);\r\n                            return _this.hiddenFileInput.addEventListener(\"change\", function() {\r\n                                var file, files, _i, _len;\r\n                                files = _this.hiddenFileInput.files;\r\n                                if (files.length) {\r\n                                    for (_i = 0, _len = files.length; _i < _len; _i++) {\r\n                                        file = files[_i];\r\n                                        _this.addFile(file);\r\n                                    }\r\n                                }\r\n                                _this.emit(\"addedfiles\", files);\r\n                                return setupHiddenFileInput();\r\n                            });\r\n                        };\r\n                    })(this);\r\n                    setupHiddenFileInput();\r\n                }\r\n                this.URL = (_ref = window.URL) != null ? _ref : window.webkitURL;\r\n                _ref1 = this.events;\r\n                for (_i = 0, _len = _ref1.length; _i < _len; _i++) {\r\n                    eventName = _ref1[_i];\r\n                    this.on(eventName, this.options[eventName]);\r\n                }\r\n                this.on(\"uploadprogress\", (function(_this) {\r\n                    return function() {\r\n                        return _this.updateTotalUploadProgress();\r\n                    };\r\n                })(this));\r\n                this.on(\"removedfile\", (function(_this) {\r\n                    return function() {\r\n                        return _this.updateTotalUploadProgress();\r\n                    };\r\n                })(this));\r\n                this.on(\"canceled\", (function(_this) {\r\n                    return function(file) {\r\n                        return _this.emit(\"complete\", file);\r\n                    };\r\n                })(this));\r\n                this.on(\"complete\", (function(_this) {\r\n                    return function(file) {\r\n                        if (_this.getAddedFiles().length === 0 && _this.getUploadingFiles().length === 0 && _this.getQueuedFiles().length === 0) {\r\n                            return setTimeout((function() {\r\n                                return _this.emit(\"queuecomplete\");\r\n                            }), 0);\r\n                        }\r\n                    };\r\n                })(this));\r\n                noPropagation = function(e) {\r\n                    e.stopPropagation();\r\n                    if (e.preventDefault) {\r\n                        return e.preventDefault();\r\n                    } else {\r\n                        return e.returnValue = false;\r\n                    }\r\n                };\r\n                this.listeners = [\r\n                    {\r\n                        element: this.element,\r\n                        events: {\r\n                            \"dragstart\": (function(_this) {\r\n                                return function(e) {\r\n                                    return _this.emit(\"dragstart\", e);\r\n                                };\r\n                            })(this),\r\n                            \"dragenter\": (function(_this) {\r\n                                return function(e) {\r\n                                    noPropagation(e);\r\n                                    return _this.emit(\"dragenter\", e);\r\n                                };\r\n                            })(this),\r\n                            \"dragover\": (function(_this) {\r\n                                return function(e) {\r\n                                    var efct;\r\n                                    try {\r\n                                        efct = e.dataTransfer.effectAllowed;\r\n                                    } catch (_error) {}\r\n                                    e.dataTransfer.dropEffect = 'move' === efct || 'linkMove' === efct ? 'move' : 'copy';\r\n                                    noPropagation(e);\r\n                                    return _this.emit(\"dragover\", e);\r\n                                };\r\n                            })(this),\r\n                            \"dragleave\": (function(_this) {\r\n                                return function(e) {\r\n                                    return _this.emit(\"dragleave\", e);\r\n                                };\r\n                            })(this),\r\n                            \"drop\": (function(_this) {\r\n                                return function(e) {\r\n                                    noPropagation(e);\r\n                                    return _this.drop(e);\r\n                                };\r\n                            })(this),\r\n                            \"dragend\": (function(_this) {\r\n                                return function(e) {\r\n                                    return _this.emit(\"dragend\", e);\r\n                                };\r\n                            })(this)\r\n                        }\r\n                    }\r\n                ];\r\n                this.clickableElements.forEach((function(_this) {\r\n                    return function(clickableElement) {\r\n                        return _this.listeners.push({\r\n                            element: clickableElement,\r\n                            events: {\r\n                                \"click\": function(evt) {\r\n                                    if ((clickableElement !== _this.element) || (evt.target === _this.element || Dropzone.elementInside(evt.target, _this.element.querySelector(\".dz-message\")))) {\r\n                                        _this.hiddenFileInput.click();\r\n                                    }\r\n                                    return true;\r\n                                }\r\n                            }\r\n                        });\r\n                    };\r\n                })(this));\r\n                this.enable();\r\n                return this.options.init.call(this);\r\n            };\r\n\r\n            Dropzone.prototype.destroy = function() {\r\n                var _ref;\r\n                this.disable();\r\n                this.removeAllFiles(true);\r\n                if ((_ref = this.hiddenFileInput) != null ? _ref.parentNode : void 0) {\r\n                    this.hiddenFileInput.parentNode.removeChild(this.hiddenFileInput);\r\n                    this.hiddenFileInput = null;\r\n                }\r\n                delete this.element.dropzone;\r\n                return Dropzone.instances.splice(Dropzone.instances.indexOf(this), 1);\r\n            };\r\n\r\n            Dropzone.prototype.updateTotalUploadProgress = function() {\r\n                var activeFiles, file, totalBytes, totalBytesSent, totalUploadProgress, _i, _len, _ref;\r\n                totalBytesSent = 0;\r\n                totalBytes = 0;\r\n                activeFiles = this.getActiveFiles();\r\n                if (activeFiles.length) {\r\n                    _ref = this.getActiveFiles();\r\n                    for (_i = 0, _len = _ref.length; _i < _len; _i++) {\r\n                        file = _ref[_i];\r\n                        totalBytesSent += file.upload.bytesSent;\r\n                        totalBytes += file.upload.total;\r\n                    }\r\n                    totalUploadProgress = 100 * totalBytesSent / totalBytes;\r\n                } else {\r\n                    totalUploadProgress = 100;\r\n                }\r\n                return this.emit(\"totaluploadprogress\", totalUploadProgress, totalBytes, totalBytesSent);\r\n            };\r\n\r\n            Dropzone.prototype._getParamName = function(n) {\r\n                if (typeof this.options.paramName === \"function\") {\r\n                    return this.options.paramName(n);\r\n                } else {\r\n                    return \"\" + this.options.paramName + (this.options.uploadMultiple ? \"[\" + n + \"]\" : \"\");\r\n                }\r\n            };\r\n\r\n            Dropzone.prototype.getFallbackForm = function() {\r\n                var existingFallback, fields, fieldsString, form;\r\n                if (existingFallback = this.getExistingFallback()) {\r\n                    return existingFallback;\r\n                }\r\n                fieldsString = \"<div class=\\\"dz-fallback\\\">\";\r\n                if (this.options.dictFallbackText) {\r\n                    fieldsString += \"<p>\" + this.options.dictFallbackText + \"</p>\";\r\n                }\r\n                fieldsString += \"<input type=\\\"file\\\" name=\\\"\" + (this._getParamName(0)) + \"\\\" \" + (this.options.uploadMultiple ? 'multiple=\"multiple\"' : void 0) + \" /><input type=\\\"submit\\\" value=\\\"Upload!\\\"></div>\";\r\n                fields = Dropzone.createElement(fieldsString);\r\n                if (this.element.tagName !== \"FORM\") {\r\n                    form = Dropzone.createElement(\"<form action=\\\"\" + this.options.url + \"\\\" enctype=\\\"multipart/form-data\\\" method=\\\"\" + this.options.method + \"\\\"></form>\");\r\n                    form.appendChild(fields);\r\n                } else {\r\n                    this.element.setAttribute(\"enctype\", \"multipart/form-data\");\r\n                    this.element.setAttribute(\"method\", this.options.method);\r\n                }\r\n                return form != null ? form : fields;\r\n            };\r\n\r\n            Dropzone.prototype.getExistingFallback = function() {\r\n                var fallback, getFallback, tagName, _i, _len, _ref;\r\n                getFallback = function(elements) {\r\n                    var el, _i, _len;\r\n                    for (_i = 0, _len = elements.length; _i < _len; _i++) {\r\n                        el = elements[_i];\r\n                        if (/(^| )fallback($| )/.test(el.className)) {\r\n                            return el;\r\n                        }\r\n                    }\r\n                };\r\n                _ref = [\"div\", \"form\"];\r\n                for (_i = 0, _len = _ref.length; _i < _len; _i++) {\r\n                    tagName = _ref[_i];\r\n                    if (fallback = getFallback(this.element.getElementsByTagName(tagName))) {\r\n                        return fallback;\r\n                    }\r\n                }\r\n            };\r\n\r\n            Dropzone.prototype.setupEventListeners = function() {\r\n                var elementListeners, event, listener, _i, _len, _ref, _results;\r\n                _ref = this.listeners;\r\n                _results = [];\r\n                for (_i = 0, _len = _ref.length; _i < _len; _i++) {\r\n                    elementListeners = _ref[_i];\r\n                    _results.push((function() {\r\n                        var _ref1, _results1;\r\n                        _ref1 = elementListeners.events;\r\n                        _results1 = [];\r\n                        for (event in _ref1) {\r\n                            listener = _ref1[event];\r\n                            _results1.push(elementListeners.element.addEventListener(event, listener, false));\r\n                        }\r\n                        return _results1;\r\n                    })());\r\n                }\r\n                return _results;\r\n            };\r\n\r\n            Dropzone.prototype.removeEventListeners = function() {\r\n                var elementListeners, event, listener, _i, _len, _ref, _results;\r\n                _ref = this.listeners;\r\n                _results = [];\r\n                for (_i = 0, _len = _ref.length; _i < _len; _i++) {\r\n                    elementListeners = _ref[_i];\r\n                    _results.push((function() {\r\n                        var _ref1, _results1;\r\n                        _ref1 = elementListeners.events;\r\n                        _results1 = [];\r\n                        for (event in _ref1) {\r\n                            listener = _ref1[event];\r\n                            _results1.push(elementListeners.element.removeEventListener(event, listener, false));\r\n                        }\r\n                        return _results1;\r\n                    })());\r\n                }\r\n                return _results;\r\n            };\r\n\r\n            Dropzone.prototype.disable = function() {\r\n                var file, _i, _len, _ref, _results;\r\n                this.clickableElements.forEach(function(element) {\r\n                    return element.classList.remove(\"dz-clickable\");\r\n                });\r\n                this.removeEventListeners();\r\n                _ref = this.files;\r\n                _results = [];\r\n                for (_i = 0, _len = _ref.length; _i < _len; _i++) {\r\n                    file = _ref[_i];\r\n                    _results.push(this.cancelUpload(file));\r\n                }\r\n                return _results;\r\n            };\r\n\r\n            Dropzone.prototype.enable = function() {\r\n                this.clickableElements.forEach(function(element) {\r\n                    return element.classList.add(\"dz-clickable\");\r\n                });\r\n                return this.setupEventListeners();\r\n            };\r\n\r\n            Dropzone.prototype.filesize = function(size) {\r\n                var cutoff, i, selectedSize, selectedUnit, unit, units, _i, _len;\r\n                selectedSize = 0;\r\n                selectedUnit = \"b\";\r\n                if (size > 0) {\r\n                    units = ['TB', 'GB', 'MB', 'KB', 'b'];\r\n                    for (i = _i = 0, _len = units.length; _i < _len; i = ++_i) {\r\n                        unit = units[i];\r\n                        cutoff = Math.pow(this.options.filesizeBase, 4 - i) / 10;\r\n                        if (size >= cutoff) {\r\n                            selectedSize = size / Math.pow(this.options.filesizeBase, 4 - i);\r\n                            selectedUnit = unit;\r\n                            break;\r\n                        }\r\n                    }\r\n                    selectedSize = Math.round(10 * selectedSize) / 10;\r\n                }\r\n                return \"<strong>\" + selectedSize + \"</strong> \" + selectedUnit;\r\n            };\r\n\r\n            Dropzone.prototype._updateMaxFilesReachedClass = function() {\r\n                if ((this.options.maxFiles != null) && this.getAcceptedFiles().length >= this.options.maxFiles) {\r\n                    if (this.getAcceptedFiles().length === this.options.maxFiles) {\r\n                        this.emit('maxfilesreached', this.files);\r\n                    }\r\n                    return this.element.classList.add(\"dz-max-files-reached\");\r\n                } else {\r\n                    return this.element.classList.remove(\"dz-max-files-reached\");\r\n                }\r\n            };\r\n\r\n            Dropzone.prototype.drop = function(e) {\r\n                var files, items;\r\n                if (!e.dataTransfer) {\r\n                    return;\r\n                }\r\n                this.emit(\"drop\", e);\r\n                files = e.dataTransfer.files;\r\n                this.emit(\"addedfiles\", files);\r\n                if (files.length) {\r\n                    items = e.dataTransfer.items;\r\n                    if (items && items.length && (items[0].webkitGetAsEntry != null)) {\r\n                        this._addFilesFromItems(items);\r\n                    } else {\r\n                        this.handleFiles(files);\r\n                    }\r\n                }\r\n            };\r\n\r\n            Dropzone.prototype.paste = function(e) {\r\n                var items, _ref;\r\n                if ((e != null ? (_ref = e.clipboardData) != null ? _ref.items : void 0 : void 0) == null) {\r\n                    return;\r\n                }\r\n                this.emit(\"paste\", e);\r\n                items = e.clipboardData.items;\r\n                if (items.length) {\r\n                    return this._addFilesFromItems(items);\r\n                }\r\n            };\r\n\r\n            Dropzone.prototype.handleFiles = function(files) {\r\n                var file, _i, _len, _results;\r\n                _results = [];\r\n                for (_i = 0, _len = files.length; _i < _len; _i++) {\r\n                    file = files[_i];\r\n                    _results.push(this.addFile(file));\r\n                }\r\n                return _results;\r\n            };\r\n\r\n            Dropzone.prototype._addFilesFromItems = function(items) {\r\n                var entry, item, _i, _len, _results;\r\n                _results = [];\r\n                for (_i = 0, _len = items.length; _i < _len; _i++) {\r\n                    item = items[_i];\r\n                    if ((item.webkitGetAsEntry != null) && (entry = item.webkitGetAsEntry())) {\r\n                        if (entry.isFile) {\r\n                            _results.push(this.addFile(item.getAsFile()));\r\n                        } else if (entry.isDirectory) {\r\n                            _results.push(this._addFilesFromDirectory(entry, entry.name));\r\n                        } else {\r\n                            _results.push(void 0);\r\n                        }\r\n                    } else if (item.getAsFile != null) {\r\n                        if ((item.kind == null) || item.kind === \"file\") {\r\n                            _results.push(this.addFile(item.getAsFile()));\r\n                        } else {\r\n                            _results.push(void 0);\r\n                        }\r\n                    } else {\r\n                        _results.push(void 0);\r\n                    }\r\n                }\r\n                return _results;\r\n            };\r\n\r\n            Dropzone.prototype._addFilesFromDirectory = function(directory, path) {\r\n                var dirReader, entriesReader;\r\n                dirReader = directory.createReader();\r\n                entriesReader = (function(_this) {\r\n                    return function(entries) {\r\n                        var entry, _i, _len;\r\n                        for (_i = 0, _len = entries.length; _i < _len; _i++) {\r\n                            entry = entries[_i];\r\n                            if (entry.isFile) {\r\n                                entry.file(function(file) {\r\n                                    if (_this.options.ignoreHiddenFiles && file.name.substring(0, 1) === '.') {\r\n                                        return;\r\n                                    }\r\n                                    file.fullPath = \"\" + path + \"/\" + file.name;\r\n                                    return _this.addFile(file);\r\n                                });\r\n                            } else if (entry.isDirectory) {\r\n                                _this._addFilesFromDirectory(entry, \"\" + path + \"/\" + entry.name);\r\n                            }\r\n                        }\r\n                    };\r\n                })(this);\r\n                return dirReader.readEntries(entriesReader, function(error) {\r\n                    return typeof console !== \"undefined\" && console !== null ? typeof console.log === \"function\" ? console.log(error) : void 0 : void 0;\r\n                });\r\n            };\r\n\r\n            Dropzone.prototype.accept = function(file, done) {\r\n                if (file.size > this.options.maxFilesize * 1024 * 1024) {\r\n                    return done(this.options.dictFileTooBig.replace(\"{{filesize}}\", Math.round(file.size / 1024 / 10.24) / 100).replace(\"{{maxFilesize}}\", this.options.maxFilesize));\r\n                } else if (!Dropzone.isValidFile(file, this.options.acceptedFiles)) {\r\n                    return done(this.options.dictInvalidFileType);\r\n                } else if ((this.options.maxFiles != null) && this.getAcceptedFiles().length >= this.options.maxFiles) {\r\n                    done(this.options.dictMaxFilesExceeded.replace(\"{{maxFiles}}\", this.options.maxFiles));\r\n                    return this.emit(\"maxfilesexceeded\", file);\r\n                } else {\r\n                    return this.options.accept.call(this, file, done);\r\n                }\r\n            };\r\n\r\n            Dropzone.prototype.addFile = function(file) {\r\n                file.upload = {\r\n                    progress: 0,\r\n                    total: file.size,\r\n                    bytesSent: 0\r\n                };\r\n                this.files.push(file);\r\n                file.status = Dropzone.ADDED;\r\n                this.emit(\"addedfile\", file);\r\n                this._enqueueThumbnail(file);\r\n                return this.accept(file, (function(_this) {\r\n                    return function(error) {\r\n                        if (error) {\r\n                            file.accepted = false;\r\n                            _this._errorProcessing([file], error);\r\n                        } else {\r\n                            file.accepted = true;\r\n                            if (_this.options.autoQueue) {\r\n                                _this.enqueueFile(file);\r\n                            }\r\n                        }\r\n                        return _this._updateMaxFilesReachedClass();\r\n                    };\r\n                })(this));\r\n            };\r\n\r\n            Dropzone.prototype.enqueueFiles = function(files) {\r\n                var file, _i, _len;\r\n                for (_i = 0, _len = files.length; _i < _len; _i++) {\r\n                    file = files[_i];\r\n                    this.enqueueFile(file);\r\n                }\r\n                return null;\r\n            };\r\n\r\n            Dropzone.prototype.enqueueFile = function(file) {\r\n                if (file.status === Dropzone.ADDED && file.accepted === true) {\r\n                    file.status = Dropzone.QUEUED;\r\n                    if (this.options.autoProcessQueue) {\r\n                        return setTimeout(((function(_this) {\r\n                            return function() {\r\n                                return _this.processQueue();\r\n                            };\r\n                        })(this)), 0);\r\n                    }\r\n                } else {\r\n                    throw new Error(\"This file can't be queued because it has already been processed or was rejected.\");\r\n                }\r\n            };\r\n\r\n            Dropzone.prototype._thumbnailQueue = [];\r\n\r\n            Dropzone.prototype._processingThumbnail = false;\r\n\r\n            Dropzone.prototype._enqueueThumbnail = function(file) {\r\n                if (this.options.createImageThumbnails && file.type.match(/image.*/) && file.size <= this.options.maxThumbnailFilesize * 1024 * 1024) {\r\n                    this._thumbnailQueue.push(file);\r\n                    return setTimeout(((function(_this) {\r\n                        return function() {\r\n                            return _this._processThumbnailQueue();\r\n                        };\r\n                    })(this)), 0);\r\n                }\r\n            };\r\n\r\n            Dropzone.prototype._processThumbnailQueue = function() {\r\n                if (this._processingThumbnail || this._thumbnailQueue.length === 0) {\r\n                    return;\r\n                }\r\n                this._processingThumbnail = true;\r\n                return this.createThumbnail(this._thumbnailQueue.shift(), (function(_this) {\r\n                    return function() {\r\n                        _this._processingThumbnail = false;\r\n                        return _this._processThumbnailQueue();\r\n                    };\r\n                })(this));\r\n            };\r\n\r\n            Dropzone.prototype.removeFile = function(file) {\r\n                if (file.status === Dropzone.UPLOADING) {\r\n                    this.cancelUpload(file);\r\n                }\r\n                this.files = without(this.files, file);\r\n                this.emit(\"removedfile\", file);\r\n                if (this.files.length === 0) {\r\n                    return this.emit(\"reset\");\r\n                }\r\n            };\r\n\r\n            Dropzone.prototype.removeAllFiles = function(cancelIfNecessary) {\r\n                var file, _i, _len, _ref;\r\n                if (cancelIfNecessary == null) {\r\n                    cancelIfNecessary = false;\r\n                }\r\n                _ref = this.files.slice();\r\n                for (_i = 0, _len = _ref.length; _i < _len; _i++) {\r\n                    file = _ref[_i];\r\n                    if (file.status !== Dropzone.UPLOADING || cancelIfNecessary) {\r\n                        this.removeFile(file);\r\n                    }\r\n                }\r\n                return null;\r\n            };\r\n\r\n            Dropzone.prototype.createThumbnail = function(file, callback) {\r\n                var fileReader;\r\n                fileReader = new FileReader;\r\n                fileReader.onload = (function(_this) {\r\n                    return function() {\r\n                        if (file.type === \"image/svg+xml\") {\r\n                            _this.emit(\"thumbnail\", file, fileReader.result);\r\n                            if (callback != null) {\r\n                                callback();\r\n                            }\r\n                            return;\r\n                        }\r\n                        return _this.createThumbnailFromUrl(file, fileReader.result, callback);\r\n                    };\r\n                })(this);\r\n                return fileReader.readAsDataURL(file);\r\n            };\r\n\r\n            Dropzone.prototype.createThumbnailFromUrl = function(file, imageUrl, callback, crossOrigin) {\r\n                var img;\r\n                img = document.createElement(\"img\");\r\n                if (crossOrigin) {\r\n                    img.crossOrigin = crossOrigin;\r\n                }\r\n                img.onload = (function(_this) {\r\n                    return function() {\r\n                        var canvas, ctx, resizeInfo, thumbnail, _ref, _ref1, _ref2, _ref3;\r\n                        file.width = img.width;\r\n                        file.height = img.height;\r\n                        resizeInfo = _this.options.resize.call(_this, file);\r\n                        if (resizeInfo.trgWidth == null) {\r\n                            resizeInfo.trgWidth = resizeInfo.optWidth;\r\n                        }\r\n                        if (resizeInfo.trgHeight == null) {\r\n                            resizeInfo.trgHeight = resizeInfo.optHeight;\r\n                        }\r\n                        canvas = document.createElement(\"canvas\");\r\n                        ctx = canvas.getContext(\"2d\");\r\n                        canvas.width = resizeInfo.trgWidth;\r\n                        canvas.height = resizeInfo.trgHeight;\r\n                        drawImageIOSFix(ctx, img, (_ref = resizeInfo.srcX) != null ? _ref : 0, (_ref1 = resizeInfo.srcY) != null ? _ref1 : 0, resizeInfo.srcWidth, resizeInfo.srcHeight, (_ref2 = resizeInfo.trgX) != null ? _ref2 : 0, (_ref3 = resizeInfo.trgY) != null ? _ref3 : 0, resizeInfo.trgWidth, resizeInfo.trgHeight);\r\n                        thumbnail = canvas.toDataURL(\"image/png\");\r\n                        _this.emit(\"thumbnail\", file, thumbnail);\r\n                        if (callback != null) {\r\n                            return callback();\r\n                        }\r\n                    };\r\n                })(this);\r\n                if (callback != null) {\r\n                    img.onerror = callback;\r\n                }\r\n                return img.src = imageUrl;\r\n            };\r\n\r\n            Dropzone.prototype.processQueue = function() {\r\n                var i, parallelUploads, processingLength, queuedFiles;\r\n                parallelUploads = this.options.parallelUploads;\r\n                processingLength = this.getUploadingFiles().length;\r\n                i = processingLength;\r\n                if (processingLength >= parallelUploads) {\r\n                    return;\r\n                }\r\n                queuedFiles = this.getQueuedFiles();\r\n                if (!(queuedFiles.length > 0)) {\r\n                    return;\r\n                }\r\n                if (this.options.uploadMultiple) {\r\n                    return this.processFiles(queuedFiles.slice(0, parallelUploads - processingLength));\r\n                } else {\r\n                    while (i < parallelUploads) {\r\n                        if (!queuedFiles.length) {\r\n                            return;\r\n                        }\r\n                        this.processFile(queuedFiles.shift());\r\n                        i++;\r\n                    }\r\n                }\r\n            };\r\n\r\n            Dropzone.prototype.processFile = function(file) {\r\n                return this.processFiles([file]);\r\n            };\r\n\r\n            Dropzone.prototype.processFiles = function(files) {\r\n                var file, _i, _len;\r\n                for (_i = 0, _len = files.length; _i < _len; _i++) {\r\n                    file = files[_i];\r\n                    file.processing = true;\r\n                    file.status = Dropzone.UPLOADING;\r\n                    this.emit(\"processing\", file);\r\n                }\r\n                if (this.options.uploadMultiple) {\r\n                    this.emit(\"processingmultiple\", files);\r\n                }\r\n                return this.uploadFiles(files);\r\n            };\r\n\r\n            Dropzone.prototype._getFilesWithXhr = function(xhr) {\r\n                var file, files;\r\n                return files = (function() {\r\n                    var _i, _len, _ref, _results;\r\n                    _ref = this.files;\r\n                    _results = [];\r\n                    for (_i = 0, _len = _ref.length; _i < _len; _i++) {\r\n                        file = _ref[_i];\r\n                        if (file.xhr === xhr) {\r\n                            _results.push(file);\r\n                        }\r\n                    }\r\n                    return _results;\r\n                }).call(this);\r\n            };\r\n\r\n            Dropzone.prototype.cancelUpload = function(file) {\r\n                var groupedFile, groupedFiles, _i, _j, _len, _len1, _ref;\r\n                if (file.status === Dropzone.UPLOADING) {\r\n                    groupedFiles = this._getFilesWithXhr(file.xhr);\r\n                    for (_i = 0, _len = groupedFiles.length; _i < _len; _i++) {\r\n                        groupedFile = groupedFiles[_i];\r\n                        groupedFile.status = Dropzone.CANCELED;\r\n                    }\r\n                    file.xhr.abort();\r\n                    for (_j = 0, _len1 = groupedFiles.length; _j < _len1; _j++) {\r\n                        groupedFile = groupedFiles[_j];\r\n                        this.emit(\"canceled\", groupedFile);\r\n                    }\r\n                    if (this.options.uploadMultiple) {\r\n                        this.emit(\"canceledmultiple\", groupedFiles);\r\n                    }\r\n                } else if ((_ref = file.status) === Dropzone.ADDED || _ref === Dropzone.QUEUED) {\r\n                    file.status = Dropzone.CANCELED;\r\n                    this.emit(\"canceled\", file);\r\n                    if (this.options.uploadMultiple) {\r\n                        this.emit(\"canceledmultiple\", [file]);\r\n                    }\r\n                }\r\n                if (this.options.autoProcessQueue) {\r\n                    return this.processQueue();\r\n                }\r\n            };\r\n\r\n            resolveOption = function() {\r\n                var args, option;\r\n                option = arguments[0], args = 2 <= arguments.length ? __slice.call(arguments, 1) : [];\r\n                if (typeof option === 'function') {\r\n                    return option.apply(this, args);\r\n                }\r\n                return option;\r\n            };\r\n\r\n            Dropzone.prototype.uploadFile = function(file) {\r\n                return this.uploadFiles([file]);\r\n            };\r\n\r\n            Dropzone.prototype.uploadFiles = function(files) {\r\n                var file, formData, handleError, headerName, headerValue, headers, i, input, inputName, inputType, key, method, option, progressObj, response, updateProgress, url, value, xhr, _i, _j, _k, _l, _len, _len1, _len2, _len3, _m, _ref, _ref1, _ref2, _ref3, _ref4, _ref5;\r\n                xhr = new XMLHttpRequest();\r\n                for (_i = 0, _len = files.length; _i < _len; _i++) {\r\n                    file = files[_i];\r\n                    file.xhr = xhr;\r\n                }\r\n                method = resolveOption(this.options.method, files);\r\n                url = resolveOption(this.options.url, files);\r\n                xhr.open(method, url, true);\r\n                xhr.withCredentials = !!this.options.withCredentials;\r\n                response = null;\r\n                handleError = (function(_this) {\r\n                    return function() {\r\n                        var _j, _len1, _results;\r\n                        _results = [];\r\n                        for (_j = 0, _len1 = files.length; _j < _len1; _j++) {\r\n                            file = files[_j];\r\n                            _results.push(_this._errorProcessing(files, response || _this.options.dictResponseError.replace(\"{{statusCode}}\", xhr.status), xhr));\r\n                        }\r\n                        return _results;\r\n                    };\r\n                })(this);\r\n                updateProgress = (function(_this) {\r\n                    return function(e) {\r\n                        var allFilesFinished, progress, _j, _k, _l, _len1, _len2, _len3, _results;\r\n                        if (e != null) {\r\n                            progress = 100 * e.loaded / e.total;\r\n                            for (_j = 0, _len1 = files.length; _j < _len1; _j++) {\r\n                                file = files[_j];\r\n                                file.upload = {\r\n                                    progress: progress,\r\n                                    total: e.total,\r\n                                    bytesSent: e.loaded\r\n                                };\r\n                            }\r\n                        } else {\r\n                            allFilesFinished = true;\r\n                            progress = 100;\r\n                            for (_k = 0, _len2 = files.length; _k < _len2; _k++) {\r\n                                file = files[_k];\r\n                                if (!(file.upload.progress === 100 && file.upload.bytesSent === file.upload.total)) {\r\n                                    allFilesFinished = false;\r\n                                }\r\n                                file.upload.progress = progress;\r\n                                file.upload.bytesSent = file.upload.total;\r\n                            }\r\n                            if (allFilesFinished) {\r\n                                return;\r\n                            }\r\n                        }\r\n                        _results = [];\r\n                        for (_l = 0, _len3 = files.length; _l < _len3; _l++) {\r\n                            file = files[_l];\r\n                            _results.push(_this.emit(\"uploadprogress\", file, progress, file.upload.bytesSent));\r\n                        }\r\n                        return _results;\r\n                    };\r\n                })(this);\r\n                xhr.onload = (function(_this) {\r\n                    return function(e) {\r\n                        var _ref;\r\n                        if (files[0].status === Dropzone.CANCELED) {\r\n                            return;\r\n                        }\r\n                        if (xhr.readyState !== 4) {\r\n                            return;\r\n                        }\r\n                        response = xhr.responseText;\r\n                        if (xhr.getResponseHeader(\"content-type\") && ~xhr.getResponseHeader(\"content-type\").indexOf(\"application/json\")) {\r\n                            try {\r\n                                response = JSON.parse(response);\r\n                            } catch (_error) {\r\n                                e = _error;\r\n                                response = \"Invalid JSON response from server.\";\r\n                            }\r\n                        }\r\n                        updateProgress();\r\n                        if (!((200 <= (_ref = xhr.status) && _ref < 300))) {\r\n                            return handleError();\r\n                        } else {\r\n                            return _this._finished(files, response, e);\r\n                        }\r\n                    };\r\n                })(this);\r\n                xhr.onerror = (function(_this) {\r\n                    return function() {\r\n                        if (files[0].status === Dropzone.CANCELED) {\r\n                            return;\r\n                        }\r\n                        return handleError();\r\n                    };\r\n                })(this);\r\n                progressObj = (_ref = xhr.upload) != null ? _ref : xhr;\r\n                progressObj.onprogress = updateProgress;\r\n                headers = {\r\n                    \"Accept\": \"application/json\",\r\n                    \"Cache-Control\": \"no-cache\",\r\n                    \"X-Requested-With\": \"XMLHttpRequest\"\r\n                };\r\n                if (this.options.headers) {\r\n                    extend(headers, this.options.headers);\r\n                }\r\n                for (headerName in headers) {\r\n                    headerValue = headers[headerName];\r\n                    if (headerValue) {\r\n                        xhr.setRequestHeader(headerName, headerValue);\r\n                    }\r\n                }\r\n                formData = new FormData();\r\n                if (this.options.params) {\r\n                    _ref1 = this.options.params;\r\n                    for (key in _ref1) {\r\n                        value = _ref1[key];\r\n                        formData.append(key, value);\r\n                    }\r\n                }\r\n                for (_j = 0, _len1 = files.length; _j < _len1; _j++) {\r\n                    file = files[_j];\r\n                    this.emit(\"sending\", file, xhr, formData);\r\n                }\r\n                if (this.options.uploadMultiple) {\r\n                    this.emit(\"sendingmultiple\", files, xhr, formData);\r\n                }\r\n                if (this.element.tagName === \"FORM\") {\r\n                    _ref2 = this.element.querySelectorAll(\"input, textarea, select, button\");\r\n                    for (_k = 0, _len2 = _ref2.length; _k < _len2; _k++) {\r\n                        input = _ref2[_k];\r\n                        inputName = input.getAttribute(\"name\");\r\n                        inputType = input.getAttribute(\"type\");\r\n                        if (input.tagName === \"SELECT\" && input.hasAttribute(\"multiple\")) {\r\n                            _ref3 = input.options;\r\n                            for (_l = 0, _len3 = _ref3.length; _l < _len3; _l++) {\r\n                                option = _ref3[_l];\r\n                                if (option.selected) {\r\n                                    formData.append(inputName, option.value);\r\n                                }\r\n                            }\r\n                        } else if (!inputType || ((_ref4 = inputType.toLowerCase()) !== \"checkbox\" && _ref4 !== \"radio\") || input.checked) {\r\n                            formData.append(inputName, input.value);\r\n                        }\r\n                    }\r\n                }\r\n                for (i = _m = 0, _ref5 = files.length - 1; 0 <= _ref5 ? _m <= _ref5 : _m >= _ref5; i = 0 <= _ref5 ? ++_m : --_m) {\r\n                    formData.append(this._getParamName(i), files[i], files[i].name);\r\n                }\r\n                return this.submitRequest(xhr, formData, files);\r\n            };\r\n\r\n            Dropzone.prototype.submitRequest = function(xhr, formData, files) {\r\n                return xhr.send(formData);\r\n            };\r\n\r\n            Dropzone.prototype._finished = function(files, responseText, e) {\r\n                var file, _i, _len;\r\n                for (_i = 0, _len = files.length; _i < _len; _i++) {\r\n                    file = files[_i];\r\n                    file.status = Dropzone.SUCCESS;\r\n                    this.emit(\"success\", file, responseText, e);\r\n                    this.emit(\"complete\", file);\r\n                }\r\n                if (this.options.uploadMultiple) {\r\n                    this.emit(\"successmultiple\", files, responseText, e);\r\n                    this.emit(\"completemultiple\", files);\r\n                }\r\n                if (this.options.autoProcessQueue) {\r\n                    return this.processQueue();\r\n                }\r\n            };\r\n\r\n            Dropzone.prototype._errorProcessing = function(files, message, xhr) {\r\n                var file, _i, _len;\r\n                for (_i = 0, _len = files.length; _i < _len; _i++) {\r\n                    file = files[_i];\r\n                    file.status = Dropzone.ERROR;\r\n                    this.emit(\"error\", file, message, xhr);\r\n                    this.emit(\"complete\", file);\r\n                }\r\n                if (this.options.uploadMultiple) {\r\n                    this.emit(\"errormultiple\", files, message, xhr);\r\n                    this.emit(\"completemultiple\", files);\r\n                }\r\n                if (this.options.autoProcessQueue) {\r\n                    return this.processQueue();\r\n                }\r\n            };\r\n\r\n            return Dropzone;\r\n\r\n        })(Emitter);\r\n\r\n        Dropzone.version = \"4.2.0\";\r\n\r\n        Dropzone.options = {};\r\n\r\n        Dropzone.optionsForElement = function(element) {\r\n            if (element.getAttribute(\"id\")) {\r\n                return Dropzone.options[camelize(element.getAttribute(\"id\"))];\r\n            } else {\r\n                return void 0;\r\n            }\r\n        };\r\n\r\n        Dropzone.instances = [];\r\n\r\n        Dropzone.forElement = function(element) {\r\n            if (typeof element === \"string\") {\r\n                element = document.querySelector(element);\r\n            }\r\n            if ((element != null ? element.dropzone : void 0) == null) {\r\n                throw new Error(\"No Dropzone found for given element. This is probably because you're trying to access it before Dropzone had the time to initialize. Use the `init` option to setup any additional observers on your Dropzone.\");\r\n            }\r\n            return element.dropzone;\r\n        };\r\n\r\n        Dropzone.autoDiscover = true;\r\n\r\n        Dropzone.discover = function() {\r\n            var checkElements, dropzone, dropzones, _i, _len, _results;\r\n            if (document.querySelectorAll) {\r\n                dropzones = document.querySelectorAll(\".dropzone\");\r\n            } else {\r\n                dropzones = [];\r\n                checkElements = function(elements) {\r\n                    var el, _i, _len, _results;\r\n                    _results = [];\r\n                    for (_i = 0, _len = elements.length; _i < _len; _i++) {\r\n                        el = elements[_i];\r\n                        if (/(^| )dropzone($| )/.test(el.className)) {\r\n                            _results.push(dropzones.push(el));\r\n                        } else {\r\n                            _results.push(void 0);\r\n                        }\r\n                    }\r\n                    return _results;\r\n                };\r\n                checkElements(document.getElementsByTagName(\"div\"));\r\n                checkElements(document.getElementsByTagName(\"form\"));\r\n            }\r\n            _results = [];\r\n            for (_i = 0, _len = dropzones.length; _i < _len; _i++) {\r\n                dropzone = dropzones[_i];\r\n                if (Dropzone.optionsForElement(dropzone) !== false) {\r\n                    _results.push(new Dropzone(dropzone));\r\n                } else {\r\n                    _results.push(void 0);\r\n                }\r\n            }\r\n            return _results;\r\n        };\r\n\r\n        Dropzone.blacklistedBrowsers = [/opera.*Macintosh.*version\\/12/i];\r\n\r\n        Dropzone.isBrowserSupported = function() {\r\n            var capableBrowser, regex, _i, _len, _ref;\r\n            capableBrowser = true;\r\n            if (window.File && window.FileReader && window.FileList && window.Blob && window.FormData && document.querySelector) {\r\n                if (!(\"classList\" in document.createElement(\"a\"))) {\r\n                    capableBrowser = false;\r\n                } else {\r\n                    _ref = Dropzone.blacklistedBrowsers;\r\n                    for (_i = 0, _len = _ref.length; _i < _len; _i++) {\r\n                        regex = _ref[_i];\r\n                        if (regex.test(navigator.userAgent)) {\r\n                            capableBrowser = false;\r\n                            continue;\r\n                        }\r\n                    }\r\n                }\r\n            } else {\r\n                capableBrowser = false;\r\n            }\r\n            return capableBrowser;\r\n        };\r\n\r\n        without = function(list, rejectedItem) {\r\n            var item, _i, _len, _results;\r\n            _results = [];\r\n            for (_i = 0, _len = list.length; _i < _len; _i++) {\r\n                item = list[_i];\r\n                if (item !== rejectedItem) {\r\n                    _results.push(item);\r\n                }\r\n            }\r\n            return _results;\r\n        };\r\n\r\n        camelize = function(str) {\r\n            return str.replace(/[\\-_](\\w)/g, function(match) {\r\n                return match.charAt(1).toUpperCase();\r\n            });\r\n        };\r\n\r\n        Dropzone.createElement = function(string) {\r\n            var div;\r\n            div = document.createElement(\"div\");\r\n            div.innerHTML = string;\r\n            return div.childNodes[0];\r\n        };\r\n\r\n        Dropzone.elementInside = function(element, container) {\r\n            if (element === container) {\r\n                return true;\r\n            }\r\n            while (element = element.parentNode) {\r\n                if (element === container) {\r\n                    return true;\r\n                }\r\n            }\r\n            return false;\r\n        };\r\n\r\n        Dropzone.getElement = function(el, name) {\r\n            var element;\r\n            if (typeof el === \"string\") {\r\n                element = document.querySelector(el);\r\n            } else if (el.nodeType != null) {\r\n                element = el;\r\n            }\r\n            if (element == null) {\r\n                throw new Error(\"Invalid `\" + name + \"` option provided. Please provide a CSS selector or a plain HTML element.\");\r\n            }\r\n            return element;\r\n        };\r\n\r\n        Dropzone.getElements = function(els, name) {\r\n            var e, el, elements, _i, _j, _len, _len1, _ref;\r\n            if (els instanceof Array) {\r\n                elements = [];\r\n                try {\r\n                    for (_i = 0, _len = els.length; _i < _len; _i++) {\r\n                        el = els[_i];\r\n                        elements.push(this.getElement(el, name));\r\n                    }\r\n                } catch (_error) {\r\n                    e = _error;\r\n                    elements = null;\r\n                }\r\n            } else if (typeof els === \"string\") {\r\n                elements = [];\r\n                _ref = document.querySelectorAll(els);\r\n                for (_j = 0, _len1 = _ref.length; _j < _len1; _j++) {\r\n                    el = _ref[_j];\r\n                    elements.push(el);\r\n                }\r\n            } else if (els.nodeType != null) {\r\n                elements = [els];\r\n            }\r\n            if (!((elements != null) && elements.length)) {\r\n                throw new Error(\"Invalid `\" + name + \"` option provided. Please provide a CSS selector, a plain HTML element or a list of those.\");\r\n            }\r\n            return elements;\r\n        };\r\n\r\n        Dropzone.confirm = function(question, accepted, rejected) {\r\n            if (window.confirm(question)) {\r\n                return accepted();\r\n            } else if (rejected != null) {\r\n                return rejected();\r\n            }\r\n        };\r\n\r\n        Dropzone.isValidFile = function(file, acceptedFiles) {\r\n            var baseMimeType, mimeType, validType, _i, _len;\r\n            if (!acceptedFiles) {\r\n                return true;\r\n            }\r\n            acceptedFiles = acceptedFiles.split(\",\");\r\n            mimeType = file.type;\r\n            baseMimeType = mimeType.replace(/\\/.*$/, \"\");\r\n            for (_i = 0, _len = acceptedFiles.length; _i < _len; _i++) {\r\n                validType = acceptedFiles[_i];\r\n                validType = validType.trim();\r\n                if (validType.charAt(0) === \".\") {\r\n                    if (file.name.toLowerCase().indexOf(validType.toLowerCase(), file.name.length - validType.length) !== -1) {\r\n                        return true;\r\n                    }\r\n                } else if (/\\/\\*$/.test(validType)) {\r\n                    if (baseMimeType === validType.replace(/\\/.*$/, \"\")) {\r\n                        return true;\r\n                    }\r\n                } else {\r\n                    if (mimeType === validType) {\r\n                        return true;\r\n                    }\r\n                }\r\n            }\r\n            return false;\r\n        };\r\n\r\n        if (typeof jQuery !== \"undefined\" && jQuery !== null) {\r\n            jQuery.fn.dropzone = function(options) {\r\n                return this.each(function() {\r\n                    return new Dropzone(this, options);\r\n                });\r\n            };\r\n        }\r\n\r\n        if (typeof module !== \"undefined\" && module !== null) {\r\n            module.exports = Dropzone;\r\n        } else {\r\n            window.Dropzone = Dropzone;\r\n        }\r\n\r\n        Dropzone.ADDED = \"added\";\r\n\r\n        Dropzone.QUEUED = \"queued\";\r\n\r\n        Dropzone.ACCEPTED = Dropzone.QUEUED;\r\n\r\n        Dropzone.UPLOADING = \"uploading\";\r\n\r\n        Dropzone.PROCESSING = Dropzone.UPLOADING;\r\n\r\n        Dropzone.CANCELED = \"canceled\";\r\n\r\n        Dropzone.ERROR = \"error\";\r\n\r\n        Dropzone.SUCCESS = \"success\";\r\n\r\n\r\n        /*\r\n\r\n         Bugfix for iOS 6 and 7\r\n         Source: http://stackoverflow.com/questions/11929099/html5-canvas-drawimage-ratio-bug-ios\r\n         based on the work of https://github.com/stomita/ios-imagefile-megapixel\r\n         */\r\n\r\n        detectVerticalSquash = function(img) {\r\n            var alpha, canvas, ctx, data, ey, ih, iw, py, ratio, sy;\r\n            iw = img.naturalWidth;\r\n            ih = img.naturalHeight;\r\n            canvas = document.createElement(\"canvas\");\r\n            canvas.width = 1;\r\n            canvas.height = ih;\r\n            ctx = canvas.getContext(\"2d\");\r\n            ctx.drawImage(img, 0, 0);\r\n            data = ctx.getImageData(0, 0, 1, ih).data;\r\n            sy = 0;\r\n            ey = ih;\r\n            py = ih;\r\n            while (py > sy) {\r\n                alpha = data[(py - 1) * 4 + 3];\r\n                if (alpha === 0) {\r\n                    ey = py;\r\n                } else {\r\n                    sy = py;\r\n                }\r\n                py = (ey + sy) >> 1;\r\n            }\r\n            ratio = py / ih;\r\n            if (ratio === 0) {\r\n                return 1;\r\n            } else {\r\n                return ratio;\r\n            }\r\n        };\r\n\r\n        drawImageIOSFix = function(ctx, img, sx, sy, sw, sh, dx, dy, dw, dh) {\r\n            var vertSquashRatio;\r\n            vertSquashRatio = detectVerticalSquash(img);\r\n            return ctx.drawImage(img, sx, sy, sw, sh, dx, dy, dw, dh / vertSquashRatio);\r\n        };\r\n\r\n\r\n        /*\r\n         * contentloaded.js\r\n         *\r\n         * Author: Diego Perini (diego.perini at gmail.com)\r\n         * Summary: cross-browser wrapper for DOMContentLoaded\r\n         * Updated: 20101020\r\n         * License: MIT\r\n         * Version: 1.2\r\n         *\r\n         * URL:\r\n         * http://javascript.nwbox.com/ContentLoaded/\r\n         * http://javascript.nwbox.com/ContentLoaded/MIT-LICENSE\r\n         */\r\n\r\n        contentLoaded = function(win, fn) {\r\n            var add, doc, done, init, poll, pre, rem, root, top;\r\n            done = false;\r\n            top = true;\r\n            doc = win.document;\r\n            root = doc.documentElement;\r\n            add = (doc.addEventListener ? \"addEventListener\" : \"attachEvent\");\r\n            rem = (doc.addEventListener ? \"removeEventListener\" : \"detachEvent\");\r\n            pre = (doc.addEventListener ? \"\" : \"on\");\r\n            init = function(e) {\r\n                if (e.type === \"readystatechange\" && doc.readyState !== \"complete\") {\r\n                    return;\r\n                }\r\n                (e.type === \"load\" ? win : doc)[rem](pre + e.type, init, false);\r\n                if (!done && (done = true)) {\r\n                    return fn.call(win, e.type || e);\r\n                }\r\n            };\r\n            poll = function() {\r\n                var e;\r\n                try {\r\n                    root.doScroll(\"left\");\r\n                } catch (_error) {\r\n                    e = _error;\r\n                    setTimeout(poll, 50);\r\n                    return;\r\n                }\r\n                return init(\"poll\");\r\n            };\r\n            if (doc.readyState !== \"complete\") {\r\n                if (doc.createEventObject && root.doScroll) {\r\n                    try {\r\n                        top = !win.frameElement;\r\n                    } catch (_error) {}\r\n                    if (top) {\r\n                        poll();\r\n                    }\r\n                }\r\n                doc[add](pre + \"DOMContentLoaded\", init, false);\r\n                doc[add](pre + \"readystatechange\", init, false);\r\n                return win[add](pre + \"load\", init, false);\r\n            }\r\n        };\r\n\r\n        Dropzone._autoDiscoverFunction = function() {\r\n            if (Dropzone.autoDiscover) {\r\n                return Dropzone.discover();\r\n            }\r\n        };\r\n\r\n        contentLoaded(window, Dropzone._autoDiscoverFunction);\r\n\r\n    }).call(this);\r\n\r\n    return module.exports;\r\n}));","Magento_PageBuilder/js/resource/dropzone/knockout-dropzone.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\n/*eslint-disable vars-on-top, strict*/\r\n\r\n(function (factory) {\r\n    if (typeof define === 'function' && define.amd) {\r\n        // AMD anonymous module\r\n        define(['knockout', 'jquery', 'Magento_PageBuilder/js/resource/dropzone/dropzone', 'mage/translate'], factory);\r\n    } else if (typeof require === 'function' && typeof exports === 'object' && typeof module === 'object') {\r\n        // CommonJS module\r\n        var ko = require('knockout'),\r\n            jQuery = require('jquery'),\r\n            Dropzone = require('Magento_PageBuilder/js/resource/dropzone/dropzone'),\r\n            translate = require('mage/translate');\r\n\r\n        factory(ko, jQuery, Dropzone, translate);\r\n    } else {\r\n        // No module loader (plain <script> tag) - put directly in global namespace\r\n        factory(window.ko, window.jQuery, window.Dropzone, window.translate);\r\n    }\r\n})(function (ko, jQuery, Dropzone, $t) {\r\n\r\n    // Create a new sortable Knockout binding\r\n    ko.bindingHandlers.dropzone = {\r\n\r\n        /**\r\n         * Init the dropzone element\r\n         *\r\n         * @param element\r\n         * @param valueAccessor\r\n         */\r\n        init: function (element, valueAccessor) {\r\n            var value = ko.unwrap(valueAccessor()),\r\n                originalSuccess = value.success,\r\n                options = {\r\n                    uploadMultiple: false,\r\n                    createImageThumbnails: false,\r\n                    addRemoveLinks: false,\r\n                    dictDefaultMessage: $t('Drop files here, or click to upload'),\r\n                    init: function () {\r\n                        // Add the current formKey into the request\r\n                        this.on('sending', function (file, xhr, formData) {\r\n                            formData.append('form_key', FORM_KEY);\r\n                        });\r\n                    },\r\n                    success: function (file, response) {\r\n                        return originalSuccess.call(this, file, response, value.bindKey);\r\n                    }\r\n                };\r\n\r\n            // Delete the success value\r\n            delete value.success;\r\n\r\n            // Extend the options with the values provided\r\n            jQuery.extend(options, value);\r\n\r\n            jQuery(element).addClass('dropzone');\r\n            new Dropzone(element, options);\r\n        }\r\n\r\n    };\r\n});","Magento_PageBuilder/js/resource/html2canvas/html2canvas.min.js":"/*!\r\n * html2canvas 1.0.0-rc.5 <https://html2canvas.hertzen.com>\r\n * Copyright (c) 2019 Niklas von Hertzen <https://hertzen.com>\r\n * Released under MIT License\r\n */\r\n!function(A,e){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=e():\"function\"==typeof define&&define.amd?define(e):(A=A||self).html2canvas=e()}(this,function(){\"use strict\";\r\n    /*! *****************************************************************************\r\n        Copyright (c) Microsoft Corporation. All rights reserved.\r\n        Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\n        this file except in compliance with the License. You may obtain a copy of the\r\n        License at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n        THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n        KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\n        WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\n        MERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\n        See the Apache Version 2.0 License for specific language governing permissions\r\n        and limitations under the License.\r\n        ***************************************************************************** */var r=function(A,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,e){A.__proto__=e}||function(A,e){for(var t in e)e.hasOwnProperty(t)&&(A[t]=e[t])})(A,e)};function A(A,e){function t(){this.constructor=A}r(A,e),A.prototype=null===e?Object.create(e):(t.prototype=e.prototype,new t)}var K=function(){return(K=Object.assign||function(A){for(var e,t=1,r=arguments.length;t<r;t++)for(var n in e=arguments[t])Object.prototype.hasOwnProperty.call(e,n)&&(A[n]=e[n]);return A}).apply(this,arguments)};function a(B,s,o,i){return new(o||(o=Promise))(function(A,e){function t(A){try{n(i.next(A))}catch(A){e(A)}}function r(A){try{n(i.throw(A))}catch(A){e(A)}}function n(e){e.done?A(e.value):new o(function(A){A(e.value)}).then(t,r)}n((i=i.apply(B,s||[])).next())})}function S(t,r){var n,B,s,A,o={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return A={next:e(0),throw:e(1),return:e(2)},\"function\"==typeof Symbol&&(A[Symbol.iterator]=function(){return this}),A;function e(e){return function(A){return function(e){if(n)throw new TypeError(\"Generator is already executing.\");for(;o;)try{if(n=1,B&&(s=2&e[0]?B.return:e[0]?B.throw||((s=B.return)&&s.call(B),0):B.next)&&!(s=s.call(B,e[1])).done)return s;switch(B=0,s&&(e=[2&e[0],s.value]),e[0]){case 0:case 1:s=e;break;case 4:return o.label++,{value:e[1],done:!1};case 5:o.label++,B=e[1],e=[0];continue;case 7:e=o.ops.pop(),o.trys.pop();continue;default:if(!(s=0<(s=o.trys).length&&s[s.length-1])&&(6===e[0]||2===e[0])){o=0;continue}if(3===e[0]&&(!s||e[1]>s[0]&&e[1]<s[3])){o.label=e[1];break}if(6===e[0]&&o.label<s[1]){o.label=s[1],s=e;break}if(s&&o.label<s[2]){o.label=s[2],o.ops.push(e);break}s[2]&&o.ops.pop(),o.trys.pop();continue}e=r.call(t,o)}catch(A){e=[6,A],B=0}finally{n=s=0}if(5&e[0])throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}([e,A])}}}var I=(n.prototype.add=function(A,e,t,r){return new n(this.left+A,this.top+e,this.width+t,this.height+r)},n.fromClientRect=function(A){return new n(A.left,A.top,A.width,A.height)},n);function n(A,e,t,r){this.left=A,this.top=e,this.width=t,this.height=r}for(var T=function(A){return I.fromClientRect(A.getBoundingClientRect())},c=function(A){for(var e=[],t=0,r=A.length;t<r;){var n=A.charCodeAt(t++);if(55296<=n&&n<=56319&&t<r){var B=A.charCodeAt(t++);56320==(64512&B)?e.push(((1023&n)<<10)+(1023&B)+65536):(e.push(n),t--)}else e.push(n)}return e},l=function(){for(var A=[],e=0;e<arguments.length;e++)A[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,A);var t=A.length;if(!t)return\"\";for(var r=[],n=-1,B=\"\";++n<t;){var s=A[n];s<=65535?r.push(s):(s-=65536,r.push(55296+(s>>10),s%1024+56320)),(n+1===t||16384<r.length)&&(B+=String.fromCharCode.apply(String,r),r.length=0)}return B},e=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\",Q=\"undefined\"==typeof Uint8Array?[]:new Uint8Array(256),t=0;t<e.length;t++)Q[e.charCodeAt(t)]=t;function B(A,e,t){return A.slice?A.slice(e,t):new Uint16Array(Array.prototype.slice.call(A,e,t))}var s=(o.prototype.get=function(A){var e;if(0<=A){if(A<55296||56319<A&&A<=65535)return e=((e=this.index[A>>5])<<2)+(31&A),this.data[e];if(A<=65535)return e=((e=this.index[2048+(A-55296>>5)])<<2)+(31&A),this.data[e];if(A<this.highStart)return e=2080+(A>>11),e=this.index[e],e+=A>>5&63,e=((e=this.index[e])<<2)+(31&A),this.data[e];if(A<=1114111)return this.data[this.highValueIndex]}return this.errorValue},o);function o(A,e,t,r,n,B){this.initialValue=A,this.errorValue=e,this.highStart=t,this.highValueIndex=r,this.index=n,this.data=B}function C(A,e,t,r){var n=r[t];if(Array.isArray(A)?-1!==A.indexOf(n):A===n)for(var B=t;B<=r.length;){if((i=r[++B])===e)return!0;if(i!==H)break}if(n===H)for(B=t;0<B;){var s=r[--B];if(Array.isArray(A)?-1!==A.indexOf(s):A===s)for(var o=t;o<=r.length;){var i;if((i=r[++o])===e)return!0;if(i!==H)break}if(s!==H)break}return!1}function g(A,e){for(var t=A;0<=t;){var r=e[t];if(r!==H)return r;t--}return 0}function w(A,e,t,r,n){if(0===t[r])return Y;var B=r-1;if(Array.isArray(n)&&!0===n[B])return Y;var s=B-1,o=1+B,i=e[B],a=0<=s?e[s]:0,c=e[o];if(2===i&&3===c)return Y;if(-1!==j.indexOf(i))return\"!\";if(-1!==j.indexOf(c))return Y;if(-1!==$.indexOf(c))return Y;if(8===g(B,e))return\"\u00f7\";if(11===q.get(A[B])&&(c===X||c===P||c===x))return Y;if(7===i||7===c)return Y;if(9===i)return Y;if(-1===[H,d,f].indexOf(i)&&9===c)return Y;if(-1!==[p,N,m,O,y].indexOf(c))return Y;if(g(B,e)===v)return Y;if(C(23,v,B,e))return Y;if(C([p,N],L,B,e))return Y;if(C(12,12,B,e))return Y;if(i===H)return\"\u00f7\";if(23===i||23===c)return Y;if(16===c||16===i)return\"\u00f7\";if(-1!==[d,f,L].indexOf(c)||14===i)return Y;if(36===a&&-1!==rA.indexOf(i))return Y;if(i===y&&36===c)return Y;if(c===R&&-1!==Z.concat(R,m,D,X,P,x).indexOf(i))return Y;if(-1!==Z.indexOf(c)&&i===D||-1!==Z.indexOf(i)&&c===D)return Y;if(i===M&&-1!==[X,P,x].indexOf(c)||-1!==[X,P,x].indexOf(i)&&c===b)return Y;if(-1!==Z.indexOf(i)&&-1!==AA.indexOf(c)||-1!==AA.indexOf(i)&&-1!==Z.indexOf(c))return Y;if(-1!==[M,b].indexOf(i)&&(c===D||-1!==[v,f].indexOf(c)&&e[1+o]===D)||-1!==[v,f].indexOf(i)&&c===D||i===D&&-1!==[D,y,O].indexOf(c))return Y;if(-1!==[D,y,O,p,N].indexOf(c))for(var Q=B;0<=Q;){if((w=e[Q])===D)return Y;if(-1===[y,O].indexOf(w))break;Q--}if(-1!==[M,b].indexOf(c))for(Q=-1!==[p,N].indexOf(i)?s:B;0<=Q;){var w;if((w=e[Q])===D)return Y;if(-1===[y,O].indexOf(w))break;Q--}if(J===i&&-1!==[J,G,V,z].indexOf(c)||-1!==[G,V].indexOf(i)&&-1!==[G,k].indexOf(c)||-1!==[k,z].indexOf(i)&&c===k)return Y;if(-1!==tA.indexOf(i)&&-1!==[R,b].indexOf(c)||-1!==tA.indexOf(c)&&i===M)return Y;if(-1!==Z.indexOf(i)&&-1!==Z.indexOf(c))return Y;if(i===O&&-1!==Z.indexOf(c))return Y;if(-1!==Z.concat(D).indexOf(i)&&c===v||-1!==Z.concat(D).indexOf(c)&&i===N)return Y;if(41===i&&41===c){for(var u=t[B],U=1;0<u&&41===e[--u];)U++;if(U%2!=0)return Y}return i===P&&c===x?Y:\"\u00f7\"}function u(t,A){A||(A={lineBreak:\"normal\",wordBreak:\"normal\"});var e=function(A,n){void 0===n&&(n=\"strict\");var B=[],s=[],o=[];return A.forEach(function(A,e){var t=q.get(A);if(50<t?(o.push(!0),t-=50):o.push(!1),-1!==[\"normal\",\"auto\",\"loose\"].indexOf(n)&&-1!==[8208,8211,12316,12448].indexOf(A))return s.push(e),B.push(16);if(4!==t&&11!==t)return s.push(e),31===t?B.push(\"strict\"===n?L:X):t===W?B.push(_):29===t?B.push(_):43===t?131072<=A&&A<=196605||196608<=A&&A<=262141?B.push(X):B.push(_):void B.push(t);if(0===e)return s.push(e),B.push(_);var r=B[e-1];return-1===eA.indexOf(r)?(s.push(s[e-1]),B.push(r)):(s.push(e),B.push(_))}),[s,B,o]}(t,A.lineBreak),r=e[0],n=e[1],B=e[2];return\"break-all\"!==A.wordBreak&&\"break-word\"!==A.wordBreak||(n=n.map(function(A){return-1!==[D,_,W].indexOf(A)?X:A})),[r,n,\"keep-all\"===A.wordBreak?B.map(function(A,e){return A&&19968<=t[e]&&t[e]<=40959}):void 0]}var i,U,E,F,h,H=10,d=13,f=15,p=17,N=18,m=19,R=20,L=21,v=22,O=24,D=25,b=26,M=27,y=28,_=30,P=32,x=33,V=34,z=35,X=37,J=38,G=39,k=40,W=42,Y=\"\u00d7\",q=(i=function(A){var e,t,r,n,B,s=.75*A.length,o=A.length,i=0;\"=\"===A[A.length-1]&&(s--,\"=\"===A[A.length-2]&&s--);var a=\"undefined\"!=typeof ArrayBuffer&&\"undefined\"!=typeof Uint8Array&&void 0!==Uint8Array.prototype.slice?new ArrayBuffer(s):new Array(s),c=Array.isArray(a)?a:new Uint8Array(a);for(e=0;e<o;e+=4)t=Q[A.charCodeAt(e)],r=Q[A.charCodeAt(e+1)],n=Q[A.charCodeAt(e+2)],B=Q[A.charCodeAt(e+3)],c[i++]=t<<2|r>>4,c[i++]=(15&r)<<4|n>>2,c[i++]=(3&n)<<6|63&B;return a}(\"KwAAAAAAAAAACA4AIDoAAPAfAAACAAAAAAAIABAAGABAAEgAUABYAF4AZgBeAGYAYABoAHAAeABeAGYAfACEAIAAiACQAJgAoACoAK0AtQC9AMUAXgBmAF4AZgBeAGYAzQDVAF4AZgDRANkA3gDmAOwA9AD8AAQBDAEUARoBIgGAAIgAJwEvATcBPwFFAU0BTAFUAVwBZAFsAXMBewGDATAAiwGTAZsBogGkAawBtAG8AcIBygHSAdoB4AHoAfAB+AH+AQYCDgIWAv4BHgImAi4CNgI+AkUCTQJTAlsCYwJrAnECeQKBAk0CiQKRApkCoQKoArACuALAAsQCzAIwANQC3ALkAjAA7AL0AvwCAQMJAxADGAMwACADJgMuAzYDPgOAAEYDSgNSA1IDUgNaA1oDYANiA2IDgACAAGoDgAByA3YDfgOAAIQDgACKA5IDmgOAAIAAogOqA4AAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAK8DtwOAAIAAvwPHA88D1wPfAyAD5wPsA/QD/AOAAIAABAQMBBIEgAAWBB4EJgQuBDMEIAM7BEEEXgBJBCADUQRZBGEEaQQwADAAcQQ+AXkEgQSJBJEEgACYBIAAoASoBK8EtwQwAL8ExQSAAIAAgACAAIAAgACgAM0EXgBeAF4AXgBeAF4AXgBeANUEXgDZBOEEXgDpBPEE+QQBBQkFEQUZBSEFKQUxBTUFPQVFBUwFVAVcBV4AYwVeAGsFcwV7BYMFiwWSBV4AmgWgBacFXgBeAF4AXgBeAKsFXgCyBbEFugW7BcIFwgXIBcIFwgXQBdQF3AXkBesF8wX7BQMGCwYTBhsGIwYrBjMGOwZeAD8GRwZNBl4AVAZbBl4AXgBeAF4AXgBeAF4AXgBeAF4AXgBeAGMGXgBqBnEGXgBeAF4AXgBeAF4AXgBeAF4AXgB5BoAG4wSGBo4GkwaAAIADHgR5AF4AXgBeAJsGgABGA4AAowarBrMGswagALsGwwbLBjAA0wbaBtoG3QbaBtoG2gbaBtoG2gblBusG8wb7BgMHCwcTBxsHCwcjBysHMAc1BzUHOgdCB9oGSgdSB1oHYAfaBloHaAfaBlIH2gbaBtoG2gbaBtoG2gbaBjUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHbQdeAF4ANQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQd1B30HNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1B4MH2gaKB68EgACAAIAAgACAAIAAgACAAI8HlwdeAJ8HpweAAIAArwe3B14AXgC/B8UHygcwANAH2AfgB4AA6AfwBz4B+AcACFwBCAgPCBcIogEYAR8IJwiAAC8INwg/CCADRwhPCFcIXwhnCEoDGgSAAIAAgABvCHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIhAiLCI4IMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAANQc1BzUHNQc1BzUHNQc1BzUHNQc1B54INQc1B6II2gaqCLIIugiAAIAAvgjGCIAAgACAAIAAgACAAIAAgACAAIAAywiHAYAA0wiAANkI3QjlCO0I9Aj8CIAAgACAAAIJCgkSCRoJIgknCTYHLwk3CZYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiAAIAAAAFAAXgBeAGAAcABeAHwAQACQAKAArQC9AJ4AXgBeAE0A3gBRAN4A7AD8AMwBGgEAAKcBNwEFAUwBXAF4QkhCmEKnArcCgAHHAsABz4LAAcABwAHAAd+C6ABoAG+C/4LAAcABwAHAAc+DF4MAAcAB54M3gweDV4Nng3eDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEeDqABVg6WDqABoQ6gAaABoAHXDvcONw/3DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DncPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB7cPPwlGCU4JMACAAIAAgABWCV4JYQmAAGkJcAl4CXwJgAkwADAAMAAwAIgJgACLCZMJgACZCZ8JowmrCYAAswkwAF4AXgB8AIAAuwkABMMJyQmAAM4JgADVCTAAMAAwADAAgACAAIAAgACAAIAAgACAAIAAqwYWBNkIMAAwADAAMADdCeAJ6AnuCR4E9gkwAP4JBQoNCjAAMACAABUK0wiAAB0KJAosCjQKgAAwADwKQwqAAEsKvQmdCVMKWwowADAAgACAALcEMACAAGMKgABrCjAAMAAwADAAMAAwADAAMAAwADAAMAAeBDAAMAAwADAAMAAwADAAMAAwADAAMAAwAIkEPQFzCnoKiQSCCooKkAqJBJgKoAqkCokEGAGsCrQKvArBCjAAMADJCtEKFQHZCuEK/gHpCvEKMAAwADAAMACAAIwE+QowAIAAPwEBCzAAMAAwADAAMACAAAkLEQswAIAAPwEZCyELgAAOCCkLMAAxCzkLMAAwADAAMAAwADAAXgBeAEELMAAwADAAMAAwADAAMAAwAEkLTQtVC4AAXAtkC4AAiQkwADAAMAAwADAAMAAwADAAbAtxC3kLgAuFC4sLMAAwAJMLlwufCzAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAApwswADAAMACAAIAAgACvC4AAgACAAIAAgACAALcLMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAvwuAAMcLgACAAIAAgACAAIAAyguAAIAAgACAAIAA0QswADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAANkLgACAAIAA4AswADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACJCR4E6AswADAAhwHwC4AA+AsADAgMEAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMACAAIAAGAwdDCUMMAAwAC0MNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQw1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHPQwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADUHNQc1BzUHNQc1BzUHNQc2BzAAMAA5DDUHNQc1BzUHNQc1BzUHNQc1BzUHNQdFDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAgACAAIAATQxSDFoMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAF4AXgBeAF4AXgBeAF4AYgxeAGoMXgBxDHkMfwxeAIUMXgBeAI0MMAAwADAAMAAwAF4AXgCVDJ0MMAAwADAAMABeAF4ApQxeAKsMswy7DF4Awgy9DMoMXgBeAF4AXgBeAF4AXgBeAF4AXgDRDNkMeQBqCeAM3Ax8AOYM7Az0DPgMXgBeAF4AXgBeAF4AXgBeAF4AXgBeAF4AXgBeAF4AXgCgAAANoAAHDQ4NFg0wADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAeDSYNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIAAgACAAIAAgACAAC4NMABeAF4ANg0wADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAD4NRg1ODVYNXg1mDTAAbQ0wADAAMAAwADAAMAAwADAA2gbaBtoG2gbaBtoG2gbaBnUNeg3CBYANwgWFDdoGjA3aBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gaUDZwNpA2oDdoG2gawDbcNvw3HDdoG2gbPDdYN3A3fDeYN2gbsDfMN2gbaBvoN/g3aBgYODg7aBl4AXgBeABYOXgBeACUG2gYeDl4AJA5eACwO2w3aBtoGMQ45DtoG2gbaBtoGQQ7aBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gZJDjUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1B1EO2gY1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQdZDjUHNQc1BzUHNQc1B2EONQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHaA41BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1B3AO2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gY1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1B2EO2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gZJDtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBkkOeA6gAKAAoAAwADAAMAAwAKAAoACgAKAAoACgAKAAgA4wADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAD//wQABAAEAAQABAAEAAQABAAEAA0AAwABAAEAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAKABMAFwAeABsAGgAeABcAFgASAB4AGwAYAA8AGAAcAEsASwBLAEsASwBLAEsASwBLAEsAGAAYAB4AHgAeABMAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAFgAbABIAHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYADQARAB4ABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkAFgAaABsAGwAbAB4AHQAdAB4ATwAXAB4ADQAeAB4AGgAbAE8ATwAOAFAAHQAdAB0ATwBPABcATwBPAE8AFgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwArAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAAQABAANAA0ASwBLAEsASwBLAEsASwBLAEsASwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUAArACsABABQAAQABAAEAAQABAAEAAQAKwArAAQABAArACsABAAEAAQAUAArACsAKwArACsAKwArACsABAArACsAKwArAFAAUAArAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAGgAaAFAAUABQAFAAUABMAB4AGwBQAB4AKwArACsABAAEAAQAKwBQAFAAUABQAFAAUAArACsAKwArAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUAArAFAAUAArACsABAArAAQABAAEAAQABAArACsAKwArAAQABAArACsABAAEAAQAKwArACsABAArACsAKwArACsAKwArAFAAUABQAFAAKwBQACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwAEAAQAUABQAFAABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUAArACsABABQAAQABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQAKwArAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwAeABsAKwArACsAKwArACsAKwBQAAQABAAEAAQABAAEACsABAAEAAQAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwArAAQABAArACsABAAEAAQAKwArACsAKwArACsAKwArAAQABAArACsAKwArAFAAUAArAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwAeAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwAEAFAAKwBQAFAAUABQAFAAUAArACsAKwBQAFAAUAArAFAAUABQAFAAKwArACsAUABQACsAUAArAFAAUAArACsAKwBQAFAAKwArACsAUABQAFAAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQAKwArACsABAAEAAQAKwAEAAQABAAEACsAKwBQACsAKwArACsAKwArAAQAKwArACsAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAB4AHgAeAB4AHgAeABsAHgArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABAArACsAKwArACsAKwArAAQABAArAFAAUABQACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAB4AUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABAArACsAKwArACsAKwArAAQABAArACsAKwArACsAKwArAFAAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwArAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAKwBcAFwAKwBcACsAKwBcACsAKwArACsAKwArAFwAXABcAFwAKwBcAFwAXABcAFwAXABcACsAXABcAFwAKwBcACsAXAArACsAXABcACsAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgArACoAKgBcACsAKwBcAFwAXABcAFwAKwBcACsAKgAqACoAKgAqACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAFwAXABcAFwAUAAOAA4ADgAOAB4ADgAOAAkADgAOAA0ACQATABMAEwATABMACQAeABMAHgAeAB4ABAAEAB4AHgAeAB4AHgAeAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUAANAAQAHgAEAB4ABAAWABEAFgARAAQABABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAAQABAAEAAQABAANAAQABABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsADQANAB4AHgAeAB4AHgAeAAQAHgAeAB4AHgAeAB4AKwAeAB4ADgAOAA0ADgAeAB4AHgAeAB4ACQAJACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgAeAB4AHgBcAFwAXABcAFwAXAAqACoAKgAqAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAKgAqACoAKgAqACoAKgBcAFwAXAAqACoAKgAqAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAXAAqAEsASwBLAEsASwBLAEsASwBLAEsAKgAqACoAKgAqACoAUABQAFAAUABQAFAAKwBQACsAKwArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQACsAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwAEAAQABAAeAA0AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAEQArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAADQANAA0AUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAA0ADQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQACsABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoADQANABUAXAANAB4ADQAbAFwAKgArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAB4AHgATABMADQANAA4AHgATABMAHgAEAAQABAAJACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAUABQAFAAUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwAeACsAKwArABMAEwBLAEsASwBLAEsASwBLAEsASwBLAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwBcAFwAXABcAFwAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcACsAKwArACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwAeAB4AXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgArACsABABLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKgAqACoAKgAqACoAKgBcACoAKgAqACoAKgAqACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAUABQAFAAUABQAFAAUAArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4ADQANAA0ADQAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAHgAeAB4AHgBQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwANAA0ADQANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwBQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsABAAEAAQAHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAABABQAFAAUABQAAQABAAEAFAAUAAEAAQABAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAKwBQACsAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAKwArAB4AHgAeAB4AHgAeACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAUABQAFAAKwAeAB4AHgAeAB4AHgAeAA4AHgArAA0ADQANAA0ADQANAA0ACQANAA0ADQAIAAQACwAEAAQADQAJAA0ADQAMAB0AHQAeABcAFwAWABcAFwAXABYAFwAdAB0AHgAeABQAFAAUAA0AAQABAAQABAAEAAQABAAJABoAGgAaABoAGgAaABoAGgAeABcAFwAdABUAFQAeAB4AHgAeAB4AHgAYABYAEQAVABUAFQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgANAB4ADQANAA0ADQAeAA0ADQANAAcAHgAeAB4AHgArAAQABAAEAAQABAAEAAQABAAEAAQAUABQACsAKwBPAFAAUABQAFAAUAAeAB4AHgAWABEATwBQAE8ATwBPAE8AUABQAFAAUABQAB4AHgAeABYAEQArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAGwAbABsAGwAbABsAGwAaABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAaABsAGwAbABsAGgAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgBQABoAHgAdAB4AUAAeABoAHgAeAB4AHgAeAB4AHgAeAB4ATwAeAFAAGwAeAB4AUABQAFAAUABQAB4AHgAeAB0AHQAeAFAAHgBQAB4AUAAeAFAATwBQAFAAHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AUABQAFAAUABPAE8AUABQAFAAUABQAE8AUABQAE8AUABPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAE8ATwBPAE8ATwBPAE8ATwBPAE8AUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAATwAeAB4AKwArACsAKwAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB0AHQAeAB4AHgAdAB0AHgAeAB0AHgAeAB4AHQAeAB0AGwAbAB4AHQAeAB4AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB0AHgAdAB4AHQAdAB0AHQAdAB0AHgAdAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAdAB0AHQAdAB4AHgAdAB0AHgAeAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABQAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAlACUAHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBQAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAeAB4AHgAeAB0AHQAeAB4AHgAeAB0AHQAdAB4AHgAdAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB0AHQAeAB4AHQAeAB4AHgAeAB0AHQAeAB4AHgAeACUAJQAdAB0AJQAeACUAJQAlACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAHgAeAB4AHgAdAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHQAdAB0AHgAdACUAHQAdAB4AHQAdAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHQAdAB0AHQAlAB4AJQAlACUAHQAlACUAHQAdAB0AJQAlAB0AHQAlAB0AHQAlACUAJQAeAB0AHgAeAB4AHgAdAB0AJQAdAB0AHQAdAB0AHQAlACUAJQAlACUAHQAlACUAIAAlAB0AHQAlACUAJQAlACUAJQAlACUAHgAeAB4AJQAlACAAIAAgACAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeABcAFwAXABcAFwAXAB4AEwATACUAHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwArACUAJQBXAFcAVwBXACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAKwArACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAE8ATwBPAE8ATwBPAE8ATwAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeACsAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUAArACsAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQBQAFAAUABQACsAKwArACsAUABQAFAAUABQAFAAUABQAA0AUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQACsAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgBQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAABAAEAAQAKwAEAAQAKwArACsAKwArAAQABAAEAAQAUABQAFAAUAArAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsABAAEAAQAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsADQANAA0ADQANAA0ADQANAB4AKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AUABQAFAAUABQAFAAUABQAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAUABQAFAAUABQAA0ADQANAA0ADQANABQAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwANAA0ADQANAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAeAAQABAAEAB4AKwArAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLACsADQArAB4AKwArAAQABAAEAAQAUABQAB4AUAArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwAEAAQABAAEAAQABAAEAAQABAAOAA0ADQATABMAHgAeAB4ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0AUABQAFAAUAAEAAQAKwArAAQADQANAB4AUAArACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXABcAA0ADQANACoASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUAArACsAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANACsADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEcARwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQACsAKwAeAAQABAANAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAEAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUAArACsAUAArACsAUABQACsAKwBQAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AKwArAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAeAB4ADQANAA0ADQAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAArAAQABAArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAEAAQABAAEAAQABAAEACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAFgAWAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAKwBQACsAKwArACsAKwArAFAAKwArACsAKwBQACsAUAArAFAAKwBQAFAAUAArAFAAUAArAFAAKwArAFAAKwBQACsAUAArAFAAKwBQACsAUABQACsAUAArACsAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAUABQAFAAUAArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUAArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAlACUAJQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeACUAJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeACUAJQAlACUAJQAeACUAJQAlACUAJQAgACAAIAAlACUAIAAlACUAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAIQAhACEAIQAhACUAJQAgACAAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAIAAgACAAIAAlACUAJQAlACAAJQAgACAAIAAgACAAIAAgACAAIAAlACUAJQAgACUAJQAlACUAIAAgACAAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeACUAHgAlAB4AJQAlACUAJQAlACAAJQAlACUAJQAeACUAHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAIAAgACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAIAAlACUAJQAlACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAIAAgACAAJQAlACUAIAAgACAAIAAgAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFwAXABcAFQAVABUAHgAeAB4AHgAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAIAAgACAAJQAlACUAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAlACAAIAAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsA\"),U=Array.isArray(i)?function(A){for(var e=A.length,t=[],r=0;r<e;r+=4)t.push(A[r+3]<<24|A[r+2]<<16|A[r+1]<<8|A[r]);return t}(i):new Uint32Array(i),E=Array.isArray(i)?function(A){for(var e=A.length,t=[],r=0;r<e;r+=2)t.push(A[r+1]<<8|A[r]);return t}(i):new Uint16Array(i),F=B(E,12,U[4]/2),h=2===U[5]?B(E,(24+U[4])/2):function(A,e,t){return A.slice?A.slice(e,t):new Uint32Array(Array.prototype.slice.call(A,e,t))}(U,Math.ceil((24+U[4])/4)),new s(U[0],U[1],U[2],U[3],F,h)),Z=[_,36],j=[1,2,3,5],$=[H,8],AA=[M,b],eA=j.concat($),tA=[J,G,k,V,z],rA=[f,d],nA=(BA.prototype.slice=function(){return l.apply(void 0,this.codePoints.slice(this.start,this.end))},BA);function BA(A,e,t,r){this.codePoints=A,this.required=\"!\"===e,this.start=t,this.end=r}var sA,oA;(oA=sA||(sA={}))[oA.STRING_TOKEN=0]=\"STRING_TOKEN\",oA[oA.BAD_STRING_TOKEN=1]=\"BAD_STRING_TOKEN\",oA[oA.LEFT_PARENTHESIS_TOKEN=2]=\"LEFT_PARENTHESIS_TOKEN\",oA[oA.RIGHT_PARENTHESIS_TOKEN=3]=\"RIGHT_PARENTHESIS_TOKEN\",oA[oA.COMMA_TOKEN=4]=\"COMMA_TOKEN\",oA[oA.HASH_TOKEN=5]=\"HASH_TOKEN\",oA[oA.DELIM_TOKEN=6]=\"DELIM_TOKEN\",oA[oA.AT_KEYWORD_TOKEN=7]=\"AT_KEYWORD_TOKEN\",oA[oA.PREFIX_MATCH_TOKEN=8]=\"PREFIX_MATCH_TOKEN\",oA[oA.DASH_MATCH_TOKEN=9]=\"DASH_MATCH_TOKEN\",oA[oA.INCLUDE_MATCH_TOKEN=10]=\"INCLUDE_MATCH_TOKEN\",oA[oA.LEFT_CURLY_BRACKET_TOKEN=11]=\"LEFT_CURLY_BRACKET_TOKEN\",oA[oA.RIGHT_CURLY_BRACKET_TOKEN=12]=\"RIGHT_CURLY_BRACKET_TOKEN\",oA[oA.SUFFIX_MATCH_TOKEN=13]=\"SUFFIX_MATCH_TOKEN\",oA[oA.SUBSTRING_MATCH_TOKEN=14]=\"SUBSTRING_MATCH_TOKEN\",oA[oA.DIMENSION_TOKEN=15]=\"DIMENSION_TOKEN\",oA[oA.PERCENTAGE_TOKEN=16]=\"PERCENTAGE_TOKEN\",oA[oA.NUMBER_TOKEN=17]=\"NUMBER_TOKEN\",oA[oA.FUNCTION=18]=\"FUNCTION\",oA[oA.FUNCTION_TOKEN=19]=\"FUNCTION_TOKEN\",oA[oA.IDENT_TOKEN=20]=\"IDENT_TOKEN\",oA[oA.COLUMN_TOKEN=21]=\"COLUMN_TOKEN\",oA[oA.URL_TOKEN=22]=\"URL_TOKEN\",oA[oA.BAD_URL_TOKEN=23]=\"BAD_URL_TOKEN\",oA[oA.CDC_TOKEN=24]=\"CDC_TOKEN\",oA[oA.CDO_TOKEN=25]=\"CDO_TOKEN\",oA[oA.COLON_TOKEN=26]=\"COLON_TOKEN\",oA[oA.SEMICOLON_TOKEN=27]=\"SEMICOLON_TOKEN\",oA[oA.LEFT_SQUARE_BRACKET_TOKEN=28]=\"LEFT_SQUARE_BRACKET_TOKEN\",oA[oA.RIGHT_SQUARE_BRACKET_TOKEN=29]=\"RIGHT_SQUARE_BRACKET_TOKEN\",oA[oA.UNICODE_RANGE_TOKEN=30]=\"UNICODE_RANGE_TOKEN\",oA[oA.WHITESPACE_TOKEN=31]=\"WHITESPACE_TOKEN\",oA[oA.EOF_TOKEN=32]=\"EOF_TOKEN\";function iA(A){return 48<=A&&A<=57}function aA(A){return iA(A)||65<=A&&A<=70||97<=A&&A<=102}function cA(A){return 10===A||9===A||32===A}function QA(A){return function(A){return function(A){return 97<=A&&A<=122}(A)||function(A){return 65<=A&&A<=90}(A)}(A)||function(A){return 128<=A}(A)||95===A}function wA(A){return QA(A)||iA(A)||45===A}function uA(A,e){return 92===A&&10!==e}function UA(A,e,t){return 45===A?QA(e)||uA(e,t):!!QA(A)||!(92!==A||!uA(A,e))}function lA(A,e,t){return 43===A||45===A?!!iA(e)||46===e&&iA(t):iA(46===A?e:A)}var CA={type:sA.LEFT_PARENTHESIS_TOKEN},gA={type:sA.RIGHT_PARENTHESIS_TOKEN},EA={type:sA.COMMA_TOKEN},FA={type:sA.SUFFIX_MATCH_TOKEN},hA={type:sA.PREFIX_MATCH_TOKEN},HA={type:sA.COLUMN_TOKEN},dA={type:sA.DASH_MATCH_TOKEN},fA={type:sA.INCLUDE_MATCH_TOKEN},pA={type:sA.LEFT_CURLY_BRACKET_TOKEN},NA={type:sA.RIGHT_CURLY_BRACKET_TOKEN},KA={type:sA.SUBSTRING_MATCH_TOKEN},IA={type:sA.BAD_URL_TOKEN},TA={type:sA.BAD_STRING_TOKEN},mA={type:sA.CDO_TOKEN},RA={type:sA.CDC_TOKEN},LA={type:sA.COLON_TOKEN},vA={type:sA.SEMICOLON_TOKEN},OA={type:sA.LEFT_SQUARE_BRACKET_TOKEN},DA={type:sA.RIGHT_SQUARE_BRACKET_TOKEN},bA={type:sA.WHITESPACE_TOKEN},SA={type:sA.EOF_TOKEN},MA=(yA.prototype.write=function(A){this._value=this._value.concat(c(A))},yA.prototype.read=function(){for(var A=[],e=this.consumeToken();e!==SA;)A.push(e),e=this.consumeToken();return A},yA.prototype.consumeToken=function(){var A=this.consumeCodePoint();switch(A){case 34:return this.consumeStringToken(34);case 35:var e=this.peekCodePoint(0),t=this.peekCodePoint(1),r=this.peekCodePoint(2);if(wA(e)||uA(t,r)){var n=UA(e,t,r)?2:1,B=this.consumeName();return{type:sA.HASH_TOKEN,value:B,flags:n}}break;case 36:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),FA;break;case 39:return this.consumeStringToken(39);case 40:return CA;case 41:return gA;case 42:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),KA;break;case 43:if(lA(A,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(A),this.consumeNumericToken();break;case 44:return EA;case 45:var s=A,o=this.peekCodePoint(0),i=this.peekCodePoint(1);if(lA(s,o,i))return this.reconsumeCodePoint(A),this.consumeNumericToken();if(UA(s,o,i))return this.reconsumeCodePoint(A),this.consumeIdentLikeToken();if(45===o&&62===i)return this.consumeCodePoint(),this.consumeCodePoint(),RA;break;case 46:if(lA(A,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(A),this.consumeNumericToken();break;case 47:if(42===this.peekCodePoint(0))for(this.consumeCodePoint();;){var a=this.consumeCodePoint();if(42===a&&47===(a=this.consumeCodePoint()))return this.consumeToken();if(-1===a)return this.consumeToken()}break;case 58:return LA;case 59:return vA;case 60:if(33===this.peekCodePoint(0)&&45===this.peekCodePoint(1)&&45===this.peekCodePoint(2))return this.consumeCodePoint(),this.consumeCodePoint(),mA;break;case 64:var c=this.peekCodePoint(0),Q=this.peekCodePoint(1),w=this.peekCodePoint(2);if(UA(c,Q,w))return B=this.consumeName(),{type:sA.AT_KEYWORD_TOKEN,value:B};break;case 91:return OA;case 92:if(uA(A,this.peekCodePoint(0)))return this.reconsumeCodePoint(A),this.consumeIdentLikeToken();break;case 93:return DA;case 61:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),hA;break;case 123:return pA;case 125:return NA;case 117:case 85:var u=this.peekCodePoint(0),U=this.peekCodePoint(1);return 43!==u||!aA(U)&&63!==U||(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(A),this.consumeIdentLikeToken();case 124:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),dA;if(124===this.peekCodePoint(0))return this.consumeCodePoint(),HA;break;case 126:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),fA;break;case-1:return SA}return cA(A)?(this.consumeWhiteSpace(),bA):iA(A)?(this.reconsumeCodePoint(A),this.consumeNumericToken()):QA(A)?(this.reconsumeCodePoint(A),this.consumeIdentLikeToken()):{type:sA.DELIM_TOKEN,value:l(A)}},yA.prototype.consumeCodePoint=function(){var A=this._value.shift();return void 0===A?-1:A},yA.prototype.reconsumeCodePoint=function(A){this._value.unshift(A)},yA.prototype.peekCodePoint=function(A){return A>=this._value.length?-1:this._value[A]},yA.prototype.consumeUnicodeRangeToken=function(){for(var A=[],e=this.consumeCodePoint();aA(e)&&A.length<6;)A.push(e),e=this.consumeCodePoint();for(var t=!1;63===e&&A.length<6;)A.push(e),e=this.consumeCodePoint(),t=!0;if(t){var r=parseInt(l.apply(void 0,A.map(function(A){return 63===A?48:A})),16),n=parseInt(l.apply(void 0,A.map(function(A){return 63===A?70:A})),16);return{type:sA.UNICODE_RANGE_TOKEN,start:r,end:n}}var B=parseInt(l.apply(void 0,A),16);if(45===this.peekCodePoint(0)&&aA(this.peekCodePoint(1))){this.consumeCodePoint(),e=this.consumeCodePoint();for(var s=[];aA(e)&&s.length<6;)s.push(e),e=this.consumeCodePoint();return n=parseInt(l.apply(void 0,s),16),{type:sA.UNICODE_RANGE_TOKEN,start:B,end:n}}return{type:sA.UNICODE_RANGE_TOKEN,start:B,end:B}},yA.prototype.consumeIdentLikeToken=function(){var A=this.consumeName();return\"url\"===A.toLowerCase()&&40===this.peekCodePoint(0)?(this.consumeCodePoint(),this.consumeUrlToken()):40===this.peekCodePoint(0)?(this.consumeCodePoint(),{type:sA.FUNCTION_TOKEN,value:A}):{type:sA.IDENT_TOKEN,value:A}},yA.prototype.consumeUrlToken=function(){var A=[];if(this.consumeWhiteSpace(),-1===this.peekCodePoint(0))return{type:sA.URL_TOKEN,value:\"\"};var e,t=this.peekCodePoint(0);if(39===t||34===t){var r=this.consumeStringToken(this.consumeCodePoint());return r.type===sA.STRING_TOKEN&&(this.consumeWhiteSpace(),-1===this.peekCodePoint(0)||41===this.peekCodePoint(0))?(this.consumeCodePoint(),{type:sA.URL_TOKEN,value:r.value}):(this.consumeBadUrlRemnants(),IA)}for(;;){var n=this.consumeCodePoint();if(-1===n||41===n)return{type:sA.URL_TOKEN,value:l.apply(void 0,A)};if(cA(n))return this.consumeWhiteSpace(),-1===this.peekCodePoint(0)||41===this.peekCodePoint(0)?(this.consumeCodePoint(),{type:sA.URL_TOKEN,value:l.apply(void 0,A)}):(this.consumeBadUrlRemnants(),IA);if(34===n||39===n||40===n||0<=(e=n)&&e<=8||11===e||14<=e&&e<=31||127===e)return this.consumeBadUrlRemnants(),IA;if(92===n){if(!uA(n,this.peekCodePoint(0)))return this.consumeBadUrlRemnants(),IA;A.push(this.consumeEscapedCodePoint())}else A.push(n)}},yA.prototype.consumeWhiteSpace=function(){for(;cA(this.peekCodePoint(0));)this.consumeCodePoint()},yA.prototype.consumeBadUrlRemnants=function(){for(;;){var A=this.consumeCodePoint();if(41===A||-1===A)return;uA(A,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},yA.prototype.consumeStringSlice=function(A){for(var e=\"\";0<A;){var t=Math.min(6e4,A);e+=l.apply(void 0,this._value.splice(0,t)),A-=t}return this._value.shift(),e},yA.prototype.consumeStringToken=function(A){for(var e=\"\",t=0;;){var r=this._value[t];if(-1===r||void 0===r||r===A)return e+=this.consumeStringSlice(t),{type:sA.STRING_TOKEN,value:e};if(10===r)return this._value.splice(0,t),TA;if(92===r){var n=this._value[t+1];-1!==n&&void 0!==n&&(10===n?(e+=this.consumeStringSlice(t),t=-1,this._value.shift()):uA(r,n)&&(e+=this.consumeStringSlice(t),e+=l(this.consumeEscapedCodePoint()),t=-1))}t++}},yA.prototype.consumeNumber=function(){var A=[],e=4,t=this.peekCodePoint(0);for(43!==t&&45!==t||A.push(this.consumeCodePoint());iA(this.peekCodePoint(0));)A.push(this.consumeCodePoint());t=this.peekCodePoint(0);var r=this.peekCodePoint(1);if(46===t&&iA(r))for(A.push(this.consumeCodePoint(),this.consumeCodePoint()),e=8;iA(this.peekCodePoint(0));)A.push(this.consumeCodePoint());t=this.peekCodePoint(0),r=this.peekCodePoint(1);var n=this.peekCodePoint(2);if((69===t||101===t)&&((43===r||45===r)&&iA(n)||iA(r)))for(A.push(this.consumeCodePoint(),this.consumeCodePoint()),e=8;iA(this.peekCodePoint(0));)A.push(this.consumeCodePoint());return[function(A){var e=0,t=1;43!==A[e]&&45!==A[e]||(45===A[e]&&(t=-1),e++);for(var r=[];iA(A[e]);)r.push(A[e++]);var n=r.length?parseInt(l.apply(void 0,r),10):0;46===A[e]&&e++;for(var B=[];iA(A[e]);)B.push(A[e++]);var s=B.length,o=s?parseInt(l.apply(void 0,B),10):0;69!==A[e]&&101!==A[e]||e++;var i=1;43!==A[e]&&45!==A[e]||(45===A[e]&&(i=-1),e++);for(var a=[];iA(A[e]);)a.push(A[e++]);var c=a.length?parseInt(l.apply(void 0,a),10):0;return t*(n+o*Math.pow(10,-s))*Math.pow(10,i*c)}(A),e]},yA.prototype.consumeNumericToken=function(){var A=this.consumeNumber(),e=A[0],t=A[1],r=this.peekCodePoint(0),n=this.peekCodePoint(1),B=this.peekCodePoint(2);if(UA(r,n,B)){var s=this.consumeName();return{type:sA.DIMENSION_TOKEN,number:e,flags:t,unit:s}}return 37===r?(this.consumeCodePoint(),{type:sA.PERCENTAGE_TOKEN,number:e,flags:t}):{type:sA.NUMBER_TOKEN,number:e,flags:t}},yA.prototype.consumeEscapedCodePoint=function(){var A=this.consumeCodePoint();if(aA(A)){for(var e=l(A);aA(this.peekCodePoint(0))&&e.length<6;)e+=l(this.consumeCodePoint());cA(this.peekCodePoint(0))&&this.consumeCodePoint();var t=parseInt(e,16);return 0===t||function(A){return 55296<=A&&A<=57343}(t)||1114111<t?65533:t}return-1===A?65533:A},yA.prototype.consumeName=function(){for(var A=\"\";;){var e=this.consumeCodePoint();if(wA(e))A+=l(e);else{if(!uA(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),A;A+=l(this.consumeEscapedCodePoint())}}},yA);function yA(){this._value=[]}var _A=(PA.create=function(A){var e=new MA;return e.write(A),new PA(e.read())},PA.parseValue=function(A){return PA.create(A).parseComponentValue()},PA.parseValues=function(A){return PA.create(A).parseComponentValues()},PA.prototype.parseComponentValue=function(){for(var A=this.consumeToken();A.type===sA.WHITESPACE_TOKEN;)A=this.consumeToken();if(A.type===sA.EOF_TOKEN)throw new SyntaxError(\"Error parsing CSS component value, unexpected EOF\");this.reconsumeToken(A);for(var e=this.consumeComponentValue();(A=this.consumeToken()).type===sA.WHITESPACE_TOKEN;);if(A.type===sA.EOF_TOKEN)return e;throw new SyntaxError(\"Error parsing CSS component value, multiple values found when expecting only one\")},PA.prototype.parseComponentValues=function(){for(var A=[];;){var e=this.consumeComponentValue();if(e.type===sA.EOF_TOKEN)return A;A.push(e),A.push()}},PA.prototype.consumeComponentValue=function(){var A=this.consumeToken();switch(A.type){case sA.LEFT_CURLY_BRACKET_TOKEN:case sA.LEFT_SQUARE_BRACKET_TOKEN:case sA.LEFT_PARENTHESIS_TOKEN:return this.consumeSimpleBlock(A.type);case sA.FUNCTION_TOKEN:return this.consumeFunction(A)}return A},PA.prototype.consumeSimpleBlock=function(A){for(var e={type:A,values:[]},t=this.consumeToken();;){if(t.type===sA.EOF_TOKEN||Be(t,A))return e;this.reconsumeToken(t),e.values.push(this.consumeComponentValue()),t=this.consumeToken()}},PA.prototype.consumeFunction=function(A){for(var e={name:A.value,values:[],type:sA.FUNCTION};;){var t=this.consumeToken();if(t.type===sA.EOF_TOKEN||t.type===sA.RIGHT_PARENTHESIS_TOKEN)return e;this.reconsumeToken(t),e.values.push(this.consumeComponentValue())}},PA.prototype.consumeToken=function(){var A=this._tokens.shift();return void 0===A?SA:A},PA.prototype.reconsumeToken=function(A){this._tokens.unshift(A)},PA);function PA(A){this._tokens=A}function xA(A){return A.type===sA.DIMENSION_TOKEN}function VA(A){return A.type===sA.NUMBER_TOKEN}function zA(A){return A.type===sA.IDENT_TOKEN}function XA(A){return A.type===sA.STRING_TOKEN}function JA(A,e){return zA(A)&&A.value===e}function GA(A){return A.type!==sA.WHITESPACE_TOKEN}function kA(A){return A.type!==sA.WHITESPACE_TOKEN&&A.type!==sA.COMMA_TOKEN}function WA(A){var e=[],t=[];return A.forEach(function(A){if(A.type===sA.COMMA_TOKEN){if(0===t.length)throw new Error(\"Error parsing function args, zero tokens for arg\");return e.push(t),void(t=[])}A.type!==sA.WHITESPACE_TOKEN&&t.push(A)}),t.length&&e.push(t),e}function YA(A){return A.type===sA.NUMBER_TOKEN||A.type===sA.DIMENSION_TOKEN}function qA(A){return A.type===sA.PERCENTAGE_TOKEN||YA(A)}function ZA(A){return 1<A.length?[A[0],A[1]]:[A[0]]}function jA(A,e,t){var r=A[0],n=A[1];return[ae(r,e),ae(void 0!==n?n:r,t)]}function $A(A){return A.type===sA.DIMENSION_TOKEN&&(\"deg\"===A.unit||\"grad\"===A.unit||\"rad\"===A.unit||\"turn\"===A.unit)}function Ae(A){switch(A.filter(zA).map(function(A){return A.value}).join(\" \")){case\"to bottom right\":case\"to right bottom\":case\"left top\":case\"top left\":return[se,se];case\"to top\":case\"bottom\":return Qe(0);case\"to bottom left\":case\"to left bottom\":case\"right top\":case\"top right\":return[se,ie];case\"to right\":case\"left\":return Qe(90);case\"to top left\":case\"to left top\":case\"right bottom\":case\"bottom right\":return[ie,ie];case\"to bottom\":case\"top\":return Qe(180);case\"to top right\":case\"to right top\":case\"left bottom\":case\"bottom left\":return[ie,se];case\"to left\":case\"right\":return Qe(270)}return 0}function ee(A){return 0==(255&A)}function te(A){var e=255&A,t=255&A>>8,r=255&A>>16,n=255&A>>24;return e<255?\"rgba(\"+n+\",\"+r+\",\"+t+\",\"+e/255+\")\":\"rgb(\"+n+\",\"+r+\",\"+t+\")\"}function re(A,e){if(A.type===sA.NUMBER_TOKEN)return A.number;if(A.type!==sA.PERCENTAGE_TOKEN)return 0;var t=3===e?1:255;return 3===e?A.number/100*t:Math.round(A.number/100*t)}function ne(A){var e=A.filter(kA);if(3===e.length){var t=e.map(re),r=t[0],n=t[1],B=t[2];return ue(r,n,B,1)}if(4!==e.length)return 0;var s=e.map(re),o=(r=s[0],n=s[1],B=s[2],s[3]);return ue(r,n,B,o)}var Be=function(A,e){return e===sA.LEFT_CURLY_BRACKET_TOKEN&&A.type===sA.RIGHT_CURLY_BRACKET_TOKEN||(e===sA.LEFT_SQUARE_BRACKET_TOKEN&&A.type===sA.RIGHT_SQUARE_BRACKET_TOKEN||e===sA.LEFT_PARENTHESIS_TOKEN&&A.type===sA.RIGHT_PARENTHESIS_TOKEN)},se={type:sA.NUMBER_TOKEN,number:0,flags:4},oe={type:sA.PERCENTAGE_TOKEN,number:50,flags:4},ie={type:sA.PERCENTAGE_TOKEN,number:100,flags:4},ae=function(A,e){if(A.type===sA.PERCENTAGE_TOKEN)return A.number/100*e;if(xA(A))switch(A.unit){case\"rem\":case\"em\":return 16*A.number;case\"px\":default:return A.number}return A.number},ce=function(A){if(A.type===sA.DIMENSION_TOKEN)switch(A.unit){case\"deg\":return Math.PI*A.number/180;case\"grad\":return Math.PI/200*A.number;case\"rad\":return A.number;case\"turn\":return 2*Math.PI*A.number}throw new Error(\"Unsupported angle type\")},Qe=function(A){return Math.PI*A/180},we=function(A){if(A.type===sA.FUNCTION){var e=he[A.name];if(void 0===e)throw new Error('Attempting to parse an unsupported color function \"'+A.name+'\"');return e(A.values)}if(A.type===sA.HASH_TOKEN){if(3===A.value.length){var t=A.value.substring(0,1),r=A.value.substring(1,2),n=A.value.substring(2,3);return ue(parseInt(t+t,16),parseInt(r+r,16),parseInt(n+n,16),1)}if(4===A.value.length){t=A.value.substring(0,1),r=A.value.substring(1,2),n=A.value.substring(2,3);var B=A.value.substring(3,4);return ue(parseInt(t+t,16),parseInt(r+r,16),parseInt(n+n,16),parseInt(B+B,16)/255)}if(6===A.value.length){t=A.value.substring(0,2),r=A.value.substring(2,4),n=A.value.substring(4,6);return ue(parseInt(t,16),parseInt(r,16),parseInt(n,16),1)}if(8===A.value.length){t=A.value.substring(0,2),r=A.value.substring(2,4),n=A.value.substring(4,6),B=A.value.substring(6,8);return ue(parseInt(t,16),parseInt(r,16),parseInt(n,16),parseInt(B,16)/255)}}if(A.type===sA.IDENT_TOKEN){var s=He[A.value.toUpperCase()];if(void 0!==s)return s}return He.TRANSPARENT},ue=function(A,e,t,r){return(A<<24|e<<16|t<<8|Math.round(255*r)<<0)>>>0};function Ue(A,e,t){return t<0&&(t+=1),1<=t&&(t-=1),t<1/6?(e-A)*t*6+A:t<.5?e:t<2/3?6*(e-A)*(2/3-t)+A:A}function le(A){var e=A.filter(kA),t=e[0],r=e[1],n=e[2],B=e[3],s=(t.type===sA.NUMBER_TOKEN?Qe(t.number):ce(t))/(2*Math.PI),o=qA(r)?r.number/100:0,i=qA(n)?n.number/100:0,a=void 0!==B&&qA(B)?ae(B,1):1;if(0==o)return ue(255*i,255*i,255*i,1);var c=i<=.5?i*(1+o):i+o-i*o,Q=2*i-c,w=Ue(Q,c,s+1/3),u=Ue(Q,c,s),U=Ue(Q,c,s-1/3);return ue(255*w,255*u,255*U,a)}var Ce,ge,Ee,Fe,he={hsl:le,hsla:le,rgb:ne,rgba:ne},He={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199};(ge=Ce||(Ce={}))[ge.VALUE=0]=\"VALUE\",ge[ge.LIST=1]=\"LIST\",ge[ge.IDENT_VALUE=2]=\"IDENT_VALUE\",ge[ge.TYPE_VALUE=3]=\"TYPE_VALUE\",ge[ge.TOKEN_VALUE=4]=\"TOKEN_VALUE\",(Fe=Ee||(Ee={}))[Fe.BORDER_BOX=0]=\"BORDER_BOX\",Fe[Fe.PADDING_BOX=1]=\"PADDING_BOX\";function de(A){var e=we(A[0]),t=A[1];return t&&qA(t)?{color:e,stop:t}:{color:e,stop:null}}function fe(A,t){var e=A[0],r=A[A.length-1];null===e.stop&&(e.stop=se),null===r.stop&&(r.stop=ie);for(var n=[],B=0,s=0;s<A.length;s++){var o=A[s].stop;if(null!==o){var i=ae(o,t);B<i?n.push(i):n.push(B),B=i}else n.push(null)}var a=null;for(s=0;s<n.length;s++){var c=n[s];if(null===c)null===a&&(a=s);else if(null!==a){for(var Q=s-a,w=(c-n[a-1])/(1+Q),u=1;u<=Q;u++)n[a+u-1]=w*u;a=null}}return A.map(function(A,e){return{color:A.color,stop:Math.max(Math.min(1,n[e]/t),0)}})}function pe(A,e,t){var r=\"number\"==typeof A?A:function(A,e,t){var r=e/2,n=t/2,B=ae(A[0],e)-r,s=n-ae(A[1],t);return(Math.atan2(s,B)+2*Math.PI)%(2*Math.PI)}(A,e,t),n=Math.abs(e*Math.sin(r))+Math.abs(t*Math.cos(r)),B=e/2,s=t/2,o=n/2,i=Math.sin(r-Math.PI/2)*o,a=Math.cos(r-Math.PI/2)*o;return[n,B-a,B+a,s-i,s+i]}function Ne(A,e){return Math.sqrt(A*A+e*e)}function Ke(A,e,B,s,o){return[[0,0],[0,e],[A,0],[A,e]].reduce(function(A,e){var t=e[0],r=e[1],n=Ne(B-t,s-r);return(o?n<A.optimumDistance:n>A.optimumDistance)?{optimumCorner:e,optimumDistance:n}:A},{optimumDistance:o?1/0:-1/0,optimumCorner:null}).optimumCorner}function Ie(A){var n=Qe(180),B=[];return WA(A).forEach(function(A,e){if(0===e){var t=A[0];if(t.type===sA.IDENT_TOKEN&&-1!==[\"top\",\"left\",\"right\",\"bottom\"].indexOf(t.value))return void(n=Ae(A));if($A(t))return void(n=(ce(t)+Qe(270))%Qe(360))}var r=de(A);B.push(r)}),{angle:n,stops:B,type:xe.LINEAR_GRADIENT}}function Te(A){return 0===A[0]&&255===A[1]&&0===A[2]&&255===A[3]}var me={name:\"background-clip\",initialValue:\"border-box\",prefix:!(Fe[Fe.CONTENT_BOX=2]=\"CONTENT_BOX\"),type:Ce.LIST,parse:function(A){return A.map(function(A){if(zA(A))switch(A.value){case\"padding-box\":return Ee.PADDING_BOX;case\"content-box\":return Ee.CONTENT_BOX}return Ee.BORDER_BOX})}},Re={name:\"background-color\",initialValue:\"transparent\",prefix:!1,type:Ce.TYPE_VALUE,format:\"color\"},Le=function(A,e,t,r,n){var B=\"http://www.w3.org/2000/svg\",s=document.createElementNS(B,\"svg\"),o=document.createElementNS(B,\"foreignObject\");return s.setAttributeNS(null,\"width\",A.toString()),s.setAttributeNS(null,\"height\",e.toString()),o.setAttributeNS(null,\"width\",\"100%\"),o.setAttributeNS(null,\"height\",\"100%\"),o.setAttributeNS(null,\"x\",t.toString()),o.setAttributeNS(null,\"y\",r.toString()),o.setAttributeNS(null,\"externalResourcesRequired\",\"true\"),s.appendChild(o),o.appendChild(n),s},ve=function(r){return new Promise(function(A,e){var t=new Image;t.onload=function(){return A(t)},t.onerror=e,t.src=\"data:image/svg+xml;charset=utf-8,\"+encodeURIComponent((new XMLSerializer).serializeToString(r))})},Oe={get SUPPORT_RANGE_BOUNDS(){var A=function(A){if(A.createRange){var e=A.createRange();if(e.getBoundingClientRect){var t=A.createElement(\"boundtest\");t.style.height=\"123px\",t.style.display=\"block\",A.body.appendChild(t),e.selectNode(t);var r=e.getBoundingClientRect(),n=Math.round(r.height);if(A.body.removeChild(t),123===n)return!0}}return!1}(document);return Object.defineProperty(Oe,\"SUPPORT_RANGE_BOUNDS\",{value:A}),A},get SUPPORT_SVG_DRAWING(){var A=function(A){var e=new Image,t=A.createElement(\"canvas\"),r=t.getContext(\"2d\");if(!r)return!1;e.src=\"data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>\";try{r.drawImage(e,0,0),t.toDataURL()}catch(A){return!1}return!0}(document);return Object.defineProperty(Oe,\"SUPPORT_SVG_DRAWING\",{value:A}),A},get SUPPORT_FOREIGNOBJECT_DRAWING(){var A=\"function\"==typeof Array.from&&\"function\"==typeof window.fetch?function(r){var A=r.createElement(\"canvas\"),n=100;A.width=n,A.height=n;var B=A.getContext(\"2d\");if(!B)return Promise.reject(!1);B.fillStyle=\"rgb(0, 255, 0)\",B.fillRect(0,0,n,n);var e=new Image,s=A.toDataURL();e.src=s;var t=Le(n,n,0,0,e);return B.fillStyle=\"red\",B.fillRect(0,0,n,n),ve(t).then(function(A){B.drawImage(A,0,0);var e=B.getImageData(0,0,n,n).data;B.fillStyle=\"red\",B.fillRect(0,0,n,n);var t=r.createElement(\"div\");return t.style.backgroundImage=\"url(\"+s+\")\",t.style.height=\"100px\",Te(e)?ve(Le(n,n,0,0,t)):Promise.reject(!1)}).then(function(A){return B.drawImage(A,0,0),Te(B.getImageData(0,0,n,n).data)}).catch(function(){return!1})}(document):Promise.resolve(!1);return Object.defineProperty(Oe,\"SUPPORT_FOREIGNOBJECT_DRAWING\",{value:A}),A},get SUPPORT_CORS_IMAGES(){var A=void 0!==(new Image).crossOrigin;return Object.defineProperty(Oe,\"SUPPORT_CORS_IMAGES\",{value:A}),A},get SUPPORT_RESPONSE_TYPE(){var A=\"string\"==typeof(new XMLHttpRequest).responseType;return Object.defineProperty(Oe,\"SUPPORT_RESPONSE_TYPE\",{value:A}),A},get SUPPORT_CORS_XHR(){var A=\"withCredentials\"in new XMLHttpRequest;return Object.defineProperty(Oe,\"SUPPORT_CORS_XHR\",{value:A}),A}},De=(be.prototype.debug=function(){for(var A=[],e=0;e<arguments.length;e++)A[e]=arguments[e];this.enabled&&(\"undefined\"!=typeof window&&window.console&&\"function\"==typeof console.debug?console.debug.apply(console,[this.id,this.getTime()+\"ms\"].concat(A)):this.info.apply(this,A))},be.prototype.getTime=function(){return Date.now()-this.start},be.create=function(A){be.instances[A.id]=new be(A)},be.destroy=function(A){delete be.instances[A]},be.getInstance=function(A){var e=be.instances[A];if(void 0===e)throw new Error(\"No logger instance found with id \"+A);return e},be.prototype.info=function(){for(var A=[],e=0;e<arguments.length;e++)A[e]=arguments[e];this.enabled&&\"undefined\"!=typeof window&&window.console&&\"function\"==typeof console.info&&console.info.apply(console,[this.id,this.getTime()+\"ms\"].concat(A))},be.prototype.error=function(){for(var A=[],e=0;e<arguments.length;e++)A[e]=arguments[e];this.enabled&&(\"undefined\"!=typeof window&&window.console&&\"function\"==typeof console.error?console.error.apply(console,[this.id,this.getTime()+\"ms\"].concat(A)):this.info.apply(this,A))},be.instances={},be);function be(A){var e=A.id,t=A.enabled;this.id=e,this.enabled=t,this.start=Date.now()}var Se=(Me.create=function(A,e){return Me._caches[A]=new ye(A,e)},Me.destroy=function(A){delete Me._caches[A]},Me.open=function(A){var e=Me._caches[A];if(void 0!==e)return e;throw new Error('Cache with key \"'+A+'\" not found')},Me.getOrigin=function(A){var e=Me._link;return e?(e.href=A,e.href=e.href,e.protocol+e.hostname+e.port):\"about:blank\"},Me.isSameOrigin=function(A){return Me.getOrigin(A)===Me._origin},Me.setContext=function(A){Me._link=A.document.createElement(\"a\"),Me._origin=Me.getOrigin(A.location.href)},Me.getInstance=function(){var A=Me._current;if(null===A)throw new Error(\"No cache instance attached\");return A},Me.attachInstance=function(A){Me._current=A},Me.detachInstance=function(){Me._current=null},Me._caches={},Me._origin=\"about:blank\",Me._current=null,Me);function Me(){}var ye=(_e.prototype.addImage=function(A){var e=Promise.resolve();return this.has(A)||(Ye(A)||Ge(A))&&(this._cache[A]=this.loadImage(A)),e},_e.prototype.match=function(A){return this._cache[A]},_e.prototype.loadImage=function(s){return a(this,void 0,void 0,function(){var e,r,t,n,B=this;return S(this,function(A){switch(A.label){case 0:return e=Se.isSameOrigin(s),r=!ke(s)&&!0===this._options.useCORS&&Oe.SUPPORT_CORS_IMAGES&&!e,t=!ke(s)&&!e&&\"string\"==typeof this._options.proxy&&Oe.SUPPORT_CORS_XHR&&!r,e||!1!==this._options.allowTaint||ke(s)||t||r?(n=s,t?[4,this.proxy(n)]:[3,2]):[2];case 1:n=A.sent(),A.label=2;case 2:return De.getInstance(this.id).debug(\"Added image \"+s.substring(0,256)),[4,new Promise(function(A,e){var t=new Image;t.onload=function(){return A(t)},t.onerror=e,(We(n)||r)&&(t.crossOrigin=\"anonymous\"),t.src=n,!0===t.complete&&setTimeout(function(){return A(t)},500),0<B._options.imageTimeout&&setTimeout(function(){return e(\"Timed out (\"+B._options.imageTimeout+\"ms) loading image\")},B._options.imageTimeout)})];case 3:return[2,A.sent()]}})})},_e.prototype.has=function(A){return void 0!==this._cache[A]},_e.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},_e.prototype.proxy=function(B){var s=this,o=this._options.proxy;if(!o)throw new Error(\"No proxy defined\");var i=B.substring(0,256);return new Promise(function(e,t){var r=Oe.SUPPORT_RESPONSE_TYPE?\"blob\":\"text\",n=new XMLHttpRequest;if(n.onload=function(){if(200===n.status)if(\"text\"==r)e(n.response);else{var A=new FileReader;A.addEventListener(\"load\",function(){return e(A.result)},!1),A.addEventListener(\"error\",function(A){return t(A)},!1),A.readAsDataURL(n.response)}else t(\"Failed to proxy resource \"+i+\" with status code \"+n.status)},n.onerror=t,n.open(\"GET\",o+\"?url=\"+encodeURIComponent(B)+\"&responseType=\"+r),\"text\"!=r&&n instanceof XMLHttpRequest&&(n.responseType=r),s._options.imageTimeout){var A=s._options.imageTimeout;n.timeout=A,n.ontimeout=function(){return t(\"Timed out (\"+A+\"ms) proxying \"+i)}}n.send()})},_e);function _e(A,e){this.id=A,this._options=e,this._cache={}}function Pe(A){var n=rt.CIRCLE,B=Bt.FARTHEST_CORNER,s=[],o=[];return WA(A).forEach(function(A,e){var t=!0;if(0===e?t=A.reduce(function(A,e){if(zA(e))switch(e.value){case\"center\":return o.push(oe),!1;case\"top\":case\"left\":return o.push(se),!1;case\"right\":case\"bottom\":return o.push(ie),!1}else if(qA(e)||YA(e))return o.push(e),!1;return A},t):1===e&&(t=A.reduce(function(A,e){if(zA(e))switch(e.value){case\"circle\":return n=rt.CIRCLE,!1;case et:return n=rt.ELLIPSE,!1;case tt:case Ze:return B=Bt.CLOSEST_SIDE,!1;case je:return B=Bt.FARTHEST_SIDE,!1;case $e:return B=Bt.CLOSEST_CORNER,!1;case\"cover\":case At:return B=Bt.FARTHEST_CORNER,!1}else if(YA(e)||qA(e))return Array.isArray(B)||(B=[]),B.push(e),!1;return A},t)),t){var r=de(A);s.push(r)}}),{size:B,shape:n,stops:s,position:o,type:xe.RADIAL_GRADIENT}}var xe,Ve,ze=/^data:image\\/svg\\+xml/i,Xe=/^data:image\\/.*;base64,/i,Je=/^data:image\\/.*/i,Ge=function(A){return Oe.SUPPORT_SVG_DRAWING||!qe(A)},ke=function(A){return Je.test(A)},We=function(A){return Xe.test(A)},Ye=function(A){return\"blob\"===A.substr(0,4)},qe=function(A){return\"svg\"===A.substr(-3).toLowerCase()||ze.test(A)},Ze=\"closest-side\",je=\"farthest-side\",$e=\"closest-corner\",At=\"farthest-corner\",et=\"ellipse\",tt=\"contain\";(Ve=xe||(xe={}))[Ve.URL=0]=\"URL\",Ve[Ve.LINEAR_GRADIENT=1]=\"LINEAR_GRADIENT\",Ve[Ve.RADIAL_GRADIENT=2]=\"RADIAL_GRADIENT\";var rt,nt,Bt,st;(nt=rt||(rt={}))[nt.CIRCLE=0]=\"CIRCLE\",nt[nt.ELLIPSE=1]=\"ELLIPSE\",(st=Bt||(Bt={}))[st.CLOSEST_SIDE=0]=\"CLOSEST_SIDE\",st[st.FARTHEST_SIDE=1]=\"FARTHEST_SIDE\",st[st.CLOSEST_CORNER=2]=\"CLOSEST_CORNER\",st[st.FARTHEST_CORNER=3]=\"FARTHEST_CORNER\";var ot=function(A){if(A.type===sA.URL_TOKEN){var e={url:A.value,type:xe.URL};return Se.getInstance().addImage(A.value),e}if(A.type!==sA.FUNCTION)throw new Error(\"Unsupported image type\");var t=ct[A.name];if(void 0===t)throw new Error('Attempting to parse an unsupported image function \"'+A.name+'\"');return t(A.values)};var it,at,ct={\"linear-gradient\":function(A){var n=Qe(180),B=[];return WA(A).forEach(function(A,e){if(0===e){var t=A[0];if(t.type===sA.IDENT_TOKEN&&\"to\"===t.value)return void(n=Ae(A));if($A(t))return void(n=ce(t))}var r=de(A);B.push(r)}),{angle:n,stops:B,type:xe.LINEAR_GRADIENT}},\"-moz-linear-gradient\":Ie,\"-ms-linear-gradient\":Ie,\"-o-linear-gradient\":Ie,\"-webkit-linear-gradient\":Ie,\"radial-gradient\":function(A){var B=rt.CIRCLE,s=Bt.FARTHEST_CORNER,o=[],i=[];return WA(A).forEach(function(A,e){var t=!0;if(0===e){var r=!1;t=A.reduce(function(A,e){if(r)if(zA(e))switch(e.value){case\"center\":return i.push(oe),A;case\"top\":case\"left\":return i.push(se),A;case\"right\":case\"bottom\":return i.push(ie),A}else(qA(e)||YA(e))&&i.push(e);else if(zA(e))switch(e.value){case\"circle\":return B=rt.CIRCLE,!1;case et:return B=rt.ELLIPSE,!1;case\"at\":return!(r=!0);case Ze:return s=Bt.CLOSEST_SIDE,!1;case\"cover\":case je:return s=Bt.FARTHEST_SIDE,!1;case tt:case $e:return s=Bt.CLOSEST_CORNER,!1;case At:return s=Bt.FARTHEST_CORNER,!1}else if(YA(e)||qA(e))return Array.isArray(s)||(s=[]),s.push(e),!1;return A},t)}if(t){var n=de(A);o.push(n)}}),{size:s,shape:B,stops:o,position:i,type:xe.RADIAL_GRADIENT}},\"-moz-radial-gradient\":Pe,\"-ms-radial-gradient\":Pe,\"-o-radial-gradient\":Pe,\"-webkit-radial-gradient\":Pe,\"-webkit-gradient\":function(A){var e=Qe(180),s=[],o=xe.LINEAR_GRADIENT,t=rt.CIRCLE,r=Bt.FARTHEST_CORNER;return WA(A).forEach(function(A,e){var t=A[0];if(0===e){if(zA(t)&&\"linear\"===t.value)return void(o=xe.LINEAR_GRADIENT);if(zA(t)&&\"radial\"===t.value)return void(o=xe.RADIAL_GRADIENT)}if(t.type===sA.FUNCTION)if(\"from\"===t.name){var r=we(t.values[0]);s.push({stop:se,color:r})}else if(\"to\"===t.name)r=we(t.values[0]),s.push({stop:ie,color:r});else if(\"color-stop\"===t.name){var n=t.values.filter(kA);if(2===n.length){r=we(n[1]);var B=n[0];VA(B)&&s.push({stop:{type:sA.PERCENTAGE_TOKEN,number:100*B.number,flags:B.flags},color:r})}}}),o===xe.LINEAR_GRADIENT?{angle:(e+Qe(180))%Qe(360),stops:s,type:o}:{size:r,shape:t,stops:s,position:[],type:o}}},Qt={name:\"background-image\",initialValue:\"none\",type:Ce.LIST,prefix:!1,parse:function(A){if(0===A.length)return[];var e=A[0];return e.type===sA.IDENT_TOKEN&&\"none\"===e.value?[]:A.filter(function(A){return kA(A)&&function(A){return A.type!==sA.FUNCTION||ct[A.name]}(A)}).map(ot)}},wt={name:\"background-origin\",initialValue:\"border-box\",prefix:!1,type:Ce.LIST,parse:function(A){return A.map(function(A){if(zA(A))switch(A.value){case\"padding-box\":return 1;case\"content-box\":return 2}return 0})}},ut={name:\"background-position\",initialValue:\"0% 0%\",type:Ce.LIST,prefix:!1,parse:function(A){return WA(A).map(function(A){return A.filter(qA)}).map(ZA)}};(at=it||(it={}))[at.REPEAT=0]=\"REPEAT\",at[at.NO_REPEAT=1]=\"NO_REPEAT\",at[at.REPEAT_X=2]=\"REPEAT_X\";var Ut,lt,Ct={name:\"background-repeat\",initialValue:\"repeat\",prefix:!(at[at.REPEAT_Y=3]=\"REPEAT_Y\"),type:Ce.LIST,parse:function(A){return WA(A).map(function(A){return A.filter(zA).map(function(A){return A.value}).join(\" \")}).map(gt)}},gt=function(A){switch(A){case\"no-repeat\":return it.NO_REPEAT;case\"repeat-x\":case\"repeat no-repeat\":return it.REPEAT_X;case\"repeat-y\":case\"no-repeat repeat\":return it.REPEAT_Y;case\"repeat\":default:return it.REPEAT}};(lt=Ut||(Ut={})).AUTO=\"auto\",lt.CONTAIN=\"contain\";function Et(A){return{name:\"border-\"+A+\"-color\",initialValue:\"transparent\",prefix:!1,type:Ce.TYPE_VALUE,format:\"color\"}}function Ft(A){return{name:\"border-radius-\"+A,initialValue:\"0 0\",prefix:!1,type:Ce.LIST,parse:function(A){return ZA(A.filter(qA))}}}var ht,Ht,dt={name:\"background-size\",initialValue:\"0\",prefix:!(lt.COVER=\"cover\"),type:Ce.LIST,parse:function(A){return WA(A).map(function(A){return A.filter(ft)})}},ft=function(A){return zA(A)||qA(A)},pt=Et(\"top\"),Nt=Et(\"right\"),Kt=Et(\"bottom\"),It=Et(\"left\"),Tt=Ft(\"top-left\"),mt=Ft(\"top-right\"),Rt=Ft(\"bottom-right\"),Lt=Ft(\"bottom-left\");(Ht=ht||(ht={}))[Ht.NONE=0]=\"NONE\",Ht[Ht.SOLID=1]=\"SOLID\";function vt(A){return{name:\"border-\"+A+\"-style\",initialValue:\"solid\",prefix:!1,type:Ce.IDENT_VALUE,parse:function(A){switch(A){case\"none\":return ht.NONE}return ht.SOLID}}}function Ot(A){return{name:\"border-\"+A+\"-width\",initialValue:\"0\",type:Ce.VALUE,prefix:!1,parse:function(A){return xA(A)?A.number:0}}}var Dt,bt,St=vt(\"top\"),Mt=vt(\"right\"),yt=vt(\"bottom\"),_t=vt(\"left\"),Pt=Ot(\"top\"),xt=Ot(\"right\"),Vt=Ot(\"bottom\"),zt=Ot(\"left\"),Xt={name:\"color\",initialValue:\"transparent\",prefix:!1,type:Ce.TYPE_VALUE,format:\"color\"},Jt={name:\"display\",initialValue:\"inline-block\",prefix:!1,type:Ce.LIST,parse:function(A){return A.filter(zA).reduce(function(A,e){return A|Gt(e.value)},0)}},Gt=function(A){switch(A){case\"block\":return 2;case\"inline\":return 4;case\"run-in\":return 8;case\"flow\":return 16;case\"flow-root\":return 32;case\"table\":return 64;case\"flex\":case\"-webkit-flex\":return 128;case\"grid\":case\"-ms-grid\":return 256;case\"ruby\":return 512;case\"subgrid\":return 1024;case\"list-item\":return 2048;case\"table-row-group\":return 4096;case\"table-header-group\":return 8192;case\"table-footer-group\":return 16384;case\"table-row\":return 32768;case\"table-cell\":return 65536;case\"table-column-group\":return 131072;case\"table-column\":return 262144;case\"table-caption\":return 524288;case\"ruby-base\":return 1048576;case\"ruby-text\":return 2097152;case\"ruby-base-container\":return 4194304;case\"ruby-text-container\":return 8388608;case\"contents\":return 16777216;case\"inline-block\":return 33554432;case\"inline-list-item\":return 67108864;case\"inline-table\":return 134217728;case\"inline-flex\":return 268435456;case\"inline-grid\":return 536870912}return 0};(bt=Dt||(Dt={}))[bt.NONE=0]=\"NONE\",bt[bt.LEFT=1]=\"LEFT\",bt[bt.RIGHT=2]=\"RIGHT\",bt[bt.INLINE_START=3]=\"INLINE_START\";var kt,Wt,Yt,qt,Zt={name:\"float\",initialValue:\"none\",prefix:!(bt[bt.INLINE_END=4]=\"INLINE_END\"),type:Ce.IDENT_VALUE,parse:function(A){switch(A){case\"left\":return Dt.LEFT;case\"right\":return Dt.RIGHT;case\"inline-start\":return Dt.INLINE_START;case\"inline-end\":return Dt.INLINE_END}return Dt.NONE}},jt={name:\"letter-spacing\",initialValue:\"0\",prefix:!1,type:Ce.VALUE,parse:function(A){return A.type===sA.IDENT_TOKEN&&\"normal\"===A.value?0:A.type===sA.NUMBER_TOKEN?A.number:A.type===sA.DIMENSION_TOKEN?A.number:0}},$t={name:\"line-break\",initialValue:(Wt=kt||(kt={})).NORMAL=\"normal\",prefix:!(Wt.STRICT=\"strict\"),type:Ce.IDENT_VALUE,parse:function(A){switch(A){case\"strict\":return kt.STRICT;case\"normal\":default:return kt.NORMAL}}},Ar={name:\"line-height\",initialValue:\"normal\",prefix:!1,type:Ce.TOKEN_VALUE},er={name:\"list-style-image\",initialValue:\"none\",type:Ce.VALUE,prefix:!1,parse:function(A){return A.type===sA.IDENT_TOKEN&&\"none\"===A.value?null:ot(A)}};(qt=Yt||(Yt={}))[qt.INSIDE=0]=\"INSIDE\";var tr,rr,nr={name:\"list-style-position\",initialValue:\"outside\",prefix:!(qt[qt.OUTSIDE=1]=\"OUTSIDE\"),type:Ce.IDENT_VALUE,parse:function(A){switch(A){case\"inside\":return Yt.INSIDE;case\"outside\":default:return Yt.OUTSIDE}}};(rr=tr||(tr={}))[rr.NONE=-1]=\"NONE\",rr[rr.DISC=0]=\"DISC\",rr[rr.CIRCLE=1]=\"CIRCLE\",rr[rr.SQUARE=2]=\"SQUARE\",rr[rr.DECIMAL=3]=\"DECIMAL\",rr[rr.CJK_DECIMAL=4]=\"CJK_DECIMAL\",rr[rr.DECIMAL_LEADING_ZERO=5]=\"DECIMAL_LEADING_ZERO\",rr[rr.LOWER_ROMAN=6]=\"LOWER_ROMAN\",rr[rr.UPPER_ROMAN=7]=\"UPPER_ROMAN\",rr[rr.LOWER_GREEK=8]=\"LOWER_GREEK\",rr[rr.LOWER_ALPHA=9]=\"LOWER_ALPHA\",rr[rr.UPPER_ALPHA=10]=\"UPPER_ALPHA\",rr[rr.ARABIC_INDIC=11]=\"ARABIC_INDIC\",rr[rr.ARMENIAN=12]=\"ARMENIAN\",rr[rr.BENGALI=13]=\"BENGALI\",rr[rr.CAMBODIAN=14]=\"CAMBODIAN\",rr[rr.CJK_EARTHLY_BRANCH=15]=\"CJK_EARTHLY_BRANCH\",rr[rr.CJK_HEAVENLY_STEM=16]=\"CJK_HEAVENLY_STEM\",rr[rr.CJK_IDEOGRAPHIC=17]=\"CJK_IDEOGRAPHIC\",rr[rr.DEVANAGARI=18]=\"DEVANAGARI\",rr[rr.ETHIOPIC_NUMERIC=19]=\"ETHIOPIC_NUMERIC\",rr[rr.GEORGIAN=20]=\"GEORGIAN\",rr[rr.GUJARATI=21]=\"GUJARATI\",rr[rr.GURMUKHI=22]=\"GURMUKHI\",rr[rr.HEBREW=22]=\"HEBREW\",rr[rr.HIRAGANA=23]=\"HIRAGANA\",rr[rr.HIRAGANA_IROHA=24]=\"HIRAGANA_IROHA\",rr[rr.JAPANESE_FORMAL=25]=\"JAPANESE_FORMAL\",rr[rr.JAPANESE_INFORMAL=26]=\"JAPANESE_INFORMAL\",rr[rr.KANNADA=27]=\"KANNADA\",rr[rr.KATAKANA=28]=\"KATAKANA\",rr[rr.KATAKANA_IROHA=29]=\"KATAKANA_IROHA\",rr[rr.KHMER=30]=\"KHMER\",rr[rr.KOREAN_HANGUL_FORMAL=31]=\"KOREAN_HANGUL_FORMAL\",rr[rr.KOREAN_HANJA_FORMAL=32]=\"KOREAN_HANJA_FORMAL\",rr[rr.KOREAN_HANJA_INFORMAL=33]=\"KOREAN_HANJA_INFORMAL\",rr[rr.LAO=34]=\"LAO\",rr[rr.LOWER_ARMENIAN=35]=\"LOWER_ARMENIAN\",rr[rr.MALAYALAM=36]=\"MALAYALAM\",rr[rr.MONGOLIAN=37]=\"MONGOLIAN\",rr[rr.MYANMAR=38]=\"MYANMAR\",rr[rr.ORIYA=39]=\"ORIYA\",rr[rr.PERSIAN=40]=\"PERSIAN\",rr[rr.SIMP_CHINESE_FORMAL=41]=\"SIMP_CHINESE_FORMAL\",rr[rr.SIMP_CHINESE_INFORMAL=42]=\"SIMP_CHINESE_INFORMAL\",rr[rr.TAMIL=43]=\"TAMIL\",rr[rr.TELUGU=44]=\"TELUGU\",rr[rr.THAI=45]=\"THAI\",rr[rr.TIBETAN=46]=\"TIBETAN\",rr[rr.TRAD_CHINESE_FORMAL=47]=\"TRAD_CHINESE_FORMAL\",rr[rr.TRAD_CHINESE_INFORMAL=48]=\"TRAD_CHINESE_INFORMAL\",rr[rr.UPPER_ARMENIAN=49]=\"UPPER_ARMENIAN\",rr[rr.DISCLOSURE_OPEN=50]=\"DISCLOSURE_OPEN\";function Br(A){return{name:\"margin-\"+A,initialValue:\"0\",prefix:!1,type:Ce.TOKEN_VALUE}}var sr,or,ir={name:\"list-style-type\",initialValue:\"none\",prefix:!(rr[rr.DISCLOSURE_CLOSED=51]=\"DISCLOSURE_CLOSED\"),type:Ce.IDENT_VALUE,parse:function(A){switch(A){case\"disc\":return tr.DISC;case\"circle\":return tr.CIRCLE;case\"square\":return tr.SQUARE;case\"decimal\":return tr.DECIMAL;case\"cjk-decimal\":return tr.CJK_DECIMAL;case\"decimal-leading-zero\":return tr.DECIMAL_LEADING_ZERO;case\"lower-roman\":return tr.LOWER_ROMAN;case\"upper-roman\":return tr.UPPER_ROMAN;case\"lower-greek\":return tr.LOWER_GREEK;case\"lower-alpha\":return tr.LOWER_ALPHA;case\"upper-alpha\":return tr.UPPER_ALPHA;case\"arabic-indic\":return tr.ARABIC_INDIC;case\"armenian\":return tr.ARMENIAN;case\"bengali\":return tr.BENGALI;case\"cambodian\":return tr.CAMBODIAN;case\"cjk-earthly-branch\":return tr.CJK_EARTHLY_BRANCH;case\"cjk-heavenly-stem\":return tr.CJK_HEAVENLY_STEM;case\"cjk-ideographic\":return tr.CJK_IDEOGRAPHIC;case\"devanagari\":return tr.DEVANAGARI;case\"ethiopic-numeric\":return tr.ETHIOPIC_NUMERIC;case\"georgian\":return tr.GEORGIAN;case\"gujarati\":return tr.GUJARATI;case\"gurmukhi\":return tr.GURMUKHI;case\"hebrew\":return tr.HEBREW;case\"hiragana\":return tr.HIRAGANA;case\"hiragana-iroha\":return tr.HIRAGANA_IROHA;case\"japanese-formal\":return tr.JAPANESE_FORMAL;case\"japanese-informal\":return tr.JAPANESE_INFORMAL;case\"kannada\":return tr.KANNADA;case\"katakana\":return tr.KATAKANA;case\"katakana-iroha\":return tr.KATAKANA_IROHA;case\"khmer\":return tr.KHMER;case\"korean-hangul-formal\":return tr.KOREAN_HANGUL_FORMAL;case\"korean-hanja-formal\":return tr.KOREAN_HANJA_FORMAL;case\"korean-hanja-informal\":return tr.KOREAN_HANJA_INFORMAL;case\"lao\":return tr.LAO;case\"lower-armenian\":return tr.LOWER_ARMENIAN;case\"malayalam\":return tr.MALAYALAM;case\"mongolian\":return tr.MONGOLIAN;case\"myanmar\":return tr.MYANMAR;case\"oriya\":return tr.ORIYA;case\"persian\":return tr.PERSIAN;case\"simp-chinese-formal\":return tr.SIMP_CHINESE_FORMAL;case\"simp-chinese-informal\":return tr.SIMP_CHINESE_INFORMAL;case\"tamil\":return tr.TAMIL;case\"telugu\":return tr.TELUGU;case\"thai\":return tr.THAI;case\"tibetan\":return tr.TIBETAN;case\"trad-chinese-formal\":return tr.TRAD_CHINESE_FORMAL;case\"trad-chinese-informal\":return tr.TRAD_CHINESE_INFORMAL;case\"upper-armenian\":return tr.UPPER_ARMENIAN;case\"disclosure-open\":return tr.DISCLOSURE_OPEN;case\"disclosure-closed\":return tr.DISCLOSURE_CLOSED;case\"none\":default:return tr.NONE}}},ar=Br(\"top\"),cr=Br(\"right\"),Qr=Br(\"bottom\"),wr=Br(\"left\");(or=sr||(sr={}))[or.VISIBLE=0]=\"VISIBLE\",or[or.HIDDEN=1]=\"HIDDEN\",or[or.SCROLL=2]=\"SCROLL\";function ur(A){return{name:\"padding-\"+A,initialValue:\"0\",prefix:!1,type:Ce.TYPE_VALUE,format:\"length-percentage\"}}var Ur,lr,Cr,gr,Er={name:\"overflow\",initialValue:\"visible\",prefix:!(or[or.AUTO=3]=\"AUTO\"),type:Ce.LIST,parse:function(A){return A.filter(zA).map(function(A){switch(A.value){case\"hidden\":return sr.HIDDEN;case\"scroll\":return sr.SCROLL;case\"auto\":return sr.AUTO;case\"visible\":default:return sr.VISIBLE}})}},Fr={name:\"overflow-wrap\",initialValue:(lr=Ur||(Ur={})).NORMAL=\"normal\",prefix:!(lr.BREAK_WORD=\"break-word\"),type:Ce.IDENT_VALUE,parse:function(A){switch(A){case\"break-word\":return Ur.BREAK_WORD;case\"normal\":default:return Ur.NORMAL}}},hr=ur(\"top\"),Hr=ur(\"right\"),dr=ur(\"bottom\"),fr=ur(\"left\");(gr=Cr||(Cr={}))[gr.LEFT=0]=\"LEFT\",gr[gr.CENTER=1]=\"CENTER\";var pr,Nr,Kr={name:\"text-align\",initialValue:\"left\",prefix:!(gr[gr.RIGHT=2]=\"RIGHT\"),type:Ce.IDENT_VALUE,parse:function(A){switch(A){case\"right\":return Cr.RIGHT;case\"center\":case\"justify\":return Cr.CENTER;case\"left\":default:return Cr.LEFT}}};(Nr=pr||(pr={}))[Nr.STATIC=0]=\"STATIC\",Nr[Nr.RELATIVE=1]=\"RELATIVE\",Nr[Nr.ABSOLUTE=2]=\"ABSOLUTE\",Nr[Nr.FIXED=3]=\"FIXED\";var Ir,Tr,mr={name:\"position\",initialValue:\"static\",prefix:!(Nr[Nr.STICKY=4]=\"STICKY\"),type:Ce.IDENT_VALUE,parse:function(A){switch(A){case\"relative\":return pr.RELATIVE;case\"absolute\":return pr.ABSOLUTE;case\"fixed\":return pr.FIXED;case\"sticky\":return pr.STICKY}return pr.STATIC}},Rr={name:\"text-shadow\",initialValue:\"none\",type:Ce.LIST,prefix:!1,parse:function(A){return 1===A.length&&JA(A[0],\"none\")?[]:WA(A).map(function(A){for(var e={color:He.TRANSPARENT,offsetX:se,offsetY:se,blur:se},t=0,r=0;r<A.length;r++){var n=A[r];YA(n)?(0===t?e.offsetX=n:1===t?e.offsetY=n:e.blur=n,t++):e.color=we(n)}return e})}};(Tr=Ir||(Ir={}))[Tr.NONE=0]=\"NONE\",Tr[Tr.LOWERCASE=1]=\"LOWERCASE\",Tr[Tr.UPPERCASE=2]=\"UPPERCASE\";var Lr,vr,Or={name:\"text-transform\",initialValue:\"none\",prefix:!(Tr[Tr.CAPITALIZE=3]=\"CAPITALIZE\"),type:Ce.IDENT_VALUE,parse:function(A){switch(A){case\"uppercase\":return Ir.UPPERCASE;case\"lowercase\":return Ir.LOWERCASE;case\"capitalize\":return Ir.CAPITALIZE}return Ir.NONE}},Dr={name:\"transform\",initialValue:\"none\",prefix:!0,type:Ce.VALUE,parse:function(A){if(A.type===sA.IDENT_TOKEN&&\"none\"===A.value)return null;if(A.type!==sA.FUNCTION)return null;var e=br[A.name];if(void 0===e)throw new Error('Attempting to parse an unsupported transform function \"'+A.name+'\"');return e(A.values)}},br={matrix:function(A){var e=A.filter(function(A){return A.type===sA.NUMBER_TOKEN}).map(function(A){return A.number});return 6===e.length?e:null},matrix3d:function(A){var e=A.filter(function(A){return A.type===sA.NUMBER_TOKEN}).map(function(A){return A.number}),t=e[0],r=e[1],n=(e[2],e[3],e[4]),B=e[5],s=(e[6],e[7],e[8],e[9],e[10],e[11],e[12]),o=e[13];e[14],e[15];return 16===e.length?[t,r,n,B,s,o]:null}},Sr={type:sA.PERCENTAGE_TOKEN,number:50,flags:4},Mr=[Sr,Sr],yr={name:\"transform-origin\",initialValue:\"50% 50%\",prefix:!0,type:Ce.LIST,parse:function(A){var e=A.filter(qA);return 2!==e.length?Mr:[e[0],e[1]]}};(vr=Lr||(Lr={}))[vr.VISIBLE=0]=\"VISIBLE\",vr[vr.HIDDEN=1]=\"HIDDEN\";var _r,Pr,xr={name:\"visible\",initialValue:\"none\",prefix:!(vr[vr.COLLAPSE=2]=\"COLLAPSE\"),type:Ce.IDENT_VALUE,parse:function(A){switch(A){case\"hidden\":return Lr.HIDDEN;case\"collapse\":return Lr.COLLAPSE;case\"visible\":default:return Lr.VISIBLE}}};(Pr=_r||(_r={})).NORMAL=\"normal\",Pr.BREAK_ALL=\"break-all\";var Vr,zr,Xr={name:\"word-break\",initialValue:\"normal\",prefix:!(Pr.KEEP_ALL=\"keep-all\"),type:Ce.IDENT_VALUE,parse:function(A){switch(A){case\"break-all\":return _r.BREAK_ALL;case\"keep-all\":return _r.KEEP_ALL;case\"normal\":default:return _r.NORMAL}}},Jr={name:\"z-index\",initialValue:\"auto\",prefix:!1,type:Ce.VALUE,parse:function(A){if(A.type===sA.IDENT_TOKEN)return{auto:!0,order:0};if(VA(A))return{auto:!1,order:A.number};throw new Error(\"Invalid z-index number parsed\")}},Gr={name:\"opacity\",initialValue:\"1\",type:Ce.VALUE,prefix:!1,parse:function(A){return VA(A)?A.number:1}},kr={name:\"text-decoration-color\",initialValue:\"transparent\",prefix:!1,type:Ce.TYPE_VALUE,format:\"color\"},Wr={name:\"text-decoration-line\",initialValue:\"none\",prefix:!1,type:Ce.LIST,parse:function(A){return A.filter(zA).map(function(A){switch(A.value){case\"underline\":return 1;case\"overline\":return 2;case\"line-through\":return 3;case\"none\":return 4}return 0}).filter(function(A){return 0!==A})}},Yr={name:\"font-family\",initialValue:\"\",prefix:!1,type:Ce.LIST,parse:function(A){return A.filter(qr).map(function(A){return A.value})}},qr=function(A){return A.type===sA.STRING_TOKEN||A.type===sA.IDENT_TOKEN},Zr={name:\"font-size\",initialValue:\"0\",prefix:!1,type:Ce.TYPE_VALUE,format:\"length\"},jr={name:\"font-weight\",initialValue:\"normal\",type:Ce.VALUE,prefix:!1,parse:function(A){if(VA(A))return A.number;if(zA(A))switch(A.value){case\"bold\":return 700;case\"normal\":default:return 400}return 400}},$r={name:\"font-variant\",initialValue:\"none\",type:Ce.LIST,prefix:!1,parse:function(A){return A.filter(zA).map(function(A){return A.value})}};(zr=Vr||(Vr={})).NORMAL=\"normal\",zr.ITALIC=\"italic\";function An(A,e){return 0!=(A&e)}function en(A,e,t){if(!A)return\"\";var r=A[Math.min(e,A.length-1)];return r?t?r.open:r.close:\"\"}var tn={name:\"font-style\",initialValue:\"normal\",prefix:!(zr.OBLIQUE=\"oblique\"),type:Ce.IDENT_VALUE,parse:function(A){switch(A){case\"oblique\":return Vr.OBLIQUE;case\"italic\":return Vr.ITALIC;case\"normal\":default:return Vr.NORMAL}}},rn={name:\"content\",initialValue:\"none\",type:Ce.LIST,prefix:!1,parse:function(A){if(0===A.length)return[];var e=A[0];return e.type===sA.IDENT_TOKEN&&\"none\"===e.value?[]:A}},nn={name:\"counter-increment\",initialValue:\"none\",prefix:!0,type:Ce.LIST,parse:function(A){if(0===A.length)return null;var e=A[0];if(e.type===sA.IDENT_TOKEN&&\"none\"===e.value)return null;for(var t=[],r=A.filter(GA),n=0;n<r.length;n++){var B=r[n],s=r[n+1];if(B.type===sA.IDENT_TOKEN){var o=s&&VA(s)?s.number:1;t.push({counter:B.value,increment:o})}}return t}},Bn={name:\"counter-reset\",initialValue:\"none\",prefix:!0,type:Ce.LIST,parse:function(A){if(0===A.length)return[];for(var e=[],t=A.filter(GA),r=0;r<t.length;r++){var n=t[r],B=t[r+1];if(zA(n)&&\"none\"!==n.value){var s=B&&VA(B)?B.number:0;e.push({counter:n.value,reset:s})}}return e}},sn={name:\"quotes\",initialValue:\"none\",prefix:!0,type:Ce.LIST,parse:function(A){if(0===A.length)return null;var e=A[0];if(e.type===sA.IDENT_TOKEN&&\"none\"===e.value)return null;var t=[],r=A.filter(XA);if(r.length%2!=0)return null;for(var n=0;n<r.length;n+=2){var B=r[n].value,s=r[n+1].value;t.push({open:B,close:s})}return t}},on={name:\"box-shadow\",initialValue:\"none\",type:Ce.LIST,prefix:!1,parse:function(A){return 1===A.length&&JA(A[0],\"none\")?[]:WA(A).map(function(A){for(var e={color:255,offsetX:se,offsetY:se,blur:se,spread:se,inset:!1},t=0,r=0;r<A.length;r++){var n=A[r];JA(n,\"inset\")?e.inset=!0:YA(n)?(0===t?e.offsetX=n:1===t?e.offsetY=n:2===t?e.blur=n:e.spread=n,t++):e.color=we(n)}return e})}},an=(cn.prototype.isVisible=function(){return 0<this.display&&0<this.opacity&&this.visibility===Lr.VISIBLE},cn.prototype.isTransparent=function(){return ee(this.backgroundColor)},cn.prototype.isTransformed=function(){return null!==this.transform},cn.prototype.isPositioned=function(){return this.position!==pr.STATIC},cn.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},cn.prototype.isFloating=function(){return this.float!==Dt.NONE},cn.prototype.isInlineLevel=function(){return An(this.display,4)||An(this.display,33554432)||An(this.display,268435456)||An(this.display,536870912)||An(this.display,67108864)||An(this.display,134217728)},cn);function cn(A){this.backgroundClip=Un(me,A.backgroundClip),this.backgroundColor=Un(Re,A.backgroundColor),this.backgroundImage=Un(Qt,A.backgroundImage),this.backgroundOrigin=Un(wt,A.backgroundOrigin),this.backgroundPosition=Un(ut,A.backgroundPosition),this.backgroundRepeat=Un(Ct,A.backgroundRepeat),this.backgroundSize=Un(dt,A.backgroundSize),this.borderTopColor=Un(pt,A.borderTopColor),this.borderRightColor=Un(Nt,A.borderRightColor),this.borderBottomColor=Un(Kt,A.borderBottomColor),this.borderLeftColor=Un(It,A.borderLeftColor),this.borderTopLeftRadius=Un(Tt,A.borderTopLeftRadius),this.borderTopRightRadius=Un(mt,A.borderTopRightRadius),this.borderBottomRightRadius=Un(Rt,A.borderBottomRightRadius),this.borderBottomLeftRadius=Un(Lt,A.borderBottomLeftRadius),this.borderTopStyle=Un(St,A.borderTopStyle),this.borderRightStyle=Un(Mt,A.borderRightStyle),this.borderBottomStyle=Un(yt,A.borderBottomStyle),this.borderLeftStyle=Un(_t,A.borderLeftStyle),this.borderTopWidth=Un(Pt,A.borderTopWidth),this.borderRightWidth=Un(xt,A.borderRightWidth),this.borderBottomWidth=Un(Vt,A.borderBottomWidth),this.borderLeftWidth=Un(zt,A.borderLeftWidth),this.boxShadow=Un(on,A.boxShadow),this.color=Un(Xt,A.color),this.display=Un(Jt,A.display),this.float=Un(Zt,A.cssFloat),this.fontFamily=Un(Yr,A.fontFamily),this.fontSize=Un(Zr,A.fontSize),this.fontStyle=Un(tn,A.fontStyle),this.fontVariant=Un($r,A.fontVariant),this.fontWeight=Un(jr,A.fontWeight),this.letterSpacing=Un(jt,A.letterSpacing),this.lineBreak=Un($t,A.lineBreak),this.lineHeight=Un(Ar,A.lineHeight),this.listStyleImage=Un(er,A.listStyleImage),this.listStylePosition=Un(nr,A.listStylePosition),this.listStyleType=Un(ir,A.listStyleType),this.marginTop=Un(ar,A.marginTop),this.marginRight=Un(cr,A.marginRight),this.marginBottom=Un(Qr,A.marginBottom),this.marginLeft=Un(wr,A.marginLeft),this.opacity=Un(Gr,A.opacity);var e=Un(Er,A.overflow);this.overflowX=e[0],this.overflowY=e[1<e.length?1:0],this.overflowWrap=Un(Fr,A.overflowWrap),this.paddingTop=Un(hr,A.paddingTop),this.paddingRight=Un(Hr,A.paddingRight),this.paddingBottom=Un(dr,A.paddingBottom),this.paddingLeft=Un(fr,A.paddingLeft),this.position=Un(mr,A.position),this.textAlign=Un(Kr,A.textAlign),this.textDecorationColor=Un(kr,A.textDecorationColor||A.color),this.textDecorationLine=Un(Wr,A.textDecorationLine),this.textShadow=Un(Rr,A.textShadow),this.textTransform=Un(Or,A.textTransform),this.transform=Un(Dr,A.transform),this.transformOrigin=Un(yr,A.transformOrigin),this.visibility=Un(xr,A.visibility),this.wordBreak=Un(Xr,A.wordBreak),this.zIndex=Un(Jr,A.zIndex)}var Qn,wn=function(A){this.content=Un(rn,A.content),this.quotes=Un(sn,A.quotes)},un=function(A){this.counterIncrement=Un(nn,A.counterIncrement),this.counterReset=Un(Bn,A.counterReset)},Un=function(A,e){var t=new MA,r=null!=e?e.toString():A.initialValue;t.write(r);var n=new _A(t.read());switch(A.type){case Ce.IDENT_VALUE:var B=n.parseComponentValue();return A.parse(zA(B)?B.value:A.initialValue);case Ce.VALUE:return A.parse(n.parseComponentValue());case Ce.LIST:return A.parse(n.parseComponentValues());case Ce.TOKEN_VALUE:return n.parseComponentValue();case Ce.TYPE_VALUE:switch(A.format){case\"angle\":return ce(n.parseComponentValue());case\"color\":return we(n.parseComponentValue());case\"image\":return ot(n.parseComponentValue());case\"length\":var s=n.parseComponentValue();return YA(s)?s:se;case\"length-percentage\":var o=n.parseComponentValue();return qA(o)?o:se}}throw new Error(\"Attempting to parse unsupported css format type \"+A.format)},ln=function(A){this.styles=new an(window.getComputedStyle(A,null)),this.textNodes=[],this.elements=[],null!==this.styles.transform&&uB(A)&&(A.style.transform=\"none\"),this.bounds=T(A),this.flags=0},Cn=function(A,e){this.text=A,this.bounds=e},gn=function(A){var e=A.ownerDocument;if(e){var t=e.createElement(\"html2canvaswrapper\");t.appendChild(A.cloneNode(!0));var r=A.parentNode;if(r){r.replaceChild(t,A);var n=T(t);return t.firstChild&&r.replaceChild(t.firstChild,t),n}}return new I(0,0,0,0)},En=function(A,e,t){var r=A.ownerDocument;if(!r)throw new Error(\"Node has no owner document\");var n=r.createRange();return n.setStart(A,e),n.setEnd(A,e+t),I.fromClientRect(n.getBoundingClientRect())},Fn=function(A,e){return 0!==e.letterSpacing?c(A).map(function(A){return l(A)}):hn(A,e)},hn=function(A,e){for(var t,r=function(A,e){var t=c(A),r=u(t,e),n=r[0],B=r[1],s=r[2],o=t.length,i=0,a=0;return{next:function(){if(o<=a)return{done:!0,value:null};for(var A=Y;a<o&&(A=w(t,B,n,++a,s))===Y;);if(A===Y&&a!==o)return{done:!0,value:null};var e=new nA(t,A,i,a);return i=a,{value:e,done:!1}}}}(A,{lineBreak:e.lineBreak,wordBreak:e.overflowWrap===Ur.BREAK_WORD?\"break-word\":e.wordBreak}),n=[];!(t=r.next()).done;)t.value&&n.push(t.value.slice());return n},Hn=function(A,e){this.text=dn(A.data,e.textTransform),this.textBounds=function(A,t,r){var e=Fn(A,t),n=[],B=0;return e.forEach(function(A){if(t.textDecorationLine.length||0<A.trim().length)if(Oe.SUPPORT_RANGE_BOUNDS)n.push(new Cn(A,En(r,B,A.length)));else{var e=r.splitText(A.length);n.push(new Cn(A,gn(r))),r=e}else Oe.SUPPORT_RANGE_BOUNDS||(r=r.splitText(A.length));B+=A.length}),n}(this.text,e,A)},dn=function(A,e){switch(e){case Ir.LOWERCASE:return A.toLowerCase();case Ir.CAPITALIZE:return A.replace(fn,pn);case Ir.UPPERCASE:return A.toUpperCase();default:return A}},fn=/(^|\\s|:|-|\\(|\\))([a-z])/g,pn=function(A,e,t){return 0<A.length?e+t.toUpperCase():A},Nn=(A(Kn,Qn=ln),Kn);function Kn(A){var e=Qn.call(this,A)||this;return e.src=A.currentSrc||A.src,e.intrinsicWidth=A.naturalWidth,e.intrinsicHeight=A.naturalHeight,Se.getInstance().addImage(e.src),e}var In,Tn=(A(mn,In=ln),mn);function mn(A){var e=In.call(this,A)||this;return e.canvas=A,e.intrinsicWidth=A.width,e.intrinsicHeight=A.height,e}var Rn,Ln=(A(vn,Rn=ln),vn);function vn(A){var e=Rn.call(this,A)||this,t=new XMLSerializer;return e.svg=\"data:image/svg+xml,\"+encodeURIComponent(t.serializeToString(A)),e.intrinsicWidth=A.width.baseVal.value,e.intrinsicHeight=A.height.baseVal.value,Se.getInstance().addImage(e.svg),e}var On,Dn=(A(bn,On=ln),bn);function bn(A){var e=On.call(this,A)||this;return e.value=A.value,e}var Sn,Mn=(A(yn,Sn=ln),yn);function yn(A){var e=Sn.call(this,A)||this;return e.start=A.start,e.reversed=\"boolean\"==typeof A.reversed&&!0===A.reversed,e}var _n,Pn=[{type:sA.DIMENSION_TOKEN,flags:0,unit:\"px\",number:3}],xn=[{type:sA.PERCENTAGE_TOKEN,flags:0,number:50}],Vn=\"checkbox\",zn=\"radio\",Xn=\"password\",Jn=707406591,Gn=(A(kn,_n=ln),kn);function kn(A){var e=_n.call(this,A)||this;switch(e.type=A.type.toLowerCase(),e.checked=A.checked,e.value=function(A){var e=A.type===Xn?new Array(A.value.length+1).join(\"\u2022\"):A.value;return 0===e.length?A.placeholder||\"\":e}(A),e.type!==Vn&&e.type!==zn||(e.styles.backgroundColor=3739148031,e.styles.borderTopColor=e.styles.borderRightColor=e.styles.borderBottomColor=e.styles.borderLeftColor=2779096575,e.styles.borderTopWidth=e.styles.borderRightWidth=e.styles.borderBottomWidth=e.styles.borderLeftWidth=1,e.styles.borderTopStyle=e.styles.borderRightStyle=e.styles.borderBottomStyle=e.styles.borderLeftStyle=ht.SOLID,e.styles.backgroundClip=[Ee.BORDER_BOX],e.styles.backgroundOrigin=[0],e.bounds=function(A){return A.width>A.height?new I(A.left+(A.width-A.height)/2,A.top,A.height,A.height):A.width<A.height?new I(A.left,A.top+(A.height-A.width)/2,A.width,A.width):A}(e.bounds)),e.type){case Vn:e.styles.borderTopRightRadius=e.styles.borderTopLeftRadius=e.styles.borderBottomRightRadius=e.styles.borderBottomLeftRadius=Pn;break;case zn:e.styles.borderTopRightRadius=e.styles.borderTopLeftRadius=e.styles.borderBottomRightRadius=e.styles.borderBottomLeftRadius=xn}return e}var Wn,Yn=(A(qn,Wn=ln),qn);function qn(A){var e=Wn.call(this,A)||this,t=A.options[A.selectedIndex||0];return e.value=t&&t.text||\"\",e}var Zn,jn=(A($n,Zn=ln),$n);function $n(A){var e=Zn.call(this,A)||this;return e.value=A.value,e}function AB(A){return we(_A.create(A).parseComponentValue())}var eB,tB=(A(rB,eB=ln),rB);function rB(A){var e=eB.call(this,A)||this;e.src=A.src,e.width=parseInt(A.width,10)||0,e.height=parseInt(A.height,10)||0,e.backgroundColor=e.styles.backgroundColor;try{if(A.contentWindow&&A.contentWindow.document&&A.contentWindow.document.documentElement){e.tree=iB(A.contentWindow.document.documentElement);var t=A.contentWindow.document.documentElement?AB(getComputedStyle(A.contentWindow.document.documentElement).backgroundColor):He.TRANSPARENT,r=A.contentWindow.document.body?AB(getComputedStyle(A.contentWindow.document.body).backgroundColor):He.TRANSPARENT;e.backgroundColor=ee(t)?ee(r)?e.styles.backgroundColor:r:t}}catch(A){}return e}function nB(A){return\"STYLE\"===A.tagName}var BB=[\"OL\",\"UL\",\"MENU\"],sB=function(A,e,t){for(var r=A.firstChild,n=void 0;r;r=n)if(n=r.nextSibling,QB(r)&&0<r.data.trim().length)e.textNodes.push(new Hn(r,e.styles));else if(wB(r)){var B=oB(r);B.styles.isVisible()&&(aB(r,B,t)?B.flags|=4:cB(B.styles)&&(B.flags|=2),-1!==BB.indexOf(r.tagName)&&(B.flags|=8),e.elements.push(B),dB(r)||gB(r)||fB(r)||sB(r,B,t))}},oB=function(A){return hB(A)?new Nn(A):FB(A)?new Tn(A):gB(A)?new Ln(A):UB(A)?new Dn(A):lB(A)?new Mn(A):CB(A)?new Gn(A):fB(A)?new Yn(A):dB(A)?new jn(A):HB(A)?new tB(A):new ln(A)},iB=function(A){var e=oB(A);return e.flags|=4,sB(A,e,e),e},aB=function(A,e,t){return e.styles.isPositionedWithZIndex()||e.styles.opacity<1||e.styles.isTransformed()||EB(A)&&t.styles.isTransparent()},cB=function(A){return A.isPositioned()||A.isFloating()},QB=function(A){return A.nodeType===Node.TEXT_NODE},wB=function(A){return A.nodeType===Node.ELEMENT_NODE},uB=function(A){return void 0!==A.style},UB=function(A){return\"LI\"===A.tagName},lB=function(A){return\"OL\"===A.tagName},CB=function(A){return\"INPUT\"===A.tagName},gB=function(A){return\"svg\"===A.tagName},EB=function(A){return\"BODY\"===A.tagName},FB=function(A){return\"CANVAS\"===A.tagName},hB=function(A){return\"IMG\"===A.tagName},HB=function(A){return\"IFRAME\"===A.tagName},dB=function(A){return\"TEXTAREA\"===A.tagName},fB=function(A){return\"SELECT\"===A.tagName},pB=(NB.prototype.getCounterValue=function(A){var e=this.counters[A];return e&&e.length?e[e.length-1]:1},NB.prototype.getCounterValues=function(A){var e=this.counters[A];return e||[]},NB.prototype.pop=function(A){var e=this;A.forEach(function(A){return e.counters[A].pop()})},NB.prototype.parse=function(A){var t=this,e=A.counterIncrement,r=A.counterReset,n=!0;null!==e&&e.forEach(function(A){var e=t.counters[A.counter];e&&0!==A.increment&&(n=!1,e[Math.max(0,e.length-1)]+=A.increment)});var B=[];return n&&r.forEach(function(A){var e=t.counters[A.counter];B.push(A.counter),e||(e=t.counters[A.counter]=[]),e.push(A.reset)}),B},NB);function NB(){this.counters={}}function KB(r,A,e,n,t,B){return r<A||e<r?yB(r,t,0<B.length):n.integers.reduce(function(A,e,t){for(;e<=r;)r-=e,A+=n.values[t];return A},\"\")+B}function IB(A,e,t,r){for(var n=\"\";t||A--,n=r(A)+n,e<=(A/=e)*e;);return n}function TB(A,e,t,r,n){var B=t-e+1;return(A<0?\"-\":\"\")+(IB(Math.abs(A),B,r,function(A){return l(Math.floor(A%B)+e)})+n)}function mB(A,e,t){void 0===t&&(t=\". \");var r=e.length;return IB(Math.abs(A),r,!1,function(A){return e[Math.floor(A%r)]})+t}function RB(A,e,t,r,n,B){if(A<-9999||9999<A)return yB(A,tr.CJK_DECIMAL,0<n.length);var s=Math.abs(A),o=n;if(0===s)return e[0]+o;for(var i=0;0<s&&i<=4;i++){var a=s%10;0==a&&An(B,1)&&\"\"!==o?o=e[a]+o:1<a||1==a&&0===i||1==a&&1===i&&An(B,2)||1==a&&1===i&&An(B,4)&&100<A||1==a&&1<i&&An(B,8)?o=e[a]+(0<i?t[i-1]:\"\")+o:1==a&&0<i&&(o=t[i-1]+o),s=Math.floor(s/10)}return(A<0?r:\"\")+o}var LB,vB,OB={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:[\"M\",\"CM\",\"D\",\"CD\",\"C\",\"XC\",\"L\",\"XL\",\"X\",\"IX\",\"V\",\"IV\",\"I\"]},DB={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:[\"\u0554\",\"\u0553\",\"\u0552\",\"\u0551\",\"\u0550\",\"\u054f\",\"\u054e\",\"\u054d\",\"\u054c\",\"\u054b\",\"\u054a\",\"\u0549\",\"\u0548\",\"\u0547\",\"\u0546\",\"\u0545\",\"\u0544\",\"\u0543\",\"\u0542\",\"\u0541\",\"\u0540\",\"\u053f\",\"\u053e\",\"\u053d\",\"\u053c\",\"\u053b\",\"\u053a\",\"\u0539\",\"\u0538\",\"\u0537\",\"\u0536\",\"\u0535\",\"\u0534\",\"\u0533\",\"\u0532\",\"\u0531\"]},bB={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:[\"\u05d9\u05f3\",\"\u05d8\u05f3\",\"\u05d7\u05f3\",\"\u05d6\u05f3\",\"\u05d5\u05f3\",\"\u05d4\u05f3\",\"\u05d3\u05f3\",\"\u05d2\u05f3\",\"\u05d1\u05f3\",\"\u05d0\u05f3\",\"\u05ea\",\"\u05e9\",\"\u05e8\",\"\u05e7\",\"\u05e6\",\"\u05e4\",\"\u05e2\",\"\u05e1\",\"\u05e0\",\"\u05de\",\"\u05dc\",\"\u05db\",\"\u05d9\u05d8\",\"\u05d9\u05d7\",\"\u05d9\u05d6\",\"\u05d8\u05d6\",\"\u05d8\u05d5\",\"\u05d9\",\"\u05d8\",\"\u05d7\",\"\u05d6\",\"\u05d5\",\"\u05d4\",\"\u05d3\",\"\u05d2\",\"\u05d1\",\"\u05d0\"]},SB={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:[\"\u10f5\",\"\u10f0\",\"\u10ef\",\"\u10f4\",\"\u10ee\",\"\u10ed\",\"\u10ec\",\"\u10eb\",\"\u10ea\",\"\u10e9\",\"\u10e8\",\"\u10e7\",\"\u10e6\",\"\u10e5\",\"\u10e4\",\"\u10f3\",\"\u10e2\",\"\u10e1\",\"\u10e0\",\"\u10df\",\"\u10de\",\"\u10dd\",\"\u10f2\",\"\u10dc\",\"\u10db\",\"\u10da\",\"\u10d9\",\"\u10d8\",\"\u10d7\",\"\u10f1\",\"\u10d6\",\"\u10d5\",\"\u10d4\",\"\u10d3\",\"\u10d2\",\"\u10d1\",\"\u10d0\"]},MB=\"\ub9c8\uc774\ub108\uc2a4\",yB=function(A,e,t){var r=t?\". \":\"\",n=t?\"\u3001\":\"\",B=t?\", \":\"\",s=t?\" \":\"\";switch(e){case tr.DISC:return\"\u2022\"+s;case tr.CIRCLE:return\"\u25e6\"+s;case tr.SQUARE:return\"\u25fe\"+s;case tr.DECIMAL_LEADING_ZERO:var o=TB(A,48,57,!0,r);return o.length<4?\"0\"+o:o;case tr.CJK_DECIMAL:return mB(A,\"\u3007\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d\",n);case tr.LOWER_ROMAN:return KB(A,1,3999,OB,tr.DECIMAL,r).toLowerCase();case tr.UPPER_ROMAN:return KB(A,1,3999,OB,tr.DECIMAL,r);case tr.LOWER_GREEK:return TB(A,945,969,!1,r);case tr.LOWER_ALPHA:return TB(A,97,122,!1,r);case tr.UPPER_ALPHA:return TB(A,65,90,!1,r);case tr.ARABIC_INDIC:return TB(A,1632,1641,!0,r);case tr.ARMENIAN:case tr.UPPER_ARMENIAN:return KB(A,1,9999,DB,tr.DECIMAL,r);case tr.LOWER_ARMENIAN:return KB(A,1,9999,DB,tr.DECIMAL,r).toLowerCase();case tr.BENGALI:return TB(A,2534,2543,!0,r);case tr.CAMBODIAN:case tr.KHMER:return TB(A,6112,6121,!0,r);case tr.CJK_EARTHLY_BRANCH:return mB(A,\"\u5b50\u4e11\u5bc5\u536f\u8fb0\u5df3\u5348\u672a\u7533\u9149\u620c\u4ea5\",n);case tr.CJK_HEAVENLY_STEM:return mB(A,\"\u7532\u4e59\u4e19\u4e01\u620a\u5df1\u5e9a\u8f9b\u58ec\u7678\",n);case tr.CJK_IDEOGRAPHIC:case tr.TRAD_CHINESE_INFORMAL:return RB(A,\"\u96f6\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d\",\"\u5341\u767e\u5343\u842c\",\"\u8ca0\",n,14);case tr.TRAD_CHINESE_FORMAL:return RB(A,\"\u96f6\u58f9\u8cb3\u53c3\u8086\u4f0d\u9678\u67d2\u634c\u7396\",\"\u62fe\u4f70\u4edf\u842c\",\"\u8ca0\",n,15);case tr.SIMP_CHINESE_INFORMAL:return RB(A,\"\u96f6\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d\",\"\u5341\u767e\u5343\u842c\",\"\u8d1f\",n,14);case tr.SIMP_CHINESE_FORMAL:return RB(A,\"\u96f6\u58f9\u8d30\u53c1\u8086\u4f0d\u9646\u67d2\u634c\u7396\",\"\u62fe\u4f70\u4edf\u842c\",\"\u8d1f\",n,15);case tr.JAPANESE_INFORMAL:return RB(A,\"\u3007\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d\",\"\u5341\u767e\u5343\u4e07\",\"\u30de\u30a4\u30ca\u30b9\",n,0);case tr.JAPANESE_FORMAL:return RB(A,\"\u96f6\u58f1\u5f10\u53c2\u56db\u4f0d\u516d\u4e03\u516b\u4e5d\",\"\u62fe\u767e\u5343\u4e07\",\"\u30de\u30a4\u30ca\u30b9\",n,7);case tr.KOREAN_HANGUL_FORMAL:return RB(A,\"\uc601\uc77c\uc774\uc0bc\uc0ac\uc624\uc721\uce60\ud314\uad6c\",\"\uc2ed\ubc31\ucc9c\ub9cc\",MB,B,7);case tr.KOREAN_HANJA_INFORMAL:return RB(A,\"\u96f6\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d\",\"\u5341\u767e\u5343\u842c\",MB,B,0);case tr.KOREAN_HANJA_FORMAL:return RB(A,\"\u96f6\u58f9\u8cb3\u53c3\u56db\u4e94\u516d\u4e03\u516b\u4e5d\",\"\u62fe\u767e\u5343\",MB,B,7);case tr.DEVANAGARI:return TB(A,2406,2415,!0,r);case tr.GEORGIAN:return KB(A,1,19999,SB,tr.DECIMAL,r);case tr.GUJARATI:return TB(A,2790,2799,!0,r);case tr.GURMUKHI:return TB(A,2662,2671,!0,r);case tr.HEBREW:return KB(A,1,10999,bB,tr.DECIMAL,r);case tr.HIRAGANA:return mB(A,\"\u3042\u3044\u3046\u3048\u304a\u304b\u304d\u304f\u3051\u3053\u3055\u3057\u3059\u305b\u305d\u305f\u3061\u3064\u3066\u3068\u306a\u306b\u306c\u306d\u306e\u306f\u3072\u3075\u3078\u307b\u307e\u307f\u3080\u3081\u3082\u3084\u3086\u3088\u3089\u308a\u308b\u308c\u308d\u308f\u3090\u3091\u3092\u3093\");case tr.HIRAGANA_IROHA:return mB(A,\"\u3044\u308d\u306f\u306b\u307b\u3078\u3068\u3061\u308a\u306c\u308b\u3092\u308f\u304b\u3088\u305f\u308c\u305d\u3064\u306d\u306a\u3089\u3080\u3046\u3090\u306e\u304a\u304f\u3084\u307e\u3051\u3075\u3053\u3048\u3066\u3042\u3055\u304d\u3086\u3081\u307f\u3057\u3091\u3072\u3082\u305b\u3059\");case tr.KANNADA:return TB(A,3302,3311,!0,r);case tr.KATAKANA:return mB(A,\"\u30a2\u30a4\u30a6\u30a8\u30aa\u30ab\u30ad\u30af\u30b1\u30b3\u30b5\u30b7\u30b9\u30bb\u30bd\u30bf\u30c1\u30c4\u30c6\u30c8\u30ca\u30cb\u30cc\u30cd\u30ce\u30cf\u30d2\u30d5\u30d8\u30db\u30de\u30df\u30e0\u30e1\u30e2\u30e4\u30e6\u30e8\u30e9\u30ea\u30eb\u30ec\u30ed\u30ef\u30f0\u30f1\u30f2\u30f3\",n);case tr.KATAKANA_IROHA:return mB(A,\"\u30a4\u30ed\u30cf\u30cb\u30db\u30d8\u30c8\u30c1\u30ea\u30cc\u30eb\u30f2\u30ef\u30ab\u30e8\u30bf\u30ec\u30bd\u30c4\u30cd\u30ca\u30e9\u30e0\u30a6\u30f0\u30ce\u30aa\u30af\u30e4\u30de\u30b1\u30d5\u30b3\u30a8\u30c6\u30a2\u30b5\u30ad\u30e6\u30e1\u30df\u30b7\u30f1\u30d2\u30e2\u30bb\u30b9\",n);case tr.LAO:return TB(A,3792,3801,!0,r);case tr.MONGOLIAN:return TB(A,6160,6169,!0,r);case tr.MYANMAR:return TB(A,4160,4169,!0,r);case tr.ORIYA:return TB(A,2918,2927,!0,r);case tr.PERSIAN:return TB(A,1776,1785,!0,r);case tr.TAMIL:return TB(A,3046,3055,!0,r);case tr.TELUGU:return TB(A,3174,3183,!0,r);case tr.THAI:return TB(A,3664,3673,!0,r);case tr.TIBETAN:return TB(A,3872,3881,!0,r);case tr.DECIMAL:default:return TB(A,48,57,!0,r)}},_B=\"data-html2canvas-ignore\",PB=(xB.prototype.toIFrame=function(A,t){var e=this,r=XB(A,t);if(!r.contentWindow)return Promise.reject(\"Unable to find iframe window\");var n=A.defaultView.pageXOffset,B=A.defaultView.pageYOffset,s=r.contentWindow,o=s.document,i=JB(r).then(function(){return a(e,void 0,void 0,function(){var e;return S(this,function(A){switch(A.label){case 0:return this.scrolledElements.forEach(YB),s&&(s.scrollTo(t.left,t.top),!/(iPad|iPhone|iPod)/g.test(navigator.userAgent)||s.scrollY===t.top&&s.scrollX===t.left||(o.documentElement.style.top=-t.top+\"px\",o.documentElement.style.left=-t.left+\"px\",o.documentElement.style.position=\"absolute\")),e=this.options.onclone,void 0===this.clonedReferenceElement?[2,Promise.reject(\"Error finding the \"+this.referenceElement.nodeName+\" in the cloned document\")]:o.fonts&&o.fonts.ready?[4,o.fonts.ready]:[3,2];case 1:A.sent(),A.label=2;case 2:return\"function\"==typeof e?[2,Promise.resolve().then(function(){return e(o)}).then(function(){return r})]:[2,r]}})})});return o.open(),o.write(kB(document.doctype)+\"<html></html>\"),WB(this.referenceElement.ownerDocument,n,B),o.replaceChild(o.adoptNode(this.documentElement),o.documentElement),o.close(),i},xB.prototype.createElementClone=function(A){return FB(A)?this.createCanvasClone(A):nB(A)?this.createStyleClone(A):A.cloneNode(!1)},xB.prototype.createStyleClone=function(A){try{var e=A.sheet;if(e&&e.cssRules){var t=[].slice.call(e.cssRules,0).reduce(function(A,e){return e&&\"string\"==typeof e.cssText?A+e.cssText:A},\"\"),r=A.cloneNode(!1);return r.textContent=t,r}}catch(A){if(De.getInstance(this.options.id).error(\"Unable to access cssRules property\",A),\"SecurityError\"!==A.name)throw A}return A.cloneNode(!1)},xB.prototype.createCanvasClone=function(A){if(this.options.inlineImages&&A.ownerDocument){var e=A.ownerDocument.createElement(\"img\");try{return e.src=A.toDataURL(),e}catch(A){De.getInstance(this.options.id).info(\"Unable to clone canvas contents, canvas is tainted\")}}var t=A.cloneNode(!1);try{t.width=A.width,t.height=A.height;var r=A.getContext(\"2d\"),n=t.getContext(\"2d\");return n&&(r?n.putImageData(r.getImageData(0,0,A.width,A.height),0,0):n.drawImage(A,0,0)),t}catch(A){}return t},xB.prototype.cloneNode=function(A){if(QB(A))return document.createTextNode(A.data);if(!A.ownerDocument)return A.cloneNode(!1);var e=A.ownerDocument.defaultView;if(uB(A)&&e){var t=this.createElementClone(A),r=e.getComputedStyle(A),n=e.getComputedStyle(A,\":before\"),B=e.getComputedStyle(A,\":after\");this.referenceElement===A&&(this.clonedReferenceElement=t),EB(t)&&$B(t);for(var s=this.counters.parse(new un(r)),o=this.resolvePseudoContent(A,t,n,LB.BEFORE),i=A.firstChild;i;i=i.nextSibling)wB(i)&&(\"SCRIPT\"===i.tagName||i.hasAttribute(_B)||\"function\"==typeof this.options.ignoreElements&&this.options.ignoreElements(i))||this.options.copyStyles&&wB(i)&&nB(i)||t.appendChild(this.cloneNode(i));o&&t.insertBefore(o,t.firstChild);var a=this.resolvePseudoContent(A,t,B,LB.AFTER);return a&&t.appendChild(a),this.counters.pop(s),r&&this.options.copyStyles&&!HB(A)&&GB(r,t),0===A.scrollTop&&0===A.scrollLeft||this.scrolledElements.push([t,A.scrollLeft,A.scrollTop]),(dB(A)||fB(A))&&(dB(t)||fB(t))&&(t.value=A.value),t}return A.cloneNode(!1)},xB.prototype.resolvePseudoContent=function(U,A,e,t){var l=this;if(e){var r=e.content,C=A.ownerDocument;if(C&&r&&\"none\"!==r&&\"-moz-alt-content\"!==r&&\"none\"!==e.display){this.counters.parse(new un(e));var g=new wn(e),E=C.createElement(\"html2canvaspseudoelement\");GB(e,E),g.content.forEach(function(A){if(A.type===sA.STRING_TOKEN)E.appendChild(C.createTextNode(A.value));else if(A.type===sA.URL_TOKEN){var e=C.createElement(\"img\");e.src=A.value,e.style.opacity=\"1\",E.appendChild(e)}else if(A.type===sA.FUNCTION){if(\"attr\"===A.name){var t=A.values.filter(zA);t.length&&E.appendChild(C.createTextNode(U.getAttribute(t[0].value)||\"\"))}else if(\"counter\"===A.name){var r=A.values.filter(kA),n=r[0],B=r[1];if(n&&zA(n)){var s=l.counters.getCounterValue(n.value),o=B&&zA(B)?ir.parse(B.value):tr.DECIMAL;E.appendChild(C.createTextNode(yB(s,o,!1)))}}else if(\"counters\"===A.name){var i=A.values.filter(kA),a=(n=i[0],i[1]);if(B=i[2],n&&zA(n)){var c=l.counters.getCounterValues(n.value),Q=B&&zA(B)?ir.parse(B.value):tr.DECIMAL,w=a&&a.type===sA.STRING_TOKEN?a.value:\"\",u=c.map(function(A){return yB(A,Q,!1)}).join(w);E.appendChild(C.createTextNode(u))}}}else if(A.type===sA.IDENT_TOKEN)switch(A.value){case\"open-quote\":E.appendChild(C.createTextNode(en(g.quotes,l.quoteDepth++,!0)));break;case\"close-quote\":E.appendChild(C.createTextNode(en(g.quotes,--l.quoteDepth,!1)));break;default:E.appendChild(C.createTextNode(A.value))}}),E.className=qB+\" \"+ZB;var n=t===LB.BEFORE?\" \"+qB:\" \"+ZB;return function(A){return\"object\"==typeof A.className}(A)?A.className.baseValue+=n:A.className+=n,E}}},xB.destroy=function(A){return!!A.parentNode&&(A.parentNode.removeChild(A),!0)},xB);function xB(A,e){if(this.options=e,this.scrolledElements=[],this.referenceElement=A,this.counters=new pB,this.quoteDepth=0,!A.ownerDocument)throw new Error(\"Cloned element does not have an owner document\");this.documentElement=this.cloneNode(A.ownerDocument.documentElement)}(vB=LB||(LB={}))[vB.BEFORE=0]=\"BEFORE\",vB[vB.AFTER=1]=\"AFTER\";var VB,zB,XB=function(A,e){var t=A.createElement(\"iframe\");return t.className=\"html2canvas-container\",t.style.visibility=\"hidden\",t.style.position=\"fixed\",t.style.left=\"-10000px\",t.style.top=\"0px\",t.style.border=\"0\",t.width=e.width.toString(),t.height=e.height.toString(),t.scrolling=\"no\",t.setAttribute(_B,\"true\"),A.body.appendChild(t),t},JB=function(n){return new Promise(function(e,A){var t=n.contentWindow;if(!t)return A(\"No window assigned for iframe\");var r=t.document;t.onload=n.onload=r.onreadystatechange=function(){t.onload=n.onload=r.onreadystatechange=null;var A=setInterval(function(){0<r.body.childNodes.length&&\"complete\"===r.readyState&&(clearInterval(A),e(n))},50)}})},GB=function(A,e){for(var t=A.length-1;0<=t;t--){var r=A.item(t);\"content\"!==r&&e.style.setProperty(r,A.getPropertyValue(r))}return e},kB=function(A){var e=\"\";return A&&(e+=\"<!DOCTYPE \",A.name&&(e+=A.name),A.internalSubset&&(e+=A.internalSubset),A.publicId&&(e+='\"'+A.publicId+'\"'),A.systemId&&(e+='\"'+A.systemId+'\"'),e+=\">\"),e},WB=function(A,e,t){A&&A.defaultView&&(e!==A.defaultView.pageXOffset||t!==A.defaultView.pageYOffset)&&A.defaultView.scrollTo(e,t)},YB=function(A){var e=A[0],t=A[1],r=A[2];e.scrollLeft=t,e.scrollTop=r},qB=\"___html2canvas___pseudoelement_before\",ZB=\"___html2canvas___pseudoelement_after\",jB='{\\n    content: \"\" !important;\\n    display: none !important;\\n}',$B=function(A){As(A,\".\"+qB+\":before\"+jB+\"\\n         .\"+ZB+\":after\"+jB)},As=function(A,e){var t=A.ownerDocument;if(t){var r=t.createElement(\"style\");r.textContent=e,A.appendChild(r)}};(zB=VB||(VB={}))[zB.VECTOR=0]=\"VECTOR\",zB[zB.BEZIER_CURVE=1]=\"BEZIER_CURVE\";function es(A,t){return A.length===t.length&&A.some(function(A,e){return A===t[e]})}var ts=(rs.prototype.add=function(A,e){return new rs(this.x+A,this.y+e)},rs);function rs(A,e){this.type=VB.VECTOR,this.x=A,this.y=e}function ns(A,e,t){return new ts(A.x+(e.x-A.x)*t,A.y+(e.y-A.y)*t)}var Bs=(ss.prototype.subdivide=function(A,e){var t=ns(this.start,this.startControl,A),r=ns(this.startControl,this.endControl,A),n=ns(this.endControl,this.end,A),B=ns(t,r,A),s=ns(r,n,A),o=ns(B,s,A);return e?new ss(this.start,t,B,o):new ss(o,s,n,this.end)},ss.prototype.add=function(A,e){return new ss(this.start.add(A,e),this.startControl.add(A,e),this.endControl.add(A,e),this.end.add(A,e))},ss.prototype.reverse=function(){return new ss(this.end,this.endControl,this.startControl,this.start)},ss);function ss(A,e,t,r){this.type=VB.BEZIER_CURVE,this.start=A,this.startControl=e,this.endControl=t,this.end=r}function os(A){return A.type===VB.BEZIER_CURVE}var is,as,cs=function(A){var e=A.styles,t=A.bounds,r=jA(e.borderTopLeftRadius,t.width,t.height),n=r[0],B=r[1],s=jA(e.borderTopRightRadius,t.width,t.height),o=s[0],i=s[1],a=jA(e.borderBottomRightRadius,t.width,t.height),c=a[0],Q=a[1],w=jA(e.borderBottomLeftRadius,t.width,t.height),u=w[0],U=w[1],l=[];l.push((n+o)/t.width),l.push((u+c)/t.width),l.push((B+U)/t.height),l.push((i+Q)/t.height);var C=Math.max.apply(Math,l);1<C&&(n/=C,B/=C,o/=C,i/=C,c/=C,Q/=C,u/=C,U/=C);var g=t.width-o,E=t.height-Q,F=t.width-c,h=t.height-U,H=e.borderTopWidth,d=e.borderRightWidth,f=e.borderBottomWidth,p=e.borderLeftWidth,N=ae(e.paddingTop,A.bounds.width),K=ae(e.paddingRight,A.bounds.width),I=ae(e.paddingBottom,A.bounds.width),T=ae(e.paddingLeft,A.bounds.width);this.topLeftBorderBox=0<n||0<B?us(t.left,t.top,n,B,is.TOP_LEFT):new ts(t.left,t.top),this.topRightBorderBox=0<o||0<i?us(t.left+g,t.top,o,i,is.TOP_RIGHT):new ts(t.left+t.width,t.top),this.bottomRightBorderBox=0<c||0<Q?us(t.left+F,t.top+E,c,Q,is.BOTTOM_RIGHT):new ts(t.left+t.width,t.top+t.height),this.bottomLeftBorderBox=0<u||0<U?us(t.left,t.top+h,u,U,is.BOTTOM_LEFT):new ts(t.left,t.top+t.height),this.topLeftPaddingBox=0<n||0<B?us(t.left+p,t.top+H,Math.max(0,n-p),Math.max(0,B-H),is.TOP_LEFT):new ts(t.left+p,t.top+H),this.topRightPaddingBox=0<o||0<i?us(t.left+Math.min(g,t.width+p),t.top+H,g>t.width+p?0:o-p,i-H,is.TOP_RIGHT):new ts(t.left+t.width-d,t.top+H),this.bottomRightPaddingBox=0<c||0<Q?us(t.left+Math.min(F,t.width-p),t.top+Math.min(E,t.height+H),Math.max(0,c-d),Q-f,is.BOTTOM_RIGHT):new ts(t.left+t.width-d,t.top+t.height-f),this.bottomLeftPaddingBox=0<u||0<U?us(t.left+p,t.top+h,Math.max(0,u-p),U-f,is.BOTTOM_LEFT):new ts(t.left+p,t.top+t.height-f),this.topLeftContentBox=0<n||0<B?us(t.left+p+T,t.top+H+N,Math.max(0,n-(p+T)),Math.max(0,B-(H+N)),is.TOP_LEFT):new ts(t.left+p+T,t.top+H+N),this.topRightContentBox=0<o||0<i?us(t.left+Math.min(g,t.width+p+T),t.top+H+N,g>t.width+p+T?0:o-p+T,i-(H+N),is.TOP_RIGHT):new ts(t.left+t.width-(d+K),t.top+H+N),this.bottomRightContentBox=0<c||0<Q?us(t.left+Math.min(F,t.width-(p+T)),t.top+Math.min(E,t.height+H+N),Math.max(0,c-(d+K)),Q-(f+I),is.BOTTOM_RIGHT):new ts(t.left+t.width-(d+K),t.top+t.height-(f+I)),this.bottomLeftContentBox=0<u||0<U?us(t.left+p+T,t.top+h,Math.max(0,u-(p+T)),U-(f+I),is.BOTTOM_LEFT):new ts(t.left+p+T,t.top+t.height-(f+I))};(as=is||(is={}))[as.TOP_LEFT=0]=\"TOP_LEFT\",as[as.TOP_RIGHT=1]=\"TOP_RIGHT\",as[as.BOTTOM_RIGHT=2]=\"BOTTOM_RIGHT\",as[as.BOTTOM_LEFT=3]=\"BOTTOM_LEFT\";function Qs(A){return[A.topLeftBorderBox,A.topRightBorderBox,A.bottomRightBorderBox,A.bottomLeftBorderBox]}function ws(A){return[A.topLeftPaddingBox,A.topRightPaddingBox,A.bottomRightPaddingBox,A.bottomLeftPaddingBox]}var us=function(A,e,t,r,n){var B=(Math.sqrt(2)-1)/3*4,s=t*B,o=r*B,i=A+t,a=e+r;switch(n){case is.TOP_LEFT:return new Bs(new ts(A,a),new ts(A,a-o),new ts(i-s,e),new ts(i,e));case is.TOP_RIGHT:return new Bs(new ts(A,e),new ts(A+s,e),new ts(i,a-o),new ts(i,a));case is.BOTTOM_RIGHT:return new Bs(new ts(i,e),new ts(i,e+o),new ts(A+s,a),new ts(A,a));case is.BOTTOM_LEFT:default:return new Bs(new ts(i,a),new ts(i-s,a),new ts(A,e+o),new ts(A,e))}},Us=function(A,e,t){this.type=0,this.offsetX=A,this.offsetY=e,this.matrix=t,this.target=6},ls=function(A,e){this.type=1,this.target=e,this.path=A},Cs=function(A){this.element=A,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]},gs=(Es.prototype.getParentEffects=function(){var A=this.effects.slice(0);if(this.container.styles.overflowX!==sr.VISIBLE){var e=Qs(this.curves),t=ws(this.curves);es(e,t)||A.push(new ls(t,6))}return A},Es);function Es(A,e){if(this.container=A,this.effects=e.slice(0),this.curves=new cs(A),null!==A.styles.transform){var t=A.bounds.left+A.styles.transformOrigin[0].number,r=A.bounds.top+A.styles.transformOrigin[1].number,n=A.styles.transform;this.effects.push(new Us(t,r,n))}if(A.styles.overflowX!==sr.VISIBLE){var B=Qs(this.curves),s=ws(this.curves);es(B,s)?this.effects.push(new ls(B,6)):(this.effects.push(new ls(B,2)),this.effects.push(new ls(s,4)))}}function Fs(A){var e=A.bounds,t=A.styles;return e.add(t.borderLeftWidth,t.borderTopWidth,-(t.borderRightWidth+t.borderLeftWidth),-(t.borderTopWidth+t.borderBottomWidth))}function hs(A){var e=A.styles,t=A.bounds,r=ae(e.paddingLeft,t.width),n=ae(e.paddingRight,t.width),B=ae(e.paddingTop,t.width),s=ae(e.paddingBottom,t.width);return t.add(r+e.borderLeftWidth,B+e.borderTopWidth,-(e.borderRightWidth+e.borderLeftWidth+r+n),-(e.borderTopWidth+e.borderBottomWidth+B+s))}function Hs(A,e,t){var r=function(A,e){return 0===A?e.bounds:2===A?hs(e):Fs(e)}(Ts(A.styles.backgroundOrigin,e),A),n=function(A,e){return A===Ee.BORDER_BOX?e.bounds:A===Ee.CONTENT_BOX?hs(e):Fs(e)}(Ts(A.styles.backgroundClip,e),A),B=Is(Ts(A.styles.backgroundSize,e),t,r),s=B[0],o=B[1],i=jA(Ts(A.styles.backgroundPosition,e),r.width-s,r.height-o);return[ms(Ts(A.styles.backgroundRepeat,e),i,B,r,n),Math.round(r.left+i[0]),Math.round(r.top+i[1]),s,o]}function ds(A){return zA(A)&&A.value===Ut.AUTO}function fs(A){return\"number\"==typeof A}var ps=function(c,Q,w,u){c.container.elements.forEach(function(A){var e=An(A.flags,4),t=An(A.flags,2),r=new gs(A,c.getParentEffects());An(A.styles.display,2048)&&u.push(r);var n=An(A.flags,8)?[]:u;if(e||t){var B=e||A.styles.isPositioned()?w:Q,s=new Cs(r);if(A.styles.isPositioned()||A.styles.opacity<1||A.styles.isTransformed()){var o=A.styles.zIndex.order;if(o<0){var i=0;B.negativeZIndex.some(function(A,e){return o>A.element.container.styles.zIndex.order?(i=e,!1):0<i}),B.negativeZIndex.splice(i,0,s)}else if(0<o){var a=0;B.positiveZIndex.some(function(A,e){return o>A.element.container.styles.zIndex.order?(a=e+1,!1):0<a}),B.positiveZIndex.splice(a,0,s)}else B.zeroOrAutoZIndexOrTransformedOrOpacity.push(s)}else A.styles.isFloating()?B.nonPositionedFloats.push(s):B.nonPositionedInlineLevel.push(s);ps(r,s,e?s:w,n)}else A.styles.isInlineLevel()?Q.inlineLevel.push(r):Q.nonInlineLevel.push(r),ps(r,Q,w,n);An(A.flags,8)&&Ns(A,n)})},Ns=function(A,e){for(var t=A instanceof Mn?A.start:1,r=A instanceof Mn&&A.reversed,n=0;n<e.length;n++){var B=e[n];B.container instanceof Dn&&\"number\"==typeof B.container.value&&0!==B.container.value&&(t=B.container.value),B.listValue=yB(t,B.container.styles.listStyleType,!0),t+=r?-1:1}},Ks=function(A,e,t,r){var n=[];return os(A)?n.push(A.subdivide(.5,!1)):n.push(A),os(t)?n.push(t.subdivide(.5,!0)):n.push(t),os(r)?n.push(r.subdivide(.5,!0).reverse()):n.push(r),os(e)?n.push(e.subdivide(.5,!1).reverse()):n.push(e),n},Is=function(A,e,t){var r=e[0],n=e[1],B=e[2],s=A[0],o=A[1];if(qA(s)&&o&&qA(o))return[ae(s,t.width),ae(o,t.height)];var i=fs(B);if(zA(s)&&(s.value===Ut.CONTAIN||s.value===Ut.COVER))return fs(B)?t.width/t.height<B!=(s.value===Ut.COVER)?[t.width,t.width/B]:[t.height*B,t.height]:[t.width,t.height];var a=fs(r),c=fs(n),Q=a||c;if(ds(s)&&(!o||ds(o)))return a&&c?[r,n]:i||Q?Q&&i?[a?r:n*B,c?n:r/B]:[a?r:t.width,c?n:t.height]:[t.width,t.height];if(i){var w=0,u=0;return qA(s)?w=ae(s,t.width):qA(o)&&(u=ae(o,t.height)),ds(s)?w=u*B:o&&!ds(o)||(u=w/B),[w,u]}var U=null,l=null;if(qA(s)?U=ae(s,t.width):o&&qA(o)&&(l=ae(o,t.height)),null===U||o&&!ds(o)||(l=a&&c?U/r*n:t.height),null!==l&&ds(s)&&(U=a&&c?l/n*r:t.width),null!==U&&null!==l)return[U,l];throw new Error(\"Unable to calculate background-size for element\")},Ts=function(A,e){var t=A[e];return void 0===t?A[0]:t},ms=function(A,e,t,r,n){var B=e[0],s=e[1],o=t[0],i=t[1];switch(A){case it.REPEAT_X:return[new ts(Math.round(r.left),Math.round(r.top+s)),new ts(Math.round(r.left+r.width),Math.round(r.top+s)),new ts(Math.round(r.left+r.width),Math.round(i+r.top+s)),new ts(Math.round(r.left),Math.round(i+r.top+s))];case it.REPEAT_Y:return[new ts(Math.round(r.left+B),Math.round(r.top)),new ts(Math.round(r.left+B+o),Math.round(r.top)),new ts(Math.round(r.left+B+o),Math.round(r.height+r.top)),new ts(Math.round(r.left+B),Math.round(r.height+r.top))];case it.NO_REPEAT:return[new ts(Math.round(r.left+B),Math.round(r.top+s)),new ts(Math.round(r.left+B+o),Math.round(r.top+s)),new ts(Math.round(r.left+B+o),Math.round(r.top+s+i)),new ts(Math.round(r.left+B),Math.round(r.top+s+i))];default:return[new ts(Math.round(n.left),Math.round(n.top)),new ts(Math.round(n.left+n.width),Math.round(n.top)),new ts(Math.round(n.left+n.width),Math.round(n.height+n.top)),new ts(Math.round(n.left),Math.round(n.height+n.top))]}},Rs=\"Hidden Text\",Ls=(vs.prototype.parseMetrics=function(A,e){var t=this._document.createElement(\"div\"),r=this._document.createElement(\"img\"),n=this._document.createElement(\"span\"),B=this._document.body;t.style.visibility=\"hidden\",t.style.fontFamily=A,t.style.fontSize=e,t.style.margin=\"0\",t.style.padding=\"0\",B.appendChild(t),r.src=\"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7\",r.width=1,r.height=1,r.style.margin=\"0\",r.style.padding=\"0\",r.style.verticalAlign=\"baseline\",n.style.fontFamily=A,n.style.fontSize=e,n.style.margin=\"0\",n.style.padding=\"0\",n.appendChild(this._document.createTextNode(Rs)),t.appendChild(n),t.appendChild(r);var s=r.offsetTop-n.offsetTop+2;t.removeChild(n),t.appendChild(this._document.createTextNode(Rs)),t.style.lineHeight=\"normal\",r.style.verticalAlign=\"super\";var o=r.offsetTop-t.offsetTop+2;return B.removeChild(t),{baseline:s,middle:o}},vs.prototype.getMetrics=function(A,e){var t=A+\" \"+e;return void 0===this._data[t]&&(this._data[t]=this.parseMetrics(A,e)),this._data[t]},vs);function vs(A){this._data={},this._document=A}var Os=(Ds.prototype.applyEffects=function(A,e){for(var t=this;this._activeEffects.length;)this.popEffect();A.filter(function(A){return An(A.target,e)}).forEach(function(A){return t.applyEffect(A)})},Ds.prototype.applyEffect=function(A){this.ctx.save(),function(A){return 0===A.type}(A)&&(this.ctx.translate(A.offsetX,A.offsetY),this.ctx.transform(A.matrix[0],A.matrix[1],A.matrix[2],A.matrix[3],A.matrix[4],A.matrix[5]),this.ctx.translate(-A.offsetX,-A.offsetY)),function(A){return 1===A.type}(A)&&(this.path(A.path),this.ctx.clip()),this._activeEffects.push(A)},Ds.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},Ds.prototype.renderStack=function(t){return a(this,void 0,void 0,function(){var e;return S(this,function(A){switch(A.label){case 0:return(e=t.element.container.styles).isVisible()?(this.ctx.globalAlpha=e.opacity,[4,this.renderStackContent(t)]):[3,2];case 1:A.sent(),A.label=2;case 2:return[2]}})})},Ds.prototype.renderNode=function(e){return a(this,void 0,void 0,function(){return S(this,function(A){switch(A.label){case 0:return e.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(e)]:[3,3];case 1:return A.sent(),[4,this.renderNodeContent(e)];case 2:A.sent(),A.label=3;case 3:return[2]}})})},Ds.prototype.renderTextWithLetterSpacing=function(t,A){var r=this;0===A?this.ctx.fillText(t.text,t.bounds.left,t.bounds.top+t.bounds.height):c(t.text).map(function(A){return l(A)}).reduce(function(A,e){return r.ctx.fillText(e,A,t.bounds.top+t.bounds.height),A+r.ctx.measureText(e).width},t.bounds.left)},Ds.prototype.createFontStyle=function(A){var e=A.fontVariant.filter(function(A){return\"normal\"===A||\"small-caps\"===A}).join(\"\"),t=A.fontFamily.join(\", \"),r=xA(A.fontSize)?\"\"+A.fontSize.number+A.fontSize.unit:A.fontSize.number+\"px\";return[[A.fontStyle,e,A.fontWeight,r,t].join(\" \"),t,r]},Ds.prototype.renderTextNode=function(r,o){return a(this,void 0,void 0,function(){var e,t,n,B,s=this;return S(this,function(A){return e=this.createFontStyle(o),t=e[0],n=e[1],B=e[2],this.ctx.font=t,r.textBounds.forEach(function(r){s.ctx.fillStyle=te(o.color),s.renderTextWithLetterSpacing(r,o.letterSpacing);var A=o.textShadow;A.length&&r.text.trim().length&&(A.slice(0).reverse().forEach(function(A){s.ctx.shadowColor=te(A.color),s.ctx.shadowOffsetX=A.offsetX.number*s.options.scale,s.ctx.shadowOffsetY=A.offsetY.number*s.options.scale,s.ctx.shadowBlur=A.blur.number,s.ctx.fillText(r.text,r.bounds.left,r.bounds.top+r.bounds.height)}),s.ctx.shadowColor=\"\",s.ctx.shadowOffsetX=0,s.ctx.shadowOffsetY=0,s.ctx.shadowBlur=0),o.textDecorationLine.length&&(s.ctx.fillStyle=te(o.textDecorationColor||o.color),o.textDecorationLine.forEach(function(A){switch(A){case 1:var e=s.fontMetrics.getMetrics(n,B).baseline;s.ctx.fillRect(r.bounds.left,Math.round(r.bounds.top+e),r.bounds.width,1);break;case 2:s.ctx.fillRect(r.bounds.left,Math.round(r.bounds.top),r.bounds.width,1);break;case 3:var t=s.fontMetrics.getMetrics(n,B).middle;s.ctx.fillRect(r.bounds.left,Math.ceil(r.bounds.top+t),r.bounds.width,1)}}))}),[2]})})},Ds.prototype.renderReplacedElement=function(A,e,t){if(t&&0<A.intrinsicWidth&&0<A.intrinsicHeight){var r=hs(A),n=ws(e);this.path(n),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(t,0,0,A.intrinsicWidth,A.intrinsicHeight,r.left,r.top,r.width,r.height),this.ctx.restore()}},Ds.prototype.renderNodeContent=function(l){return a(this,void 0,void 0,function(){var e,t,r,n,B,s,o,i,a,c,Q,w,u,U;return S(this,function(A){switch(A.label){case 0:this.applyEffects(l.effects,4),e=l.container,t=l.curves,r=e.styles,n=0,B=e.textNodes,A.label=1;case 1:return n<B.length?(s=B[n],[4,this.renderTextNode(s,r)]):[3,4];case 2:A.sent(),A.label=3;case 3:return n++,[3,1];case 4:if(!(e instanceof Nn))return[3,8];A.label=5;case 5:return A.trys.push([5,7,,8]),[4,this.options.cache.match(e.src)];case 6:return w=A.sent(),this.renderReplacedElement(e,t,w),[3,8];case 7:return A.sent(),De.getInstance(this.options.id).error(\"Error loading image \"+e.src),[3,8];case 8:if(e instanceof Tn&&this.renderReplacedElement(e,t,e.canvas),!(e instanceof Ln))return[3,12];A.label=9;case 9:return A.trys.push([9,11,,12]),[4,this.options.cache.match(e.svg)];case 10:return w=A.sent(),this.renderReplacedElement(e,t,w),[3,12];case 11:return A.sent(),De.getInstance(this.options.id).error(\"Error loading svg \"+e.svg.substring(0,255)),[3,12];case 12:return e instanceof tB&&e.tree?[4,new Ds({id:this.options.id,scale:this.options.scale,backgroundColor:e.backgroundColor,x:0,y:0,scrollX:0,scrollY:0,width:e.width,height:e.height,cache:this.options.cache,windowWidth:e.width,windowHeight:e.height}).render(e.tree)]:[3,14];case 13:o=A.sent(),e.width&&e.height&&this.ctx.drawImage(o,0,0,e.width,e.height,e.bounds.left,e.bounds.top,e.bounds.width,e.bounds.height),A.label=14;case 14:if(e instanceof Gn&&(i=Math.min(e.bounds.width,e.bounds.height),e.type===Vn?e.checked&&(this.ctx.save(),this.path([new ts(e.bounds.left+.39363*i,e.bounds.top+.79*i),new ts(e.bounds.left+.16*i,e.bounds.top+.5549*i),new ts(e.bounds.left+.27347*i,e.bounds.top+.44071*i),new ts(e.bounds.left+.39694*i,e.bounds.top+.5649*i),new ts(e.bounds.left+.72983*i,e.bounds.top+.23*i),new ts(e.bounds.left+.84*i,e.bounds.top+.34085*i),new ts(e.bounds.left+.39363*i,e.bounds.top+.79*i)]),this.ctx.fillStyle=te(Jn),this.ctx.fill(),this.ctx.restore()):e.type===zn&&e.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(e.bounds.left+i/2,e.bounds.top+i/2,i/4,0,2*Math.PI,!0),this.ctx.fillStyle=te(Jn),this.ctx.fill(),this.ctx.restore())),bs(e)&&e.value.length){switch(this.ctx.font=this.createFontStyle(r)[0],this.ctx.fillStyle=te(r.color),this.ctx.textBaseline=\"middle\",this.ctx.textAlign=Ms(e.styles.textAlign),U=hs(e),a=0,e.styles.textAlign){case Cr.CENTER:a+=U.width/2;break;case Cr.RIGHT:a+=U.width}c=U.add(a,0,0,-U.height/2+1),this.ctx.save(),this.path([new ts(U.left,U.top),new ts(U.left+U.width,U.top),new ts(U.left+U.width,U.top+U.height),new ts(U.left,U.top+U.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new Cn(e.value,c),r.letterSpacing),this.ctx.restore(),this.ctx.textBaseline=\"bottom\",this.ctx.textAlign=\"left\"}if(!An(e.styles.display,2048))return[3,20];if(null===e.styles.listStyleImage)return[3,19];if((Q=e.styles.listStyleImage).type!==xe.URL)return[3,18];w=void 0,u=Q.url,A.label=15;case 15:return A.trys.push([15,17,,18]),[4,this.options.cache.match(u)];case 16:return w=A.sent(),this.ctx.drawImage(w,e.bounds.left-(w.width+10),e.bounds.top),[3,18];case 17:return A.sent(),De.getInstance(this.options.id).error(\"Error loading list-style-image \"+u),[3,18];case 18:return[3,20];case 19:l.listValue&&e.styles.listStyleType!==tr.NONE&&(this.ctx.font=this.createFontStyle(r)[0],this.ctx.fillStyle=te(r.color),this.ctx.textBaseline=\"middle\",this.ctx.textAlign=\"right\",U=new I(e.bounds.left,e.bounds.top+ae(e.styles.paddingTop,e.bounds.width),e.bounds.width,function(A,e){return zA(A)&&\"normal\"===A.value?1.2*e:A.type===sA.NUMBER_TOKEN?e*A.number:qA(A)?ae(A,e):e}(r.lineHeight,r.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new Cn(l.listValue,U),r.letterSpacing),this.ctx.textBaseline=\"bottom\",this.ctx.textAlign=\"left\"),A.label=20;case 20:return[2]}})})},Ds.prototype.renderStackContent=function(C){return a(this,void 0,void 0,function(){var e,t,r,n,B,s,o,i,a,c,Q,w,u,U,l;return S(this,function(A){switch(A.label){case 0:return[4,this.renderNodeBackgroundAndBorders(C.element)];case 1:A.sent(),e=0,t=C.negativeZIndex,A.label=2;case 2:return e<t.length?(l=t[e],[4,this.renderStack(l)]):[3,5];case 3:A.sent(),A.label=4;case 4:return e++,[3,2];case 5:return[4,this.renderNodeContent(C.element)];case 6:A.sent(),r=0,n=C.nonInlineLevel,A.label=7;case 7:return r<n.length?(l=n[r],[4,this.renderNode(l)]):[3,10];case 8:A.sent(),A.label=9;case 9:return r++,[3,7];case 10:B=0,s=C.nonPositionedFloats,A.label=11;case 11:return B<s.length?(l=s[B],[4,this.renderStack(l)]):[3,14];case 12:A.sent(),A.label=13;case 13:return B++,[3,11];case 14:o=0,i=C.nonPositionedInlineLevel,A.label=15;case 15:return o<i.length?(l=i[o],[4,this.renderStack(l)]):[3,18];case 16:A.sent(),A.label=17;case 17:return o++,[3,15];case 18:a=0,c=C.inlineLevel,A.label=19;case 19:return a<c.length?(l=c[a],[4,this.renderNode(l)]):[3,22];case 20:A.sent(),A.label=21;case 21:return a++,[3,19];case 22:Q=0,w=C.zeroOrAutoZIndexOrTransformedOrOpacity,A.label=23;case 23:return Q<w.length?(l=w[Q],[4,this.renderStack(l)]):[3,26];case 24:A.sent(),A.label=25;case 25:return Q++,[3,23];case 26:u=0,U=C.positiveZIndex,A.label=27;case 27:return u<U.length?(l=U[u],[4,this.renderStack(l)]):[3,30];case 28:A.sent(),A.label=29;case 29:return u++,[3,27];case 30:return[2]}})})},Ds.prototype.mask=function(A){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(A.slice(0).reverse()),this.ctx.closePath()},Ds.prototype.path=function(A){this.ctx.beginPath(),this.formatPath(A),this.ctx.closePath()},Ds.prototype.formatPath=function(A){var r=this;A.forEach(function(A,e){var t=os(A)?A.start:A;0===e?r.ctx.moveTo(t.x,t.y):r.ctx.lineTo(t.x,t.y),os(A)&&r.ctx.bezierCurveTo(A.startControl.x,A.startControl.y,A.endControl.x,A.endControl.y,A.end.x,A.end.y)})},Ds.prototype.renderRepeat=function(A,e,t,r){this.path(A),this.ctx.fillStyle=e,this.ctx.translate(t,r),this.ctx.fill(),this.ctx.translate(-t,-r)},Ds.prototype.resizeImage=function(A,e,t){if(A.width===e&&A.height===t)return A;var r=this.canvas.ownerDocument.createElement(\"canvas\");return r.width=e,r.height=t,r.getContext(\"2d\").drawImage(A,0,0,A.width,A.height,0,0,e,t),r},Ds.prototype.renderBackgroundImage=function(b){return a(this,void 0,void 0,function(){var O,e,D,t,r,n;return S(this,function(A){switch(A.label){case 0:O=b.styles.backgroundImage.length-1,e=function(e){var t,r,n,B,s,o,i,a,c,Q,w,u,U,l,C,g,E,F,h,H,d,f,p,N,K,I,T,m,R,L,v;return S(this,function(A){switch(A.label){case 0:if(e.type!==xe.URL)return[3,5];t=void 0,r=e.url,A.label=1;case 1:return A.trys.push([1,3,,4]),[4,D.options.cache.match(r)];case 2:return t=A.sent(),[3,4];case 3:return A.sent(),De.getInstance(D.options.id).error(\"Error loading background-image \"+r),[3,4];case 4:return t&&(n=Hs(b,O,[t.width,t.height,t.width/t.height]),g=n[0],f=n[1],p=n[2],h=n[3],H=n[4],l=D.ctx.createPattern(D.resizeImage(t,h,H),\"repeat\"),D.renderRepeat(g,l,f,p)),[3,6];case 5:!function(A){return A.type===xe.LINEAR_GRADIENT}(e)?function(A){return A.type===xe.RADIAL_GRADIENT}(e)&&(C=Hs(b,O,[null,null,null]),g=C[0],E=C[1],F=C[2],h=C[3],H=C[4],d=0===e.position.length?[oe]:e.position,f=ae(d[0],h),p=ae(d[d.length-1],H),N=function(A,e,t,r,n){var B=0,s=0;switch(A.size){case Bt.CLOSEST_SIDE:A.shape===rt.CIRCLE?B=s=Math.min(Math.abs(e),Math.abs(e-r),Math.abs(t),Math.abs(t-n)):A.shape===rt.ELLIPSE&&(B=Math.min(Math.abs(e),Math.abs(e-r)),s=Math.min(Math.abs(t),Math.abs(t-n)));break;case Bt.CLOSEST_CORNER:if(A.shape===rt.CIRCLE)B=s=Math.min(Ne(e,t),Ne(e,t-n),Ne(e-r,t),Ne(e-r,t-n));else if(A.shape===rt.ELLIPSE){var o=Math.min(Math.abs(t),Math.abs(t-n))/Math.min(Math.abs(e),Math.abs(e-r)),i=Ke(r,n,e,t,!0),a=i[0],c=i[1];s=o*(B=Ne(a-e,(c-t)/o))}break;case Bt.FARTHEST_SIDE:A.shape===rt.CIRCLE?B=s=Math.max(Math.abs(e),Math.abs(e-r),Math.abs(t),Math.abs(t-n)):A.shape===rt.ELLIPSE&&(B=Math.max(Math.abs(e),Math.abs(e-r)),s=Math.max(Math.abs(t),Math.abs(t-n)));break;case Bt.FARTHEST_CORNER:if(A.shape===rt.CIRCLE)B=s=Math.max(Ne(e,t),Ne(e,t-n),Ne(e-r,t),Ne(e-r,t-n));else if(A.shape===rt.ELLIPSE){o=Math.max(Math.abs(t),Math.abs(t-n))/Math.max(Math.abs(e),Math.abs(e-r));var Q=Ke(r,n,e,t,!1);a=Q[0],c=Q[1],s=o*(B=Ne(a-e,(c-t)/o))}}return Array.isArray(A.size)&&(B=ae(A.size[0],r),s=2===A.size.length?ae(A.size[1],n):B),[B,s]}(e,f,p,h,H),K=N[0],I=N[1],0<K&&0<K&&(T=D.ctx.createRadialGradient(E+f,F+p,0,E+f,F+p,K),fe(e.stops,2*K).forEach(function(A){return T.addColorStop(A.stop,te(A.color))}),D.path(g),D.ctx.fillStyle=T,K!==I?(m=b.bounds.left+.5*b.bounds.width,R=b.bounds.top+.5*b.bounds.height,v=1/(L=I/K),D.ctx.save(),D.ctx.translate(m,R),D.ctx.transform(1,0,0,L,0,0),D.ctx.translate(-m,-R),D.ctx.fillRect(E,v*(F-R)+R,h,H*v),D.ctx.restore()):D.ctx.fill())):(B=Hs(b,O,[null,null,null]),g=B[0],f=B[1],p=B[2],h=B[3],H=B[4],s=pe(e.angle,h,H),o=s[0],i=s[1],a=s[2],c=s[3],Q=s[4],(w=document.createElement(\"canvas\")).width=h,w.height=H,u=w.getContext(\"2d\"),U=u.createLinearGradient(i,c,a,Q),fe(e.stops,o).forEach(function(A){return U.addColorStop(A.stop,te(A.color))}),u.fillStyle=U,u.fillRect(0,0,h,H),0<h&&0<H&&(l=D.ctx.createPattern(w,\"repeat\"),D.renderRepeat(g,l,f,p))),A.label=6;case 6:return O--,[2]}})},D=this,t=0,r=b.styles.backgroundImage.slice(0).reverse(),A.label=1;case 1:return t<r.length?(n=r[t],[5,e(n)]):[3,4];case 2:A.sent(),A.label=3;case 3:return t++,[3,1];case 4:return[2]}})})},Ds.prototype.renderBorder=function(e,t,r){return a(this,void 0,void 0,function(){return S(this,function(A){return this.path(function(A,e){switch(e){case 0:return Ks(A.topLeftBorderBox,A.topLeftPaddingBox,A.topRightBorderBox,A.topRightPaddingBox);case 1:return Ks(A.topRightBorderBox,A.topRightPaddingBox,A.bottomRightBorderBox,A.bottomRightPaddingBox);case 2:return Ks(A.bottomRightBorderBox,A.bottomRightPaddingBox,A.bottomLeftBorderBox,A.bottomLeftPaddingBox);case 3:default:return Ks(A.bottomLeftBorderBox,A.bottomLeftPaddingBox,A.topLeftBorderBox,A.topLeftPaddingBox)}}(r,t)),this.ctx.fillStyle=te(e),this.ctx.fill(),[2]})})},Ds.prototype.renderNodeBackgroundAndBorders=function(c){return a(this,void 0,void 0,function(){var e,t,r,n,B,s,o,i,a=this;return S(this,function(A){switch(A.label){case 0:return this.applyEffects(c.effects,2),e=c.container.styles,t=!ee(e.backgroundColor)||e.backgroundImage.length,r=[{style:e.borderTopStyle,color:e.borderTopColor},{style:e.borderRightStyle,color:e.borderRightColor},{style:e.borderBottomStyle,color:e.borderBottomColor},{style:e.borderLeftStyle,color:e.borderLeftColor}],n=Ss(Ts(e.backgroundClip,0),c.curves),t||e.boxShadow.length?(this.ctx.save(),this.path(n),this.ctx.clip(),ee(e.backgroundColor)||(this.ctx.fillStyle=te(e.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(c.container)]):[3,2];case 1:A.sent(),this.ctx.restore(),e.boxShadow.slice(0).reverse().forEach(function(A){a.ctx.save();var e=Qs(c.curves),t=A.inset?0:1e4,r=function(A,t,r,n,B){return A.map(function(A,e){switch(e){case 0:return A.add(t,r);case 1:return A.add(t+n,r);case 2:return A.add(t+n,r+B);case 3:return A.add(t,r+B)}return A})}(e,-t+(A.inset?1:-1)*A.spread.number,(A.inset?1:-1)*A.spread.number,A.spread.number*(A.inset?-2:2),A.spread.number*(A.inset?-2:2));A.inset?(a.path(e),a.ctx.clip(),a.mask(r)):(a.mask(e),a.ctx.clip(),a.path(r)),a.ctx.shadowOffsetX=A.offsetX.number+t,a.ctx.shadowOffsetY=A.offsetY.number,a.ctx.shadowColor=te(A.color),a.ctx.shadowBlur=A.blur.number,a.ctx.fillStyle=A.inset?te(A.color):\"rgba(0,0,0,1)\",a.ctx.fill(),a.ctx.restore()}),A.label=2;case 2:s=B=0,o=r,A.label=3;case 3:return s<o.length?(i=o[s]).style===ht.NONE||ee(i.color)?[3,5]:[4,this.renderBorder(i.color,B,c.curves)]:[3,7];case 4:A.sent(),A.label=5;case 5:B++,A.label=6;case 6:return s++,[3,3];case 7:return[2]}})})},Ds.prototype.render=function(t){return a(this,void 0,void 0,function(){var e;return S(this,function(A){switch(A.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=te(this.options.backgroundColor),this.ctx.fillRect(this.options.x-this.options.scrollX,this.options.y-this.options.scrollY,this.options.width,this.options.height)),e=function(A){var e=new gs(A,[]),t=new Cs(e),r=[];return ps(e,t,t,r),Ns(e.container,r),t}(t),[4,this.renderStack(e)];case 1:return A.sent(),this.applyEffects([],2),[2,this.canvas]}})})},Ds);function Ds(A){this._activeEffects=[],this.canvas=A.canvas?A.canvas:document.createElement(\"canvas\"),this.ctx=this.canvas.getContext(\"2d\"),(this.options=A).canvas||(this.canvas.width=Math.floor(A.width*A.scale),this.canvas.height=Math.floor(A.height*A.scale),this.canvas.style.width=A.width+\"px\",this.canvas.style.height=A.height+\"px\"),this.fontMetrics=new Ls(document),this.ctx.scale(this.options.scale,this.options.scale),this.ctx.translate(-A.x+A.scrollX,-A.y+A.scrollY),this.ctx.textBaseline=\"bottom\",this._activeEffects=[],De.getInstance(A.id).debug(\"Canvas renderer initialized (\"+A.width+\"x\"+A.height+\" at \"+A.x+\",\"+A.y+\") with scale \"+A.scale)}var bs=function(A){return A instanceof jn||(A instanceof Yn||A instanceof Gn&&A.type!==zn&&A.type!==Vn)},Ss=function(A,e){switch(A){case Ee.BORDER_BOX:return Qs(e);case Ee.CONTENT_BOX:return function(A){return[A.topLeftContentBox,A.topRightContentBox,A.bottomRightContentBox,A.bottomLeftContentBox]}(e);case Ee.PADDING_BOX:default:return ws(e)}},Ms=function(A){switch(A){case Cr.CENTER:return\"center\";case Cr.RIGHT:return\"right\";case Cr.LEFT:default:return\"left\"}},ys=(_s.prototype.render=function(r){return a(this,void 0,void 0,function(){var e,t;return S(this,function(A){switch(A.label){case 0:return e=Le(Math.max(this.options.windowWidth,this.options.width)*this.options.scale,Math.max(this.options.windowHeight,this.options.height)*this.options.scale,this.options.scrollX*this.options.scale,this.options.scrollY*this.options.scale,r),[4,xs(e)];case 1:return t=A.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=te(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(t,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},_s);function _s(A){this.canvas=A.canvas?A.canvas:document.createElement(\"canvas\"),this.ctx=this.canvas.getContext(\"2d\"),this.options=A,this.canvas.width=Math.floor(A.width*A.scale),this.canvas.height=Math.floor(A.height*A.scale),this.canvas.style.width=A.width+\"px\",this.canvas.style.height=A.height+\"px\",this.ctx.scale(this.options.scale,this.options.scale),this.ctx.translate(-A.x+A.scrollX,-A.y+A.scrollY),De.getInstance(A.id).debug(\"EXPERIMENTAL ForeignObject renderer initialized (\"+A.width+\"x\"+A.height+\" at \"+A.x+\",\"+A.y+\") with scale \"+A.scale)}function Ps(A){return we(_A.create(A).parseComponentValue())}var xs=function(r){return new Promise(function(A,e){var t=new Image;t.onload=function(){A(t)},t.onerror=e,t.src=\"data:image/svg+xml;charset=utf-8,\"+encodeURIComponent((new XMLSerializer).serializeToString(r))})};\"undefined\"!=typeof window&&Se.setContext(window);var Vs=function(p,N){return a(void 0,void 0,void 0,function(){var e,t,r,n,B,s,o,i,a,c,Q,w,u,U,l,C,g,E,F,h,H,d,f;return S(this,function(A){switch(A.label){case 0:if(!(e=p.ownerDocument))throw new Error(\"Element is not attached to a Document\");if(!(t=e.defaultView))throw new Error(\"Document is not attached to a Window\");return r=(Math.round(1e3*Math.random())+Date.now()).toString(16),n=EB(p)||function(A){return\"HTML\"===A.tagName}(p)?function(A){var e=A.body,t=A.documentElement;if(!e||!t)throw new Error(\"Unable to get document size\");var r=Math.max(Math.max(e.scrollWidth,t.scrollWidth),Math.max(e.offsetWidth,t.offsetWidth),Math.max(e.clientWidth,t.clientWidth)),n=Math.max(Math.max(e.scrollHeight,t.scrollHeight),Math.max(e.offsetHeight,t.offsetHeight),Math.max(e.clientHeight,t.clientHeight));return new I(0,0,r,n)}(e):T(p),B=n.width,s=n.height,o=n.left,i=n.top,a=K({},{allowTaint:!1,imageTimeout:15e3,proxy:void 0,useCORS:!1},N),c={backgroundColor:\"#ffffff\",cache:N.cache?N.cache:Se.create(r,a),logging:!0,removeContainer:!0,foreignObjectRendering:!1,scale:t.devicePixelRatio||1,windowWidth:t.innerWidth,windowHeight:t.innerHeight,scrollX:t.pageXOffset,scrollY:t.pageYOffset,x:o,y:i,width:Math.ceil(B),height:Math.ceil(s),id:r},Q=K({},c,a,N),w=new I(Q.scrollX,Q.scrollY,Q.windowWidth,Q.windowHeight),De.create({id:r,enabled:Q.logging}),De.getInstance(r).debug(\"Starting document clone\"),u=new PB(p,{id:r,onclone:Q.onclone,ignoreElements:Q.ignoreElements,inlineImages:Q.foreignObjectRendering,copyStyles:Q.foreignObjectRendering}),(U=u.clonedReferenceElement)?[4,u.toIFrame(e,w)]:[2,Promise.reject(\"Unable to find element in cloned iframe\")];case 1:return l=A.sent(),C=e.documentElement?Ps(getComputedStyle(e.documentElement).backgroundColor):He.TRANSPARENT,g=e.body?Ps(getComputedStyle(e.body).backgroundColor):He.TRANSPARENT,E=N.backgroundColor,F=\"string\"==typeof E?Ps(E):null===E?He.TRANSPARENT:4294967295,h=p===e.documentElement?ee(C)?ee(g)?F:g:C:F,H={id:r,cache:Q.cache,canvas:Q.canvas,backgroundColor:h,scale:Q.scale,x:Q.x,y:Q.y,scrollX:Q.scrollX,scrollY:Q.scrollY,width:Q.width,height:Q.height,windowWidth:Q.windowWidth,windowHeight:Q.windowHeight},Q.foreignObjectRendering?(De.getInstance(r).debug(\"Document cloned, using foreign object rendering\"),[4,new ys(H).render(U)]):[3,3];case 2:return d=A.sent(),[3,5];case 3:return De.getInstance(r).debug(\"Document cloned, using computed rendering\"),Se.attachInstance(Q.cache),De.getInstance(r).debug(\"Starting DOM parsing\"),f=iB(U),Se.detachInstance(),h===f.styles.backgroundColor&&(f.styles.backgroundColor=He.TRANSPARENT),De.getInstance(r).debug(\"Starting renderer\"),[4,new Os(H).render(f)];case 4:d=A.sent(),A.label=5;case 5:return!0===Q.removeContainer&&(PB.destroy(l)||De.getInstance(r).error(\"Cannot detach cloned iframe as it is not in the DOM anymore\")),De.getInstance(r).debug(\"Finished rendering\"),De.destroy(r),Se.destroy(r),[2,d]}})})};return function(A,e){return void 0===e&&(e={}),Vs(A,e)}});","Magento_PageBuilder/js/resource/jarallax/jarallax-video.js":"/*!\r\n * Video Extension for Jarallax v2.0.3 (https://github.com/nk-o/jarallax)\r\n * Copyright 2022 nK <https://nkdev.info>\r\n * Licensed under MIT (https://github.com/nk-o/jarallax/blob/master/LICENSE)\r\n */\r\n\r\n(function (global, factory) {\r\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\r\n      typeof define === 'function' && define.amd ? define(factory) :\r\n          (global = typeof globalThis !== 'undefined' ? globalThis : global || self, global.jarallaxVideo = factory());\r\n})(this, (function () { 'use strict';\r\n\r\n  /*!\r\n   * Name    : Video Worker\r\n   * Version : 2.0.0\r\n   * Author  : nK <https://nkdev.info>\r\n   * GitHub  : https://github.com/nk-o/video-worker\r\n   */\r\n\r\n  /* eslint-disable import/no-mutable-exports */\r\n\r\n  /* eslint-disable no-restricted-globals */\r\n  let win$1;\r\n\r\n  if (typeof window !== 'undefined') {\r\n    win$1 = window;\r\n  } else if (typeof global !== 'undefined') {\r\n    win$1 = global;\r\n  } else if (typeof self !== 'undefined') {\r\n    win$1 = self;\r\n  } else {\r\n    win$1 = {};\r\n  }\r\n\r\n  var global$1$1 = win$1; // Deferred\r\n  // thanks http://stackoverflow.com/questions/18096715/implement-deferred-object-without-using-jquery\r\n\r\n  function Deferred() {\r\n    this.doneCallbacks = [];\r\n    this.failCallbacks = [];\r\n  }\r\n\r\n  Deferred.prototype = {\r\n    execute(list, args) {\r\n      let i = list.length; // eslint-disable-next-line no-param-reassign\r\n\r\n      args = Array.prototype.slice.call(args);\r\n\r\n      while (i) {\r\n        i -= 1;\r\n        list[i].apply(null, args);\r\n      }\r\n    },\r\n\r\n    resolve(...args) {\r\n      this.execute(this.doneCallbacks, args);\r\n    },\r\n\r\n    reject(...args) {\r\n      this.execute(this.failCallbacks, args);\r\n    },\r\n\r\n    done(callback) {\r\n      this.doneCallbacks.push(callback);\r\n    },\r\n\r\n    fail(callback) {\r\n      this.failCallbacks.push(callback);\r\n    }\r\n\r\n  };\r\n  let ID = 0;\r\n  let YoutubeAPIadded = 0;\r\n  let VimeoAPIadded = 0;\r\n  let loadingYoutubePlayer = 0;\r\n  let loadingVimeoPlayer = 0;\r\n  const loadingYoutubeDefer = /*#__PURE__*/new Deferred();\r\n  const loadingVimeoDefer = /*#__PURE__*/new Deferred();\r\n\r\n  class VideoWorker {\r\n    constructor(url, options) {\r\n      const self = this;\r\n      self.url = url;\r\n      self.options_default = {\r\n        autoplay: false,\r\n        loop: false,\r\n        mute: false,\r\n        volume: 100,\r\n        showControls: true,\r\n        accessibilityHidden: false,\r\n        // start / end video time in seconds\r\n        startTime: 0,\r\n        endTime: 0\r\n      };\r\n      self.options = self.extend({}, self.options_default, options); // Fix wrong option name.\r\n      // Thanks to https://github.com/nk-o/video-worker/issues/13.\r\n\r\n      if (typeof self.options.showContols !== 'undefined') {\r\n        self.options.showControls = self.options.showContols;\r\n        delete self.options.showContols;\r\n      } // check URL\r\n\r\n\r\n      self.videoID = self.parseURL(url); // init\r\n\r\n      if (self.videoID) {\r\n        self.ID = ID;\r\n        ID += 1;\r\n        self.loadAPI();\r\n        self.init();\r\n      }\r\n    } // Extend like jQuery.extend\r\n    // eslint-disable-next-line class-methods-use-this\r\n\r\n\r\n    extend(...args) {\r\n      const out = args[0] || {};\r\n      Object.keys(args).forEach(i => {\r\n        if (!args[i]) {\r\n          return;\r\n        }\r\n\r\n        Object.keys(args[i]).forEach(key => {\r\n          out[key] = args[i][key];\r\n        });\r\n      });\r\n      return out;\r\n    }\r\n\r\n    parseURL(url) {\r\n      // parse youtube ID\r\n      function getYoutubeID(ytUrl) {\r\n        // eslint-disable-next-line no-useless-escape\r\n        const regExp = /.*(?:youtu.be\\/|v\\/|u\\/\\w\\/|embed\\/|watch\\?v=)([^#\\&\\?]*).*/;\r\n        const match = ytUrl.match(regExp);\r\n        return match && match[1].length === 11 ? match[1] : false;\r\n      } // parse vimeo ID\r\n\r\n\r\n      function getVimeoID(vmUrl) {\r\n        // eslint-disable-next-line no-useless-escape\r\n        const regExp = /https?:\\/\\/(?:www\\.|player\\.)?vimeo.com\\/(?:channels\\/(?:\\w+\\/)?|groups\\/([^/]*)\\/videos\\/|album\\/(\\d+)\\/video\\/|video\\/|)(\\d+)(?:$|\\/|\\?)/;\r\n        const match = vmUrl.match(regExp);\r\n        return match && match[3] ? match[3] : false;\r\n      } // parse local string\r\n\r\n\r\n      function getLocalVideos(locUrl) {\r\n        // eslint-disable-next-line no-useless-escape\r\n        const videoFormats = locUrl.split(/,(?=mp4\\:|webm\\:|ogv\\:|ogg\\:)/);\r\n        const result = {};\r\n        let ready = 0;\r\n        videoFormats.forEach(val => {\r\n          // eslint-disable-next-line no-useless-escape\r\n          const match = val.match(/^(mp4|webm|ogv|ogg)\\:(.*)/);\r\n\r\n          if (match && match[1] && match[2]) {\r\n            // eslint-disable-next-line prefer-destructuring\r\n            result[match[1] === 'ogv' ? 'ogg' : match[1]] = match[2];\r\n            ready = 1;\r\n          }\r\n        });\r\n        return ready ? result : false;\r\n      }\r\n\r\n      const Youtube = getYoutubeID(url);\r\n      const Vimeo = getVimeoID(url);\r\n      const Local = getLocalVideos(url);\r\n\r\n      if (Youtube) {\r\n        this.type = 'youtube';\r\n        return Youtube;\r\n      }\r\n\r\n      if (Vimeo) {\r\n        this.type = 'vimeo';\r\n        return Vimeo;\r\n      }\r\n\r\n      if (Local) {\r\n        this.type = 'local';\r\n        return Local;\r\n      }\r\n\r\n      return false;\r\n    }\r\n\r\n    isValid() {\r\n      return !!this.videoID;\r\n    } // events\r\n\r\n\r\n    on(name, callback) {\r\n      this.userEventsList = this.userEventsList || []; // add new callback in events list\r\n\r\n      (this.userEventsList[name] || (this.userEventsList[name] = [])).push(callback);\r\n    }\r\n\r\n    off(name, callback) {\r\n      if (!this.userEventsList || !this.userEventsList[name]) {\r\n        return;\r\n      }\r\n\r\n      if (!callback) {\r\n        delete this.userEventsList[name];\r\n      } else {\r\n        this.userEventsList[name].forEach((val, key) => {\r\n          if (val === callback) {\r\n            this.userEventsList[name][key] = false;\r\n          }\r\n        });\r\n      }\r\n    }\r\n\r\n    fire(name, ...args) {\r\n      if (this.userEventsList && typeof this.userEventsList[name] !== 'undefined') {\r\n        this.userEventsList[name].forEach(val => {\r\n          // call with all arguments\r\n          if (val) {\r\n            val.apply(this, args);\r\n          }\r\n        });\r\n      }\r\n    }\r\n\r\n    play(start) {\r\n      const self = this;\r\n\r\n      if (!self.player) {\r\n        return;\r\n      }\r\n\r\n      if (self.type === 'youtube' && self.player.playVideo) {\r\n        if (typeof start !== 'undefined') {\r\n          self.player.seekTo(start || 0);\r\n        }\r\n\r\n        if (global$1$1.YT.PlayerState.PLAYING !== self.player.getPlayerState()) {\r\n          self.player.playVideo();\r\n        }\r\n      }\r\n\r\n      if (self.type === 'vimeo') {\r\n        if (typeof start !== 'undefined') {\r\n          self.player.setCurrentTime(start);\r\n        }\r\n\r\n        self.player.getPaused().then(paused => {\r\n          if (paused) {\r\n            self.player.play();\r\n          }\r\n        });\r\n      }\r\n\r\n      if (self.type === 'local') {\r\n        if (typeof start !== 'undefined') {\r\n          self.player.currentTime = start;\r\n        }\r\n\r\n        if (self.player.paused) {\r\n          self.player.play();\r\n        }\r\n      }\r\n    }\r\n\r\n    pause() {\r\n      const self = this;\r\n\r\n      if (!self.player) {\r\n        return;\r\n      }\r\n\r\n      if (self.type === 'youtube' && self.player.pauseVideo) {\r\n        if (global$1$1.YT.PlayerState.PLAYING === self.player.getPlayerState()) {\r\n          self.player.pauseVideo();\r\n        }\r\n      }\r\n\r\n      if (self.type === 'vimeo') {\r\n        self.player.getPaused().then(paused => {\r\n          if (!paused) {\r\n            self.player.pause();\r\n          }\r\n        });\r\n      }\r\n\r\n      if (self.type === 'local') {\r\n        if (!self.player.paused) {\r\n          self.player.pause();\r\n        }\r\n      }\r\n    }\r\n\r\n    mute() {\r\n      const self = this;\r\n\r\n      if (!self.player) {\r\n        return;\r\n      }\r\n\r\n      if (self.type === 'youtube' && self.player.mute) {\r\n        self.player.mute();\r\n      }\r\n\r\n      if (self.type === 'vimeo' && self.player.setVolume) {\r\n        self.player.setVolume(0);\r\n      }\r\n\r\n      if (self.type === 'local') {\r\n        self.$video.muted = true;\r\n      }\r\n    }\r\n\r\n    unmute() {\r\n      const self = this;\r\n\r\n      if (!self.player) {\r\n        return;\r\n      }\r\n\r\n      if (self.type === 'youtube' && self.player.mute) {\r\n        self.player.unMute();\r\n      }\r\n\r\n      if (self.type === 'vimeo' && self.player.setVolume) {\r\n        self.player.setVolume(self.options.volume);\r\n      }\r\n\r\n      if (self.type === 'local') {\r\n        self.$video.muted = false;\r\n      }\r\n    }\r\n\r\n    setVolume(volume = false) {\r\n      const self = this;\r\n\r\n      if (!self.player || !volume) {\r\n        return;\r\n      }\r\n\r\n      if (self.type === 'youtube' && self.player.setVolume) {\r\n        self.player.setVolume(volume);\r\n      }\r\n\r\n      if (self.type === 'vimeo' && self.player.setVolume) {\r\n        self.player.setVolume(volume);\r\n      }\r\n\r\n      if (self.type === 'local') {\r\n        self.$video.volume = volume / 100;\r\n      }\r\n    }\r\n\r\n    getVolume(callback) {\r\n      const self = this;\r\n\r\n      if (!self.player) {\r\n        callback(false);\r\n        return;\r\n      }\r\n\r\n      if (self.type === 'youtube' && self.player.getVolume) {\r\n        callback(self.player.getVolume());\r\n      }\r\n\r\n      if (self.type === 'vimeo' && self.player.getVolume) {\r\n        self.player.getVolume().then(volume => {\r\n          callback(volume);\r\n        });\r\n      }\r\n\r\n      if (self.type === 'local') {\r\n        callback(self.$video.volume * 100);\r\n      }\r\n    }\r\n\r\n    getMuted(callback) {\r\n      const self = this;\r\n\r\n      if (!self.player) {\r\n        callback(null);\r\n        return;\r\n      }\r\n\r\n      if (self.type === 'youtube' && self.player.isMuted) {\r\n        callback(self.player.isMuted());\r\n      }\r\n\r\n      if (self.type === 'vimeo' && self.player.getVolume) {\r\n        self.player.getVolume().then(volume => {\r\n          callback(!!volume);\r\n        });\r\n      }\r\n\r\n      if (self.type === 'local') {\r\n        callback(self.$video.muted);\r\n      }\r\n    }\r\n\r\n    getImageURL(callback) {\r\n      const self = this;\r\n\r\n      if (self.videoImage) {\r\n        callback(self.videoImage);\r\n        return;\r\n      }\r\n\r\n      if (self.type === 'youtube') {\r\n        const availableSizes = ['maxresdefault', 'sddefault', 'hqdefault', '0'];\r\n        let step = 0;\r\n        const tempImg = new Image();\r\n\r\n        tempImg.onload = function () {\r\n          // if no thumbnail, youtube add their own image with width = 120px\r\n          if ((this.naturalWidth || this.width) !== 120 || step === availableSizes.length - 1) {\r\n            // ok\r\n            self.videoImage = `https://img.youtube.com/vi/${self.videoID}/${availableSizes[step]}.jpg`;\r\n            callback(self.videoImage);\r\n          } else {\r\n            // try another size\r\n            step += 1;\r\n            this.src = `https://img.youtube.com/vi/${self.videoID}/${availableSizes[step]}.jpg`;\r\n          }\r\n        };\r\n\r\n        tempImg.src = `https://img.youtube.com/vi/${self.videoID}/${availableSizes[step]}.jpg`;\r\n      }\r\n\r\n      if (self.type === 'vimeo') {\r\n        let request = new XMLHttpRequest(); // https://vimeo.com/api/oembed.json?url=https://vimeo.com/235212527\r\n\r\n        request.open('GET', `https://vimeo.com/api/oembed.json?url=${self.url}`, true);\r\n\r\n        request.onreadystatechange = function () {\r\n          if (this.readyState === 4) {\r\n            if (this.status >= 200 && this.status < 400) {\r\n              // Success!\r\n              const response = JSON.parse(this.responseText);\r\n\r\n              if (response.thumbnail_url) {\r\n                self.videoImage = response.thumbnail_url;\r\n                callback(self.videoImage);\r\n              }\r\n            }\r\n          }\r\n        };\r\n\r\n        request.send();\r\n        request = null;\r\n      }\r\n    } // fallback to the old version.\r\n\r\n\r\n    getIframe(callback) {\r\n      this.getVideo(callback);\r\n    }\r\n\r\n    getVideo(callback) {\r\n      const self = this; // return generated video block\r\n\r\n      if (self.$video) {\r\n        callback(self.$video);\r\n        return;\r\n      } // generate new video block\r\n\r\n\r\n      self.onAPIready(() => {\r\n        let hiddenDiv;\r\n\r\n        if (!self.$video) {\r\n          hiddenDiv = document.createElement('div');\r\n          hiddenDiv.style.display = 'none';\r\n        } // Youtube\r\n\r\n\r\n        if (self.type === 'youtube') {\r\n          self.playerOptions = {\r\n            // GDPR Compliance.\r\n            host: 'https://www.youtube-nocookie.com',\r\n            videoId: self.videoID,\r\n            playerVars: {\r\n              autohide: 1,\r\n              rel: 0,\r\n              autoplay: 0,\r\n              // autoplay enable on mobile devices\r\n              playsinline: 1\r\n            }\r\n          }; // hide controls\r\n\r\n          if (!self.options.showControls) {\r\n            self.playerOptions.playerVars.iv_load_policy = 3;\r\n            self.playerOptions.playerVars.modestbranding = 1;\r\n            self.playerOptions.playerVars.controls = 0;\r\n            self.playerOptions.playerVars.showinfo = 0;\r\n            self.playerOptions.playerVars.disablekb = 1;\r\n          } // events\r\n\r\n\r\n          let ytStarted;\r\n          let ytProgressInterval;\r\n          self.playerOptions.events = {\r\n            onReady(e) {\r\n              // mute\r\n              if (self.options.mute) {\r\n                e.target.mute();\r\n              } else if (self.options.volume) {\r\n                e.target.setVolume(self.options.volume);\r\n              } // autoplay\r\n\r\n\r\n              if (self.options.autoplay) {\r\n                self.play(self.options.startTime);\r\n              }\r\n\r\n              self.fire('ready', e); // For seamless loops, set the endTime to 0.1 seconds less than the video's duration\r\n              // https://github.com/nk-o/video-worker/issues/2\r\n\r\n              if (self.options.loop && !self.options.endTime) {\r\n                const secondsOffset = 0.1;\r\n                self.options.endTime = self.player.getDuration() - secondsOffset;\r\n              } // volumechange\r\n\r\n\r\n              setInterval(() => {\r\n                self.getVolume(volume => {\r\n                  if (self.options.volume !== volume) {\r\n                    self.options.volume = volume;\r\n                    self.fire('volumechange', e);\r\n                  }\r\n                });\r\n              }, 150);\r\n            },\r\n\r\n            onStateChange(e) {\r\n              // loop\r\n              if (self.options.loop && e.data === global$1$1.YT.PlayerState.ENDED) {\r\n                self.play(self.options.startTime);\r\n              }\r\n\r\n              if (!ytStarted && e.data === global$1$1.YT.PlayerState.PLAYING) {\r\n                ytStarted = 1;\r\n                self.fire('started', e);\r\n              }\r\n\r\n              if (e.data === global$1$1.YT.PlayerState.PLAYING) {\r\n                self.fire('play', e);\r\n              }\r\n\r\n              if (e.data === global$1$1.YT.PlayerState.PAUSED) {\r\n                self.fire('pause', e);\r\n              }\r\n\r\n              if (e.data === global$1$1.YT.PlayerState.ENDED) {\r\n                self.fire('ended', e);\r\n              } // progress check\r\n\r\n\r\n              if (e.data === global$1$1.YT.PlayerState.PLAYING) {\r\n                ytProgressInterval = setInterval(() => {\r\n                  self.fire('timeupdate', e); // check for end of video and play again or stop\r\n\r\n                  if (self.options.endTime && self.player.getCurrentTime() >= self.options.endTime) {\r\n                    if (self.options.loop) {\r\n                      self.play(self.options.startTime);\r\n                    } else {\r\n                      self.pause();\r\n                    }\r\n                  }\r\n                }, 150);\r\n              } else {\r\n                clearInterval(ytProgressInterval);\r\n              }\r\n            },\r\n\r\n            onError(e) {\r\n              self.fire('error', e);\r\n            }\r\n\r\n          };\r\n          const firstInit = !self.$video;\r\n\r\n          if (firstInit) {\r\n            const div = document.createElement('div');\r\n            div.setAttribute('id', self.playerID);\r\n            hiddenDiv.appendChild(div);\r\n            document.body.appendChild(hiddenDiv);\r\n          }\r\n\r\n          self.player = self.player || new global$1$1.YT.Player(self.playerID, self.playerOptions);\r\n\r\n          if (firstInit) {\r\n            self.$video = document.getElementById(self.playerID); // add accessibility attributes\r\n\r\n            if (self.options.accessibilityHidden) {\r\n              self.$video.setAttribute('tabindex', '-1');\r\n              self.$video.setAttribute('aria-hidden', 'true');\r\n            } // get video width and height\r\n\r\n\r\n            self.videoWidth = parseInt(self.$video.getAttribute('width'), 10) || 1280;\r\n            self.videoHeight = parseInt(self.$video.getAttribute('height'), 10) || 720;\r\n          }\r\n        } // Vimeo\r\n\r\n\r\n        if (self.type === 'vimeo') {\r\n          self.playerOptions = {\r\n            // GDPR Compliance.\r\n            dnt: 1,\r\n            id: self.videoID,\r\n            autopause: 0,\r\n            transparent: 0,\r\n            autoplay: self.options.autoplay ? 1 : 0,\r\n            loop: self.options.loop ? 1 : 0,\r\n            muted: self.options.mute ? 1 : 0\r\n          };\r\n\r\n          if (self.options.volume) {\r\n            self.playerOptions.volume = self.options.volume;\r\n          } // hide controls\r\n\r\n\r\n          if (!self.options.showControls) {\r\n            self.playerOptions.badge = 0;\r\n            self.playerOptions.byline = 0;\r\n            self.playerOptions.portrait = 0;\r\n            self.playerOptions.title = 0;\r\n            self.playerOptions.background = 1;\r\n          }\r\n\r\n          if (!self.$video) {\r\n            let playerOptionsString = '';\r\n            Object.keys(self.playerOptions).forEach(key => {\r\n              if (playerOptionsString !== '') {\r\n                playerOptionsString += '&';\r\n              }\r\n\r\n              playerOptionsString += `${key}=${encodeURIComponent(self.playerOptions[key])}`;\r\n            }); // we need to create iframe manually because when we create it using API\r\n            // js events won't triggers after iframe moved to another place\r\n\r\n            self.$video = document.createElement('iframe');\r\n            self.$video.setAttribute('id', self.playerID);\r\n            self.$video.setAttribute('src', `https://player.vimeo.com/video/${self.videoID}?${playerOptionsString}`);\r\n            self.$video.setAttribute('frameborder', '0');\r\n            self.$video.setAttribute('mozallowfullscreen', '');\r\n            self.$video.setAttribute('allowfullscreen', '');\r\n            self.$video.setAttribute('title', 'Vimeo video player'); // add accessibility attributes\r\n\r\n            if (self.options.accessibilityHidden) {\r\n              self.$video.setAttribute('tabindex', '-1');\r\n              self.$video.setAttribute('aria-hidden', 'true');\r\n            }\r\n\r\n            hiddenDiv.appendChild(self.$video);\r\n            document.body.appendChild(hiddenDiv);\r\n          }\r\n\r\n          self.player = self.player || new global$1$1.Vimeo.Player(self.$video, self.playerOptions); // set current time for autoplay\r\n\r\n          if (self.options.startTime && self.options.autoplay) {\r\n            self.player.setCurrentTime(self.options.startTime);\r\n          } // get video width and height\r\n\r\n\r\n          self.player.getVideoWidth().then(width => {\r\n            self.videoWidth = width || 1280;\r\n          });\r\n          self.player.getVideoHeight().then(height => {\r\n            self.videoHeight = height || 720;\r\n          }); // events\r\n\r\n          let vmStarted;\r\n          self.player.on('timeupdate', e => {\r\n            if (!vmStarted) {\r\n              self.fire('started', e);\r\n              vmStarted = 1;\r\n            }\r\n\r\n            self.fire('timeupdate', e); // check for end of video and play again or stop\r\n\r\n            if (self.options.endTime) {\r\n              if (self.options.endTime && e.seconds >= self.options.endTime) {\r\n                if (self.options.loop) {\r\n                  self.play(self.options.startTime);\r\n                } else {\r\n                  self.pause();\r\n                }\r\n              }\r\n            }\r\n          });\r\n          self.player.on('play', e => {\r\n            self.fire('play', e); // check for the start time and start with it\r\n\r\n            if (self.options.startTime && e.seconds === 0) {\r\n              self.play(self.options.startTime);\r\n            }\r\n          });\r\n          self.player.on('pause', e => {\r\n            self.fire('pause', e);\r\n          });\r\n          self.player.on('ended', e => {\r\n            self.fire('ended', e);\r\n          });\r\n          self.player.on('loaded', e => {\r\n            self.fire('ready', e);\r\n          });\r\n          self.player.on('volumechange', e => {\r\n            self.fire('volumechange', e);\r\n          });\r\n          self.player.on('error', e => {\r\n            self.fire('error', e);\r\n          });\r\n        } // Local\r\n\r\n\r\n        function addSourceToLocal(element, src, type) {\r\n          const source = document.createElement('source');\r\n          source.src = src;\r\n          source.type = type;\r\n          element.appendChild(source);\r\n        }\r\n\r\n        if (self.type === 'local') {\r\n          if (!self.$video) {\r\n            self.$video = document.createElement('video'); // show controls\r\n\r\n            if (self.options.showControls) {\r\n              self.$video.controls = true;\r\n            } // mute\r\n\r\n\r\n            if (self.options.mute) {\r\n              self.$video.muted = true;\r\n            } else if (self.$video.volume) {\r\n              self.$video.volume = self.options.volume / 100;\r\n            } // loop\r\n\r\n\r\n            if (self.options.loop) {\r\n              self.$video.loop = true;\r\n            } // autoplay enable on mobile devices\r\n\r\n\r\n            self.$video.setAttribute('playsinline', '');\r\n            self.$video.setAttribute('webkit-playsinline', ''); // add accessibility attributes\r\n\r\n            if (self.options.accessibilityHidden) {\r\n              self.$video.setAttribute('tabindex', '-1');\r\n              self.$video.setAttribute('aria-hidden', 'true');\r\n            }\r\n\r\n            self.$video.setAttribute('id', self.playerID);\r\n            hiddenDiv.appendChild(self.$video);\r\n            document.body.appendChild(hiddenDiv);\r\n            Object.keys(self.videoID).forEach(key => {\r\n              addSourceToLocal(self.$video, self.videoID[key], `video/${key}`);\r\n            });\r\n          }\r\n\r\n          self.player = self.player || self.$video;\r\n          let locStarted;\r\n          self.player.addEventListener('playing', e => {\r\n            if (!locStarted) {\r\n              self.fire('started', e);\r\n            }\r\n\r\n            locStarted = 1;\r\n          });\r\n          self.player.addEventListener('timeupdate', function (e) {\r\n            self.fire('timeupdate', e); // check for end of video and play again or stop\r\n\r\n            if (self.options.endTime) {\r\n              if (self.options.endTime && this.currentTime >= self.options.endTime) {\r\n                if (self.options.loop) {\r\n                  self.play(self.options.startTime);\r\n                } else {\r\n                  self.pause();\r\n                }\r\n              }\r\n            }\r\n          });\r\n          self.player.addEventListener('play', e => {\r\n            self.fire('play', e);\r\n          });\r\n          self.player.addEventListener('pause', e => {\r\n            self.fire('pause', e);\r\n          });\r\n          self.player.addEventListener('ended', e => {\r\n            self.fire('ended', e);\r\n          });\r\n          self.player.addEventListener('loadedmetadata', function () {\r\n            // get video width and height\r\n            self.videoWidth = this.videoWidth || 1280;\r\n            self.videoHeight = this.videoHeight || 720;\r\n            self.fire('ready'); // autoplay\r\n\r\n            if (self.options.autoplay) {\r\n              self.play(self.options.startTime);\r\n            }\r\n          });\r\n          self.player.addEventListener('volumechange', e => {\r\n            self.getVolume(volume => {\r\n              self.options.volume = volume;\r\n            });\r\n            self.fire('volumechange', e);\r\n          });\r\n          self.player.addEventListener('error', e => {\r\n            self.fire('error', e);\r\n          });\r\n        }\r\n\r\n        callback(self.$video);\r\n      });\r\n    }\r\n\r\n    init() {\r\n      const self = this;\r\n      self.playerID = `VideoWorker-${self.ID}`;\r\n    }\r\n\r\n    loadAPI() {\r\n      const self = this;\r\n\r\n      if (YoutubeAPIadded && VimeoAPIadded) {\r\n        return;\r\n      }\r\n\r\n      let src = ''; // load Youtube API\r\n\r\n      if (self.type === 'youtube' && !YoutubeAPIadded) {\r\n        YoutubeAPIadded = 1;\r\n        src = 'https://www.youtube.com/iframe_api';\r\n      } // load Vimeo API\r\n\r\n\r\n      if (self.type === 'vimeo' && !VimeoAPIadded) {\r\n        VimeoAPIadded = 1; // Useful when Vimeo API added using RequireJS https://github.com/nk-o/video-worker/pull/7\r\n\r\n        if (typeof global$1$1.Vimeo !== 'undefined') {\r\n          return;\r\n        }\r\n\r\n        src = 'https://player.vimeo.com/api/player.js';\r\n      }\r\n\r\n      if (!src) {\r\n        return;\r\n      } // add script in head section\r\n\r\n\r\n      let tag = document.createElement('script');\r\n      let head = document.getElementsByTagName('head')[0];\r\n      tag.src = src;\r\n      head.appendChild(tag);\r\n      head = null;\r\n      tag = null;\r\n    }\r\n\r\n    onAPIready(callback) {\r\n      const self = this; // Youtube\r\n\r\n      if (self.type === 'youtube') {\r\n        // Listen for global YT player callback\r\n        if ((typeof global$1$1.YT === 'undefined' || global$1$1.YT.loaded === 0) && !loadingYoutubePlayer) {\r\n          // Prevents Ready event from being called twice\r\n          loadingYoutubePlayer = 1; // Creates deferred so, other players know when to wait.\r\n\r\n          global$1$1.onYouTubeIframeAPIReady = function () {\r\n            global$1$1.onYouTubeIframeAPIReady = null;\r\n            loadingYoutubeDefer.resolve('done');\r\n            callback();\r\n          };\r\n        } else if (typeof global$1$1.YT === 'object' && global$1$1.YT.loaded === 1) {\r\n          callback();\r\n        } else {\r\n          loadingYoutubeDefer.done(() => {\r\n            callback();\r\n          });\r\n        }\r\n      } // Vimeo\r\n\r\n\r\n      if (self.type === 'vimeo') {\r\n        if (typeof global$1$1.Vimeo === 'undefined' && !loadingVimeoPlayer) {\r\n          loadingVimeoPlayer = 1;\r\n          const vimeoInterval = setInterval(() => {\r\n            if (typeof global$1$1.Vimeo !== 'undefined') {\r\n              clearInterval(vimeoInterval);\r\n              loadingVimeoDefer.resolve('done');\r\n              callback();\r\n            }\r\n          }, 20);\r\n        } else if (typeof global$1$1.Vimeo !== 'undefined') {\r\n          callback();\r\n        } else {\r\n          loadingVimeoDefer.done(() => {\r\n            callback();\r\n          });\r\n        }\r\n      } // Local\r\n\r\n\r\n      if (self.type === 'local') {\r\n        callback();\r\n      }\r\n    }\r\n\r\n  }\r\n\r\n  function ready(callback) {\r\n    if ('complete' === document.readyState || 'interactive' === document.readyState) {\r\n      // Already ready or interactive, execute callback\r\n      callback();\r\n    } else {\r\n      document.addEventListener('DOMContentLoaded', callback, {\r\n        capture: true,\r\n        once: true,\r\n        passive: true\r\n      });\r\n    }\r\n  }\r\n\r\n  /* eslint-disable import/no-mutable-exports */\r\n\r\n  /* eslint-disable no-restricted-globals */\r\n  let win;\r\n\r\n  if ('undefined' !== typeof window) {\r\n    win = window;\r\n  } else if ('undefined' !== typeof global) {\r\n    win = global;\r\n  } else if ('undefined' !== typeof self) {\r\n    win = self;\r\n  } else {\r\n    win = {};\r\n  }\r\n\r\n  var global$1 = win;\r\n\r\n  function jarallaxVideo(jarallax = global$1.jarallax) {\r\n    if ('undefined' === typeof jarallax) {\r\n      return;\r\n    }\r\n\r\n    const Jarallax = jarallax.constructor; // append video after when block will be visible.\r\n\r\n    const defOnScroll = Jarallax.prototype.onScroll;\r\n\r\n    Jarallax.prototype.onScroll = function () {\r\n      const self = this;\r\n      defOnScroll.apply(self);\r\n      const isReady = !self.isVideoInserted && self.video && (!self.options.videoLazyLoading || self.isElementInViewport) && !self.options.disableVideo();\r\n\r\n      if (isReady) {\r\n        self.isVideoInserted = true;\r\n        self.video.getVideo(video => {\r\n          const $parent = video.parentNode;\r\n          self.css(video, {\r\n            position: self.image.position,\r\n            top: '0px',\r\n            left: '0px',\r\n            right: '0px',\r\n            bottom: '0px',\r\n            width: '100%',\r\n            height: '100%',\r\n            maxWidth: 'none',\r\n            maxHeight: 'none',\r\n            pointerEvents: 'none',\r\n            transformStyle: 'preserve-3d',\r\n            backfaceVisibility: 'hidden',\r\n            willChange: 'transform,opacity',\r\n            margin: 0,\r\n            zIndex: -1\r\n          });\r\n          self.$video = video; // add Poster attribute to self-hosted video\r\n\r\n          if ('local' === self.video.type) {\r\n            if (self.image.src) {\r\n              self.$video.setAttribute('poster', self.image.src);\r\n            } else if (self.image.$item && 'IMG' === self.image.$item.tagName && self.image.$item.src) {\r\n              self.$video.setAttribute('poster', self.image.$item.src);\r\n            }\r\n          } // insert video tag\r\n\r\n\r\n          self.image.$container.appendChild(video); // remove parent video element (created by VideoWorker)\r\n\r\n          $parent.parentNode.removeChild($parent); // call onVideoInsert event\r\n\r\n          if (self.options.onVideoInsert) {\r\n            self.options.onVideoInsert.call(self);\r\n          }\r\n        });\r\n      }\r\n    }; // cover video\r\n\r\n\r\n    const defCoverImage = Jarallax.prototype.coverImage;\r\n\r\n    Jarallax.prototype.coverImage = function () {\r\n      const self = this;\r\n      const imageData = defCoverImage.apply(self);\r\n      const node = self.image.$item ? self.image.$item.nodeName : false;\r\n\r\n      if (imageData && self.video && node && ('IFRAME' === node || 'VIDEO' === node)) {\r\n        let h = imageData.image.height;\r\n        let w = h * self.image.width / self.image.height;\r\n        let ml = (imageData.container.width - w) / 2;\r\n        let mt = imageData.image.marginTop;\r\n\r\n        if (imageData.container.width > w) {\r\n          w = imageData.container.width;\r\n          h = w * self.image.height / self.image.width;\r\n          ml = 0;\r\n          mt += (imageData.image.height - h) / 2;\r\n        } // add video height over than need to hide controls\r\n\r\n\r\n        if ('IFRAME' === node) {\r\n          h += 400;\r\n          mt -= 200;\r\n        }\r\n\r\n        self.css(self.$video, {\r\n          width: `${w}px`,\r\n          marginLeft: `${ml}px`,\r\n          height: `${h}px`,\r\n          marginTop: `${mt}px`\r\n        });\r\n      }\r\n\r\n      return imageData;\r\n    }; // init video\r\n\r\n\r\n    const defInitImg = Jarallax.prototype.initImg;\r\n\r\n    Jarallax.prototype.initImg = function () {\r\n      const self = this;\r\n      const defaultResult = defInitImg.apply(self);\r\n\r\n      if (!self.options.videoSrc) {\r\n        self.options.videoSrc = self.$item.getAttribute('data-jarallax-video') || null;\r\n      }\r\n\r\n      if (self.options.videoSrc) {\r\n        self.defaultInitImgResult = defaultResult;\r\n        return true;\r\n      }\r\n\r\n      return defaultResult;\r\n    };\r\n\r\n    const defCanInitParallax = Jarallax.prototype.canInitParallax;\r\n\r\n    Jarallax.prototype.canInitParallax = function () {\r\n      const self = this;\r\n      let defaultResult = defCanInitParallax.apply(self);\r\n\r\n      if (!self.options.videoSrc) {\r\n        return defaultResult;\r\n      } // Init video api\r\n\r\n\r\n      const video = new VideoWorker(self.options.videoSrc, {\r\n        autoplay: true,\r\n        loop: self.options.videoLoop,\r\n        showControls: false,\r\n        accessibilityHidden: true,\r\n        startTime: self.options.videoStartTime || 0,\r\n        endTime: self.options.videoEndTime || 0,\r\n        mute: self.options.videoVolume ? 0 : 1,\r\n        volume: self.options.videoVolume || 0\r\n      }); // call onVideoWorkerInit event\r\n\r\n      if (self.options.onVideoWorkerInit) {\r\n        self.options.onVideoWorkerInit.call(self, video);\r\n      }\r\n\r\n      function resetDefaultImage() {\r\n        if (self.image.$default_item) {\r\n          self.image.$item = self.image.$default_item;\r\n          self.image.$item.style.display = 'block'; // set image width and height\r\n\r\n          self.coverImage();\r\n          self.onScroll();\r\n        }\r\n      }\r\n\r\n      if (video.isValid()) {\r\n        // Force enable parallax.\r\n        // When the parallax disabled on mobile devices, we still need to display videos.\r\n        // https://github.com/nk-o/jarallax/issues/159\r\n        if (this.options.disableParallax()) {\r\n          defaultResult = true;\r\n          self.image.position = 'absolute';\r\n          self.options.type = 'scroll';\r\n          self.options.speed = 1;\r\n        } // if parallax will not be inited, we can add thumbnail on background.\r\n\r\n\r\n        if (!defaultResult) {\r\n          if (!self.defaultInitImgResult) {\r\n            video.getImageURL(url => {\r\n              // save default user styles\r\n              const curStyle = self.$item.getAttribute('style');\r\n\r\n              if (curStyle) {\r\n                self.$item.setAttribute('data-jarallax-original-styles', curStyle);\r\n              } // set new background\r\n\r\n\r\n              self.css(self.$item, {\r\n                'background-image': `url(\"${url}\")`,\r\n                'background-position': 'center',\r\n                'background-size': 'cover'\r\n              });\r\n            });\r\n          } // init video\r\n\r\n        } else {\r\n          video.on('ready', () => {\r\n            if (self.options.videoPlayOnlyVisible) {\r\n              const oldOnScroll = self.onScroll;\r\n\r\n              self.onScroll = function () {\r\n                oldOnScroll.apply(self);\r\n\r\n                if (!self.videoError && (self.options.videoLoop || !self.options.videoLoop && !self.videoEnded)) {\r\n                  if (self.isVisible()) {\r\n                    video.play();\r\n                  } else {\r\n                    video.pause();\r\n                  }\r\n                }\r\n              };\r\n            } else {\r\n              video.play();\r\n            }\r\n          });\r\n          video.on('started', () => {\r\n            self.image.$default_item = self.image.$item;\r\n            self.image.$item = self.$video; // set video width and height\r\n\r\n            self.image.width = self.video.videoWidth || 1280;\r\n            self.image.height = self.video.videoHeight || 720;\r\n            self.coverImage();\r\n            self.onScroll(); // hide image\r\n\r\n            if (self.image.$default_item) {\r\n              self.image.$default_item.style.display = 'none';\r\n            }\r\n          });\r\n          video.on('ended', () => {\r\n            self.videoEnded = true;\r\n\r\n            if (!self.options.videoLoop) {\r\n              // show default image if Loop disabled.\r\n              resetDefaultImage();\r\n            }\r\n          });\r\n          video.on('error', () => {\r\n            self.videoError = true; // show default image if video loading error.\r\n\r\n            resetDefaultImage();\r\n          });\r\n          self.video = video; // set image if not exists\r\n\r\n          if (!self.defaultInitImgResult) {\r\n            // set empty image on self-hosted video if not defined\r\n            self.image.src = 'data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7';\r\n\r\n            if ('local' !== video.type) {\r\n              video.getImageURL(url => {\r\n                self.image.bgImage = `url(\"${url}\")`;\r\n                self.init();\r\n              });\r\n              return false;\r\n            }\r\n          }\r\n        }\r\n      }\r\n\r\n      return defaultResult;\r\n    }; // Destroy video parallax\r\n\r\n\r\n    const defDestroy = Jarallax.prototype.destroy;\r\n\r\n    Jarallax.prototype.destroy = function () {\r\n      const self = this;\r\n\r\n      if (self.image.$default_item) {\r\n        self.image.$item = self.image.$default_item;\r\n        delete self.image.$default_item;\r\n      }\r\n\r\n      defDestroy.apply(self);\r\n    };\r\n  }\r\n\r\n  jarallaxVideo(); // data-jarallax-video initialization\r\n\r\n  ready(() => {\r\n    if ('undefined' !== typeof global$1.jarallax) {\r\n      global$1.jarallax(document.querySelectorAll('[data-jarallax-video]'));\r\n    }\r\n  }); // We should add VideoWorker globally, since some project uses it.\r\n\r\n  if (!global$1.VideoWorker) {\r\n    global$1.VideoWorker = VideoWorker;\r\n  }\r\n\r\n  return jarallaxVideo;\r\n\r\n}));\r\n//# sourceMappingURL=jarallax-video.js.map\r\n","Magento_PageBuilder/js/resource/jarallax/jarallax-wrapper.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\ndefine([\r\n    'Magento_PageBuilder/js/resource/jarallax/jarallax'\r\n], function(jarallax){\r\n    'use strict';\r\n\r\n    window.jarallax = window.jarallax || jarallax;\r\n});\r\n","Magento_PageBuilder/js/resource/jarallax/jarallax.js":"/*!\r\n * Jarallax v2.0.3 (https://github.com/nk-o/jarallax)\r\n * Copyright 2022 nK <https://nkdev.info>\r\n * Licensed under MIT (https://github.com/nk-o/jarallax/blob/master/LICENSE)\r\n */\r\n(function (global, factory) {\r\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\r\n      typeof define === 'function' && define.amd ? define(factory) :\r\n          (global = typeof globalThis !== 'undefined' ? globalThis : global || self, global.jarallax = factory());\r\n})(this, (function () { 'use strict';\r\n\r\n  function ready(callback) {\r\n    if ('complete' === document.readyState || 'interactive' === document.readyState) {\r\n      // Already ready or interactive, execute callback\r\n      callback();\r\n    } else {\r\n      document.addEventListener('DOMContentLoaded', callback, {\r\n        capture: true,\r\n        once: true,\r\n        passive: true\r\n      });\r\n    }\r\n  }\r\n\r\n  /* eslint-disable import/no-mutable-exports */\r\n\r\n  /* eslint-disable no-restricted-globals */\r\n  let win;\r\n\r\n  if ('undefined' !== typeof window) {\r\n    win = window;\r\n  } else if ('undefined' !== typeof global) {\r\n    win = global;\r\n  } else if ('undefined' !== typeof self) {\r\n    win = self;\r\n  } else {\r\n    win = {};\r\n  }\r\n\r\n  var global$1 = win;\r\n\r\n  const {\r\n    navigator\r\n  } = global$1;\r\n  const isMobile = /*#__PURE__*/ /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);\r\n  let $deviceHelper;\r\n  /**\r\n   * The most popular mobile browsers changes height after page scroll and this generates image jumping.\r\n   * We can fix it using this workaround with vh units.\r\n   */\r\n\r\n  function getDeviceHeight() {\r\n    if (!$deviceHelper && document.body) {\r\n      $deviceHelper = document.createElement('div');\r\n      $deviceHelper.style.cssText = 'position: fixed; top: -9999px; left: 0; height: 100vh; width: 0;';\r\n      document.body.appendChild($deviceHelper);\r\n    }\r\n\r\n    return ($deviceHelper ? $deviceHelper.clientHeight : 0) || global$1.innerHeight || document.documentElement.clientHeight;\r\n  } // Window height data\r\n\r\n\r\n  let wndH;\r\n\r\n  function updateWndVars() {\r\n    if (isMobile) {\r\n      wndH = getDeviceHeight();\r\n    } else {\r\n      wndH = global$1.innerHeight || document.documentElement.clientHeight;\r\n    }\r\n  }\r\n\r\n  updateWndVars();\r\n  global$1.addEventListener('resize', updateWndVars);\r\n  global$1.addEventListener('orientationchange', updateWndVars);\r\n  global$1.addEventListener('load', updateWndVars);\r\n  ready(() => {\r\n    updateWndVars();\r\n  }); // list with all jarallax instances\r\n  // need to render all in one scroll/resize event\r\n\r\n  const jarallaxList = []; // get all parents of the element.\r\n\r\n  function getParents(elem) {\r\n    const parents = [];\r\n\r\n    while (null !== elem.parentElement) {\r\n      elem = elem.parentElement;\r\n\r\n      if (1 === elem.nodeType) {\r\n        parents.push(elem);\r\n      }\r\n    }\r\n\r\n    return parents;\r\n  }\r\n\r\n  function updateParallax() {\r\n    if (!jarallaxList.length) {\r\n      return;\r\n    }\r\n\r\n    jarallaxList.forEach((data, k) => {\r\n      const {\r\n        instance,\r\n        oldData\r\n      } = data;\r\n      const clientRect = instance.$item.getBoundingClientRect();\r\n      const newData = {\r\n        width: clientRect.width,\r\n        height: clientRect.height,\r\n        top: clientRect.top,\r\n        bottom: clientRect.bottom,\r\n        wndW: global$1.innerWidth,\r\n        wndH\r\n      };\r\n      const isResized = !oldData || oldData.wndW !== newData.wndW || oldData.wndH !== newData.wndH || oldData.width !== newData.width || oldData.height !== newData.height;\r\n      const isScrolled = isResized || !oldData || oldData.top !== newData.top || oldData.bottom !== newData.bottom;\r\n      jarallaxList[k].oldData = newData;\r\n\r\n      if (isResized) {\r\n        instance.onResize();\r\n      }\r\n\r\n      if (isScrolled) {\r\n        instance.onScroll();\r\n      }\r\n    });\r\n    global$1.requestAnimationFrame(updateParallax);\r\n  }\r\n\r\n  let instanceID = 0; // Jarallax class\r\n\r\n  class Jarallax {\r\n    constructor(item, userOptions) {\r\n      const self = this;\r\n      self.instanceID = instanceID;\r\n      instanceID += 1;\r\n      self.$item = item;\r\n      self.defaults = {\r\n        type: 'scroll',\r\n        // type of parallax: scroll, scale, opacity, scale-opacity, scroll-opacity\r\n        speed: 0.5,\r\n        // supported value from -1 to 2\r\n        imgSrc: null,\r\n        imgElement: '.jarallax-img',\r\n        imgSize: 'cover',\r\n        imgPosition: '50% 50%',\r\n        imgRepeat: 'no-repeat',\r\n        // supported only for background, not for <img> tag\r\n        keepImg: false,\r\n        // keep <img> tag in it's default place\r\n        elementInViewport: null,\r\n        zIndex: -100,\r\n        disableParallax: false,\r\n        disableVideo: false,\r\n        // video\r\n        videoSrc: null,\r\n        videoStartTime: 0,\r\n        videoEndTime: 0,\r\n        videoVolume: 0,\r\n        videoLoop: true,\r\n        videoPlayOnlyVisible: true,\r\n        videoLazyLoading: true,\r\n        // events\r\n        onScroll: null,\r\n        // function(calculations) {}\r\n        onInit: null,\r\n        // function() {}\r\n        onDestroy: null,\r\n        // function() {}\r\n        onCoverImage: null // function() {}\r\n\r\n      }; // prepare data-options\r\n\r\n      const dataOptions = self.$item.dataset || {};\r\n      const pureDataOptions = {};\r\n      Object.keys(dataOptions).forEach(key => {\r\n        const loweCaseOption = key.substr(0, 1).toLowerCase() + key.substr(1);\r\n\r\n        if (loweCaseOption && 'undefined' !== typeof self.defaults[loweCaseOption]) {\r\n          pureDataOptions[loweCaseOption] = dataOptions[key];\r\n        }\r\n      });\r\n      self.options = self.extend({}, self.defaults, pureDataOptions, userOptions);\r\n      self.pureOptions = self.extend({}, self.options); // prepare 'true' and 'false' strings to boolean\r\n\r\n      Object.keys(self.options).forEach(key => {\r\n        if ('true' === self.options[key]) {\r\n          self.options[key] = true;\r\n        } else if ('false' === self.options[key]) {\r\n          self.options[key] = false;\r\n        }\r\n      }); // fix speed option [-1.0, 2.0]\r\n\r\n      self.options.speed = Math.min(2, Math.max(-1, parseFloat(self.options.speed))); // prepare disableParallax callback\r\n\r\n      if ('string' === typeof self.options.disableParallax) {\r\n        self.options.disableParallax = new RegExp(self.options.disableParallax);\r\n      }\r\n\r\n      if (self.options.disableParallax instanceof RegExp) {\r\n        const disableParallaxRegexp = self.options.disableParallax;\r\n\r\n        self.options.disableParallax = () => disableParallaxRegexp.test(navigator.userAgent);\r\n      }\r\n\r\n      if ('function' !== typeof self.options.disableParallax) {\r\n        self.options.disableParallax = () => false;\r\n      } // prepare disableVideo callback\r\n\r\n\r\n      if ('string' === typeof self.options.disableVideo) {\r\n        self.options.disableVideo = new RegExp(self.options.disableVideo);\r\n      }\r\n\r\n      if (self.options.disableVideo instanceof RegExp) {\r\n        const disableVideoRegexp = self.options.disableVideo;\r\n\r\n        self.options.disableVideo = () => disableVideoRegexp.test(navigator.userAgent);\r\n      }\r\n\r\n      if ('function' !== typeof self.options.disableVideo) {\r\n        self.options.disableVideo = () => false;\r\n      } // custom element to check if parallax in viewport\r\n\r\n\r\n      let elementInVP = self.options.elementInViewport; // get first item from array\r\n\r\n      if (elementInVP && 'object' === typeof elementInVP && 'undefined' !== typeof elementInVP.length) {\r\n        [elementInVP] = elementInVP;\r\n      } // check if dom element\r\n\r\n\r\n      if (!(elementInVP instanceof Element)) {\r\n        elementInVP = null;\r\n      }\r\n\r\n      self.options.elementInViewport = elementInVP;\r\n      self.image = {\r\n        src: self.options.imgSrc || null,\r\n        $container: null,\r\n        useImgTag: false,\r\n        // 1. Position fixed is needed for the most of browsers because absolute position have glitches\r\n        // 2. On MacOS with smooth scroll there is a huge lags with absolute position - https://github.com/nk-o/jarallax/issues/75\r\n        // 3. Previously used 'absolute' for mobile devices. But we re-tested on iPhone 12 and 'fixed' position is working better, then 'absolute', so for now position is always 'fixed'\r\n        position: 'fixed'\r\n      };\r\n\r\n      if (self.initImg() && self.canInitParallax()) {\r\n        self.init();\r\n      }\r\n    } // add styles to element\r\n    // eslint-disable-next-line class-methods-use-this\r\n\r\n\r\n    css(el, styles) {\r\n      if ('string' === typeof styles) {\r\n        return global$1.getComputedStyle(el).getPropertyValue(styles);\r\n      }\r\n\r\n      Object.keys(styles).forEach(key => {\r\n        el.style[key] = styles[key];\r\n      });\r\n      return el;\r\n    } // Extend like jQuery.extend\r\n    // eslint-disable-next-line class-methods-use-this\r\n\r\n\r\n    extend(out, ...args) {\r\n      out = out || {};\r\n      Object.keys(args).forEach(i => {\r\n        if (!args[i]) {\r\n          return;\r\n        }\r\n\r\n        Object.keys(args[i]).forEach(key => {\r\n          out[key] = args[i][key];\r\n        });\r\n      });\r\n      return out;\r\n    } // get window size and scroll position. Useful for extensions\r\n    // eslint-disable-next-line class-methods-use-this\r\n\r\n\r\n    getWindowData() {\r\n      return {\r\n        width: global$1.innerWidth || document.documentElement.clientWidth,\r\n        height: wndH,\r\n        y: document.documentElement.scrollTop\r\n      };\r\n    } // Jarallax functions\r\n\r\n\r\n    initImg() {\r\n      const self = this; // find image element\r\n\r\n      let $imgElement = self.options.imgElement;\r\n\r\n      if ($imgElement && 'string' === typeof $imgElement) {\r\n        $imgElement = self.$item.querySelector($imgElement);\r\n      } // check if dom element\r\n\r\n\r\n      if (!($imgElement instanceof Element)) {\r\n        if (self.options.imgSrc) {\r\n          $imgElement = new Image();\r\n          $imgElement.src = self.options.imgSrc;\r\n        } else {\r\n          $imgElement = null;\r\n        }\r\n      }\r\n\r\n      if ($imgElement) {\r\n        if (self.options.keepImg) {\r\n          self.image.$item = $imgElement.cloneNode(true);\r\n        } else {\r\n          self.image.$item = $imgElement;\r\n          self.image.$itemParent = $imgElement.parentNode;\r\n        }\r\n\r\n        self.image.useImgTag = true;\r\n      } // true if there is img tag\r\n\r\n\r\n      if (self.image.$item) {\r\n        return true;\r\n      } // get image src\r\n\r\n\r\n      if (null === self.image.src) {\r\n        self.image.src = 'data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7';\r\n        self.image.bgImage = self.css(self.$item, 'background-image');\r\n      }\r\n\r\n      return !(!self.image.bgImage || 'none' === self.image.bgImage);\r\n    }\r\n\r\n    canInitParallax() {\r\n      return !this.options.disableParallax();\r\n    }\r\n\r\n    init() {\r\n      const self = this;\r\n      const containerStyles = {\r\n        position: 'absolute',\r\n        top: 0,\r\n        left: 0,\r\n        width: '100%',\r\n        height: '100%',\r\n        overflow: 'hidden'\r\n      };\r\n      let imageStyles = {\r\n        pointerEvents: 'none',\r\n        transformStyle: 'preserve-3d',\r\n        backfaceVisibility: 'hidden',\r\n        willChange: 'transform,opacity'\r\n      };\r\n\r\n      if (!self.options.keepImg) {\r\n        // save default user styles\r\n        const curStyle = self.$item.getAttribute('style');\r\n\r\n        if (curStyle) {\r\n          self.$item.setAttribute('data-jarallax-original-styles', curStyle);\r\n        }\r\n\r\n        if (self.image.useImgTag) {\r\n          const curImgStyle = self.image.$item.getAttribute('style');\r\n\r\n          if (curImgStyle) {\r\n            self.image.$item.setAttribute('data-jarallax-original-styles', curImgStyle);\r\n          }\r\n        }\r\n      } // set relative position and z-index to the parent\r\n\r\n\r\n      if ('static' === self.css(self.$item, 'position')) {\r\n        self.css(self.$item, {\r\n          position: 'relative'\r\n        });\r\n      }\r\n\r\n      if ('auto' === self.css(self.$item, 'z-index')) {\r\n        self.css(self.$item, {\r\n          zIndex: 0\r\n        });\r\n      } // container for parallax image\r\n\r\n\r\n      self.image.$container = document.createElement('div');\r\n      self.css(self.image.$container, containerStyles);\r\n      self.css(self.image.$container, {\r\n        'z-index': self.options.zIndex\r\n      }); // it will remove some image overlapping\r\n      // overlapping occur due to an image position fixed inside absolute position element\r\n      // needed only when background in fixed position\r\n\r\n      if ('fixed' === this.image.position) {\r\n        self.css(self.image.$container, {\r\n          '-webkit-clip-path': 'polygon(0 0, 100% 0, 100% 100%, 0 100%)',\r\n          'clip-path': 'polygon(0 0, 100% 0, 100% 100%, 0 100%)'\r\n        });\r\n      }\r\n\r\n      self.image.$container.setAttribute('id', `jarallax-container-${self.instanceID}`);\r\n      self.$item.appendChild(self.image.$container); // use img tag\r\n\r\n      if (self.image.useImgTag) {\r\n        imageStyles = self.extend({\r\n          'object-fit': self.options.imgSize,\r\n          'object-position': self.options.imgPosition,\r\n          'max-width': 'none'\r\n        }, containerStyles, imageStyles); // use div with background image\r\n      } else {\r\n        self.image.$item = document.createElement('div');\r\n\r\n        if (self.image.src) {\r\n          imageStyles = self.extend({\r\n            'background-position': self.options.imgPosition,\r\n            'background-size': self.options.imgSize,\r\n            'background-repeat': self.options.imgRepeat,\r\n            'background-image': self.image.bgImage || `url(\"${self.image.src}\")`\r\n          }, containerStyles, imageStyles);\r\n        }\r\n      }\r\n\r\n      if ('opacity' === self.options.type || 'scale' === self.options.type || 'scale-opacity' === self.options.type || 1 === self.options.speed) {\r\n        self.image.position = 'absolute';\r\n      } // 1. Check if one of parents have transform style (without this check, scroll transform will be inverted if used parallax with position fixed)\r\n      //    discussion - https://github.com/nk-o/jarallax/issues/9\r\n      // 2. Check if parents have overflow scroll\r\n\r\n\r\n      if ('fixed' === self.image.position) {\r\n        const $parents = getParents(self.$item).filter(el => {\r\n          const styles = global$1.getComputedStyle(el);\r\n          const parentTransform = styles['-webkit-transform'] || styles['-moz-transform'] || styles.transform;\r\n          const overflowRegex = /(auto|scroll)/;\r\n          return parentTransform && 'none' !== parentTransform || overflowRegex.test(styles.overflow + styles['overflow-y'] + styles['overflow-x']);\r\n        });\r\n        self.image.position = $parents.length ? 'absolute' : 'fixed';\r\n      } // add position to parallax block\r\n\r\n\r\n      imageStyles.position = self.image.position; // insert parallax image\r\n\r\n      self.css(self.image.$item, imageStyles);\r\n      self.image.$container.appendChild(self.image.$item); // set initial position and size\r\n\r\n      self.onResize();\r\n      self.onScroll(true); // call onInit event\r\n\r\n      if (self.options.onInit) {\r\n        self.options.onInit.call(self);\r\n      } // remove default user background\r\n\r\n\r\n      if ('none' !== self.css(self.$item, 'background-image')) {\r\n        self.css(self.$item, {\r\n          'background-image': 'none'\r\n        });\r\n      }\r\n\r\n      self.addToParallaxList();\r\n    } // add to parallax instances list\r\n\r\n\r\n    addToParallaxList() {\r\n      jarallaxList.push({\r\n        instance: this\r\n      });\r\n\r\n      if (1 === jarallaxList.length) {\r\n        global$1.requestAnimationFrame(updateParallax);\r\n      }\r\n    } // remove from parallax instances list\r\n\r\n\r\n    removeFromParallaxList() {\r\n      const self = this;\r\n      jarallaxList.forEach((data, key) => {\r\n        if (data.instance.instanceID === self.instanceID) {\r\n          jarallaxList.splice(key, 1);\r\n        }\r\n      });\r\n    }\r\n\r\n    destroy() {\r\n      const self = this;\r\n      self.removeFromParallaxList(); // return styles on container as before jarallax init\r\n\r\n      const originalStylesTag = self.$item.getAttribute('data-jarallax-original-styles');\r\n      self.$item.removeAttribute('data-jarallax-original-styles'); // null occurs if there is no style tag before jarallax init\r\n\r\n      if (!originalStylesTag) {\r\n        self.$item.removeAttribute('style');\r\n      } else {\r\n        self.$item.setAttribute('style', originalStylesTag);\r\n      }\r\n\r\n      if (self.image.useImgTag) {\r\n        // return styles on img tag as before jarallax init\r\n        const originalStylesImgTag = self.image.$item.getAttribute('data-jarallax-original-styles');\r\n        self.image.$item.removeAttribute('data-jarallax-original-styles'); // null occurs if there is no style tag before jarallax init\r\n\r\n        if (!originalStylesImgTag) {\r\n          self.image.$item.removeAttribute('style');\r\n        } else {\r\n          self.image.$item.setAttribute('style', originalStylesTag);\r\n        } // move img tag to its default position\r\n\r\n\r\n        if (self.image.$itemParent) {\r\n          self.image.$itemParent.appendChild(self.image.$item);\r\n        }\r\n      } // remove additional dom elements\r\n\r\n\r\n      if (self.image.$container) {\r\n        self.image.$container.parentNode.removeChild(self.image.$container);\r\n      } // call onDestroy event\r\n\r\n\r\n      if (self.options.onDestroy) {\r\n        self.options.onDestroy.call(self);\r\n      } // delete jarallax from item\r\n\r\n\r\n      delete self.$item.jarallax;\r\n    } // Fallback for removed function.\r\n    // Does nothing now.\r\n    // eslint-disable-next-line class-methods-use-this\r\n\r\n\r\n    clipContainer() {}\r\n\r\n    coverImage() {\r\n      const self = this;\r\n      const rect = self.image.$container.getBoundingClientRect();\r\n      const contH = rect.height;\r\n      const {\r\n        speed\r\n      } = self.options;\r\n      const isScroll = 'scroll' === self.options.type || 'scroll-opacity' === self.options.type;\r\n      let scrollDist = 0;\r\n      let resultH = contH;\r\n      let resultMT = 0; // scroll parallax\r\n\r\n      if (isScroll) {\r\n        // scroll distance and height for image\r\n        if (0 > speed) {\r\n          scrollDist = speed * Math.max(contH, wndH);\r\n\r\n          if (wndH < contH) {\r\n            scrollDist -= speed * (contH - wndH);\r\n          }\r\n        } else {\r\n          scrollDist = speed * (contH + wndH);\r\n        } // size for scroll parallax\r\n\r\n\r\n        if (1 < speed) {\r\n          resultH = Math.abs(scrollDist - wndH);\r\n        } else if (0 > speed) {\r\n          resultH = scrollDist / speed + Math.abs(scrollDist);\r\n        } else {\r\n          resultH += (wndH - contH) * (1 - speed);\r\n        }\r\n\r\n        scrollDist /= 2;\r\n      } // store scroll distance\r\n\r\n\r\n      self.parallaxScrollDistance = scrollDist; // vertical center\r\n\r\n      if (isScroll) {\r\n        resultMT = (wndH - resultH) / 2;\r\n      } else {\r\n        resultMT = (contH - resultH) / 2;\r\n      } // apply result to item\r\n\r\n\r\n      self.css(self.image.$item, {\r\n        height: `${resultH}px`,\r\n        marginTop: `${resultMT}px`,\r\n        left: 'fixed' === self.image.position ? `${rect.left}px` : '0',\r\n        width: `${rect.width}px`\r\n      }); // call onCoverImage event\r\n\r\n      if (self.options.onCoverImage) {\r\n        self.options.onCoverImage.call(self);\r\n      } // return some useful data. Used in the video cover function\r\n\r\n\r\n      return {\r\n        image: {\r\n          height: resultH,\r\n          marginTop: resultMT\r\n        },\r\n        container: rect\r\n      };\r\n    }\r\n\r\n    isVisible() {\r\n      return this.isElementInViewport || false;\r\n    }\r\n\r\n    onScroll(force) {\r\n      const self = this;\r\n      const rect = self.$item.getBoundingClientRect();\r\n      const contT = rect.top;\r\n      const contH = rect.height;\r\n      const styles = {}; // check if in viewport\r\n\r\n      let viewportRect = rect;\r\n\r\n      if (self.options.elementInViewport) {\r\n        viewportRect = self.options.elementInViewport.getBoundingClientRect();\r\n      }\r\n\r\n      self.isElementInViewport = 0 <= viewportRect.bottom && 0 <= viewportRect.right && viewportRect.top <= wndH && viewportRect.left <= global$1.innerWidth; // stop calculations if item is not in viewport\r\n\r\n      if (force ? false : !self.isElementInViewport) {\r\n        return;\r\n      } // calculate parallax helping variables\r\n\r\n\r\n      const beforeTop = Math.max(0, contT);\r\n      const beforeTopEnd = Math.max(0, contH + contT);\r\n      const afterTop = Math.max(0, -contT);\r\n      const beforeBottom = Math.max(0, contT + contH - wndH);\r\n      const beforeBottomEnd = Math.max(0, contH - (contT + contH - wndH));\r\n      const afterBottom = Math.max(0, -contT + wndH - contH);\r\n      const fromViewportCenter = 1 - 2 * ((wndH - contT) / (wndH + contH)); // calculate on how percent of section is visible\r\n\r\n      let visiblePercent = 1;\r\n\r\n      if (contH < wndH) {\r\n        visiblePercent = 1 - (afterTop || beforeBottom) / contH;\r\n      } else if (beforeTopEnd <= wndH) {\r\n        visiblePercent = beforeTopEnd / wndH;\r\n      } else if (beforeBottomEnd <= wndH) {\r\n        visiblePercent = beforeBottomEnd / wndH;\r\n      } // opacity\r\n\r\n\r\n      if ('opacity' === self.options.type || 'scale-opacity' === self.options.type || 'scroll-opacity' === self.options.type) {\r\n        styles.transform = 'translate3d(0,0,0)';\r\n        styles.opacity = visiblePercent;\r\n      } // scale\r\n\r\n\r\n      if ('scale' === self.options.type || 'scale-opacity' === self.options.type) {\r\n        let scale = 1;\r\n\r\n        if (0 > self.options.speed) {\r\n          scale -= self.options.speed * visiblePercent;\r\n        } else {\r\n          scale += self.options.speed * (1 - visiblePercent);\r\n        }\r\n\r\n        styles.transform = `scale(${scale}) translate3d(0,0,0)`;\r\n      } // scroll\r\n\r\n\r\n      if ('scroll' === self.options.type || 'scroll-opacity' === self.options.type) {\r\n        let positionY = self.parallaxScrollDistance * fromViewportCenter; // fix if parallax block in absolute position\r\n\r\n        if ('absolute' === self.image.position) {\r\n          positionY -= contT;\r\n        }\r\n\r\n        styles.transform = `translate3d(0,${positionY}px,0)`;\r\n      }\r\n\r\n      self.css(self.image.$item, styles); // call onScroll event\r\n\r\n      if (self.options.onScroll) {\r\n        self.options.onScroll.call(self, {\r\n          section: rect,\r\n          beforeTop,\r\n          beforeTopEnd,\r\n          afterTop,\r\n          beforeBottom,\r\n          beforeBottomEnd,\r\n          afterBottom,\r\n          visiblePercent,\r\n          fromViewportCenter\r\n        });\r\n      }\r\n    }\r\n\r\n    onResize() {\r\n      this.coverImage();\r\n    }\r\n\r\n  } // global definition\r\n\r\n\r\n  const jarallax = function (items, options, ...args) {\r\n    // check for dom element\r\n    // thanks: http://stackoverflow.com/questions/384286/javascript-isdom-how-do-you-check-if-a-javascript-object-is-a-dom-object\r\n    if ('object' === typeof HTMLElement ? items instanceof HTMLElement : items && 'object' === typeof items && null !== items && 1 === items.nodeType && 'string' === typeof items.nodeName) {\r\n      items = [items];\r\n    }\r\n\r\n    const len = items.length;\r\n    let k = 0;\r\n    let ret;\r\n\r\n    for (k; k < len; k += 1) {\r\n      if ('object' === typeof options || 'undefined' === typeof options) {\r\n        if (!items[k].jarallax) {\r\n          items[k].jarallax = new Jarallax(items[k], options);\r\n        }\r\n      } else if (items[k].jarallax) {\r\n        // eslint-disable-next-line prefer-spread\r\n        ret = items[k].jarallax[options].apply(items[k].jarallax, args);\r\n      }\r\n\r\n      if ('undefined' !== typeof ret) {\r\n        return ret;\r\n      }\r\n    }\r\n\r\n    return items;\r\n  };\r\n\r\n  jarallax.constructor = Jarallax;\r\n\r\n  const $ = global$1.jQuery; // jQuery support\r\n\r\n  if ('undefined' !== typeof $) {\r\n    const $Plugin = function (...args) {\r\n      Array.prototype.unshift.call(args, this);\r\n      const res = jarallax.apply(global$1, args);\r\n      return 'object' !== typeof res ? res : this;\r\n    };\r\n\r\n    $Plugin.constructor = jarallax.constructor; // no conflict\r\n\r\n    const old$Plugin = $.fn.jarallax;\r\n    $.fn.jarallax = $Plugin;\r\n\r\n    $.fn.jarallax.noConflict = function () {\r\n      $.fn.jarallax = old$Plugin;\r\n      return this;\r\n    };\r\n  } // data-jarallax initialization\r\n\r\n\r\n  ready(() => {\r\n    jarallax(document.querySelectorAll('[data-jarallax]'));\r\n  });\r\n\r\n  return jarallax;\r\n\r\n}));\r\n//# sourceMappingURL=jarallax.js.map\r\n","Magento_PageBuilder/js/resource/jquery/ui/jquery.ui.touch-punch.min.js":"/*!\r\n * jQuery UI Touch Punch 0.2.3\r\n *\r\n * Copyright 2011\u20132014, Dave Furfero\r\n * Dual licensed under the MIT or GPL Version 2 licenses.\r\n *\r\n * Depends:\r\n *  jquery.ui.widget.js\r\n *  jquery.ui.mouse.js\r\n */\r\n!function(a){function f(a,b){if(!(a.originalEvent.touches.length>1)){a.preventDefault();var c=a.originalEvent.changedTouches[0],d=document.createEvent(\"MouseEvents\");d.initMouseEvent(b,!0,!0,window,1,c.screenX,c.screenY,c.clientX,c.clientY,!1,!1,!1,!1,0,null),a.target.dispatchEvent(d)}}if(a.support.touch=\"ontouchend\"in document,a.support.touch){var e,b=a.ui.mouse.prototype,c=b._mouseInit,d=b._mouseDestroy;b._touchStart=function(a){var b=this;!e&&b._mouseCapture(a.originalEvent.changedTouches[0])&&(e=!0,b._touchMoved=!1,f(a,\"mouseover\"),f(a,\"mousemove\"),f(a,\"mousedown\"))},b._touchMove=function(a){e&&(this._touchMoved=!0,f(a,\"mousemove\"))},b._touchEnd=function(a){e&&(f(a,\"mouseup\"),f(a,\"mouseout\"),this._touchMoved||f(a,\"click\"),e=!1)},b._mouseInit=function(){var b=this;b.element.bind({touchstart:a.proxy(b,\"_touchStart\"),touchmove:a.proxy(b,\"_touchMove\"),touchend:a.proxy(b,\"_touchEnd\")}),c.call(b)},b._mouseDestroy=function(){var b=this;b.element.unbind({touchstart:a.proxy(b,\"_touchStart\"),touchmove:a.proxy(b,\"_touchMove\"),touchend:a.proxy(b,\"_touchEnd\")}),d.call(b)}}}(jQuery);\r\n","Magento_PageBuilder/js/resource/resize-observer/ResizeObserver.min.js":"!function(t,e){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=e():\"function\"==typeof define&&define.amd?define(e):t.ResizeObserver=e()}(this,function(){\"use strict\";var i=function(){if(\"undefined\"!=typeof Map)return Map;function i(t,n){var i=-1;return t.some(function(t,e){return t[0]===n&&(i=e,!0)}),i}return function(){function t(){this.__entries__=[]}var e={size:{configurable:!0}};return e.size.get=function(){return this.__entries__.length},t.prototype.get=function(t){var e=i(this.__entries__,t),n=this.__entries__[e];return n&&n[1]},t.prototype.set=function(t,e){var n=i(this.__entries__,t);~n?this.__entries__[n][1]=e:this.__entries__.push([t,e])},t.prototype.delete=function(t){var e=this.__entries__,n=i(e,t);~n&&e.splice(n,1)},t.prototype.has=function(t){return!!~i(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(t,e){void 0===e&&(e=null);for(var n=0,i=this.__entries__;n<i.length;n+=1){var r=i[n];t.call(e,r[1],r[0])}},Object.defineProperties(t.prototype,e),t}()}(),n=\"undefined\"!=typeof window&&\"undefined\"!=typeof document&&window.document===document,e=\"undefined\"!=typeof global&&global.Math===Math?global:\"undefined\"!=typeof self&&self.Math===Math?self:\"undefined\"!=typeof window&&window.Math===Math?window:Function(\"return this\")(),c=\"function\"==typeof requestAnimationFrame?requestAnimationFrame.bind(e):function(t){return setTimeout(function(){return t(Date.now())},1e3/60)},r=[\"top\",\"right\",\"bottom\",\"left\",\"width\",\"height\",\"size\",\"weight\"],t=\"undefined\"!=typeof MutationObserver,o=function(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(t,e){var n=!1,i=!1,r=0;function o(){n&&(n=!1,t()),i&&a()}function s(){c(o)}function a(){var t=Date.now();if(n){if(t-r<2)return;i=!0}else i=!(n=!0),setTimeout(s,e);r=t}return a}(this.refresh.bind(this),20)};o.prototype.addObserver=function(t){~this.observers_.indexOf(t)||this.observers_.push(t),this.connected_||this.connect_()},o.prototype.removeObserver=function(t){var e=this.observers_,n=e.indexOf(t);~n&&e.splice(n,1),!e.length&&this.connected_&&this.disconnect_()},o.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},o.prototype.updateObservers_=function(){var t=this.observers_.filter(function(t){return t.gatherActive(),t.hasActive()});return t.forEach(function(t){return t.broadcastActive()}),0<t.length},o.prototype.connect_=function(){n&&!this.connected_&&(document.addEventListener(\"transitionend\",this.onTransitionEnd_),window.addEventListener(\"resize\",this.refresh),t?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener(\"DOMSubtreeModified\",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},o.prototype.disconnect_=function(){n&&this.connected_&&(document.removeEventListener(\"transitionend\",this.onTransitionEnd_),window.removeEventListener(\"resize\",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener(\"DOMSubtreeModified\",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},o.prototype.onTransitionEnd_=function(t){var e=t.propertyName;void 0===e&&(e=\"\"),r.some(function(t){return!!~e.indexOf(t)})&&this.refresh()},o.getInstance=function(){return this.instance_||(this.instance_=new o),this.instance_},o.instance_=null;var u=function(t,e){for(var n=0,i=Object.keys(e);n<i.length;n+=1){var r=i[n];Object.defineProperty(t,r,{value:e[r],enumerable:!1,writable:!1,configurable:!0})}return t},d=function(t){return t&&t.ownerDocument&&t.ownerDocument.defaultView||e},p=_(0,0,0,0);function v(t){return parseFloat(t)||0}function l(n){for(var t=[],e=arguments.length-1;0<e--;)t[e]=arguments[e+1];return t.reduce(function(t,e){return t+v(n[\"border-\"+e+\"-width\"])},0)}function s(t){var e=t.clientWidth,n=t.clientHeight;if(!e&&!n)return p;var i,r=d(t).getComputedStyle(t),o=function(t){for(var e={},n=0,i=[\"top\",\"right\",\"bottom\",\"left\"];n<i.length;n+=1){var r=i[n],o=t[\"padding-\"+r];e[r]=v(o)}return e}(r),s=o.left+o.right,a=o.top+o.bottom,c=v(r.width),h=v(r.height);if(\"border-box\"===r.boxSizing&&(Math.round(c+s)!==e&&(c-=l(r,\"left\",\"right\")+s),Math.round(h+a)!==n&&(h-=l(r,\"top\",\"bottom\")+a)),(i=t)!==d(i).document.documentElement){var u=Math.round(c+s)-e,f=Math.round(h+a)-n;1!==Math.abs(u)&&(c-=u),1!==Math.abs(f)&&(h-=f)}return _(o.left,o.top,c,h)}var a=\"undefined\"!=typeof SVGGraphicsElement?function(t){return t instanceof d(t).SVGGraphicsElement}:function(t){return t instanceof d(t).SVGElement&&\"function\"==typeof t.getBBox};function h(t){return n?a(t)?_(0,0,(e=t.getBBox()).width,e.height):s(t):p;var e}function _(t,e,n,i){return{x:t,y:e,width:n,height:i}}var f=function(t){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=_(0,0,0,0),this.target=t};f.prototype.isActive=function(){var t=h(this.target);return(this.contentRect_=t).width!==this.broadcastWidth||t.height!==this.broadcastHeight},f.prototype.broadcastRect=function(){var t=this.contentRect_;return this.broadcastWidth=t.width,this.broadcastHeight=t.height,t};var b=function(t,e){var n,i,r,o,s,a,c,h=(i=(n=e).x,r=n.y,o=n.width,s=n.height,a=\"undefined\"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,c=Object.create(a.prototype),u(c,{x:i,y:r,width:o,height:s,top:r,right:i+o,bottom:s+r,left:i}),c);u(this,{target:t,contentRect:h})},m=function(t,e,n){if(this.activeObservations_=[],this.observations_=new i,\"function\"!=typeof t)throw new TypeError(\"The callback provided as parameter 1 is not a function.\");this.callback_=t,this.controller_=e,this.callbackCtx_=n};m.prototype.observe=function(t){if(!arguments.length)throw new TypeError(\"1 argument required, but only 0 present.\");if(\"undefined\"!=typeof Element&&Element instanceof Object){if(!(t instanceof d(t).Element))throw new TypeError('parameter 1 is not of type \"Element\".');var e=this.observations_;e.has(t)||(e.set(t,new f(t)),this.controller_.addObserver(this),this.controller_.refresh())}},m.prototype.unobserve=function(t){if(!arguments.length)throw new TypeError(\"1 argument required, but only 0 present.\");if(\"undefined\"!=typeof Element&&Element instanceof Object){if(!(t instanceof d(t).Element))throw new TypeError('parameter 1 is not of type \"Element\".');var e=this.observations_;e.has(t)&&(e.delete(t),e.size||this.controller_.removeObserver(this))}},m.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},m.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(t){t.isActive()&&e.activeObservations_.push(t)})},m.prototype.broadcastActive=function(){if(this.hasActive()){var t=this.callbackCtx_,e=this.activeObservations_.map(function(t){return new b(t.target,t.broadcastRect())});this.callback_.call(t,e,t),this.clearActive()}},m.prototype.clearActive=function(){this.activeObservations_.splice(0)},m.prototype.hasActive=function(){return 0<this.activeObservations_.length};var y=\"undefined\"!=typeof WeakMap?new WeakMap:new i,g=function(t){if(!(this instanceof g))throw new TypeError(\"Cannot call a class as a function.\");if(!arguments.length)throw new TypeError(\"1 argument required, but only 0 present.\");var e=o.getInstance(),n=new m(t,e,this);y.set(this,n)};return[\"observe\",\"unobserve\",\"disconnect\"].forEach(function(e){g.prototype[e]=function(){return(t=y.get(this))[e].apply(t,arguments);var t}}),void 0!==e.ResizeObserver?e.ResizeObserver:g});\r\n","Magento_PageBuilder/js/resource/slick/slick.min.js":"/*\r\n     _ _      _       _\r\n ___| (_) ___| | __  (_)___\r\n/ __| | |/ __| |/ /  | / __|\r\n\\__ \\ | | (__|   < _ | \\__ \\\r\n|___/_|_|\\___|_|\\_(_)/ |___/\r\n                   |__/\r\n\r\n Version: 1.9.0\r\n  Author: Ken Wheeler\r\n Website: http://kenwheeler.github.io\r\n    Docs: http://kenwheeler.github.io/slick\r\n    Repo: http://github.com/kenwheeler/slick\r\n  Issues: http://github.com/kenwheeler/slick/issues\r\n\r\n */\r\n(function(i){\"use strict\";\"function\"==typeof define&&define.amd?define([\"jquery\"],i):\"undefined\"!=typeof exports?module.exports=i(require(\"jquery\")):i(jQuery)})(function(i){\"use strict\";var e=window.Slick||{};e=function(){function e(e,o){var s,n=this;n.defaults={accessibility:!0,adaptiveHeight:!1,appendArrows:i(e),appendDots:i(e),arrows:!0,asNavFor:null,prevArrow:'<button class=\"slick-prev\" aria-label=\"Previous\" type=\"button\">Previous</button>',nextArrow:'<button class=\"slick-next\" aria-label=\"Next\" type=\"button\">Next</button>',autoplay:!1,autoplaySpeed:3e3,centerMode:!1,centerPadding:\"50px\",cssEase:\"ease\",customPaging:function(e,t){return i('<button type=\"button\" />').text(t+1)},dots:!1,dotsClass:\"slick-dots\",draggable:!0,easing:\"linear\",edgeFriction:.35,fade:!1,focusOnSelect:!1,focusOnChange:!1,infinite:!0,initialSlide:0,lazyLoad:\"ondemand\",mobileFirst:!1,pauseOnHover:!0,pauseOnFocus:!0,pauseOnDotsHover:!1,respondTo:\"window\",responsive:null,rows:1,rtl:!1,slide:\"\",slidesPerRow:1,slidesToShow:1,slidesToScroll:1,speed:500,swipe:!0,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!0,variableWidth:!1,vertical:!1,verticalSwiping:!1,waitForAnimate:!0,zIndex:1e3},n.initials={animating:!1,dragging:!1,autoPlayTimer:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,$dots:null,listWidth:null,listHeight:null,loadIndex:0,$nextArrow:null,$prevArrow:null,scrolling:!1,slideCount:null,slideWidth:null,$slideTrack:null,$slides:null,sliding:!1,slideOffset:0,swipeLeft:null,swiping:!1,$list:null,touchObject:{},transformsEnabled:!1,unslicked:!1},i.extend(n,n.initials),n.activeBreakpoint=null,n.animType=null,n.animProp=null,n.breakpoints=[],n.breakpointSettings=[],n.cssTransitions=!1,n.focussed=!1,n.interrupted=!1,n.hidden=\"hidden\",n.paused=!0,n.positionProp=null,n.respondTo=null,n.rowCount=1,n.shouldClick=!0,n.$slider=i(e),n.$slidesCache=null,n.transformType=null,n.transitionType=null,n.visibilityChange=\"visibilitychange\",n.windowWidth=0,n.windowTimer=null,s=i(e).data(\"slick\")||{},n.options=i.extend({},n.defaults,o,s),n.currentSlide=n.options.initialSlide,n.originalSettings=n.options,\"undefined\"!=typeof document.mozHidden?(n.hidden=\"mozHidden\",n.visibilityChange=\"mozvisibilitychange\"):\"undefined\"!=typeof document.webkitHidden&&(n.hidden=\"webkitHidden\",n.visibilityChange=\"webkitvisibilitychange\"),n.autoPlay=i.proxy(n.autoPlay,n),n.autoPlayClear=i.proxy(n.autoPlayClear,n),n.autoPlayIterator=i.proxy(n.autoPlayIterator,n),n.changeSlide=i.proxy(n.changeSlide,n),n.clickHandler=i.proxy(n.clickHandler,n),n.selectHandler=i.proxy(n.selectHandler,n),n.setPosition=i.proxy(n.setPosition,n),n.swipeHandler=i.proxy(n.swipeHandler,n),n.dragHandler=i.proxy(n.dragHandler,n),n.keyHandler=i.proxy(n.keyHandler,n),n.instanceUid=t++,n.htmlExpr=/^(?:\\s*(<[\\w\\W]+>)[^>]*)$/,n.registerBreakpoints(),n.init(!0)}var t=0;return e}(),e.prototype.activateADA=function(){var i=this;i.$slideTrack.find(\".slick-active\").attr({\"aria-hidden\":\"false\"}).find(\"a, input, button, select\").attr({tabindex:\"0\"})},e.prototype.addSlide=e.prototype.slickAdd=function(e,t,o){var s=this;if(\"boolean\"==typeof t)o=t,t=null;else if(t<0||t>=s.slideCount)return!1;s.unload(),\"number\"==typeof t?0===t&&0===s.$slides.length?i(e).appendTo(s.$slideTrack):o?i(e).insertBefore(s.$slides.eq(t)):i(e).insertAfter(s.$slides.eq(t)):o===!0?i(e).prependTo(s.$slideTrack):i(e).appendTo(s.$slideTrack),s.$slides=s.$slideTrack.children(this.options.slide),s.$slideTrack.children(this.options.slide).detach(),s.$slideTrack.append(s.$slides),s.$slides.each(function(e,t){i(t).attr(\"data-slick-index\",e)}),s.$slidesCache=s.$slides,s.reinit()},e.prototype.animateHeight=function(){var i=this;if(1===i.options.slidesToShow&&i.options.adaptiveHeight===!0&&i.options.vertical===!1){var e=i.$slides.eq(i.currentSlide).outerHeight(!0);i.$list.animate({height:e},i.options.speed)}},e.prototype.animateSlide=function(e,t){var o={},s=this;s.animateHeight(),s.options.rtl===!0&&s.options.vertical===!1&&(e=-e),s.transformsEnabled===!1?s.options.vertical===!1?s.$slideTrack.animate({left:e},s.options.speed,s.options.easing,t):s.$slideTrack.animate({top:e},s.options.speed,s.options.easing,t):s.cssTransitions===!1?(s.options.rtl===!0&&(s.currentLeft=-s.currentLeft),i({animStart:s.currentLeft}).animate({animStart:e},{duration:s.options.speed,easing:s.options.easing,step:function(i){i=Math.ceil(i),s.options.vertical===!1?(o[s.animType]=\"translate(\"+i+\"px, 0px)\",s.$slideTrack.css(o)):(o[s.animType]=\"translate(0px,\"+i+\"px)\",s.$slideTrack.css(o))},complete:function(){t&&t.call()}})):(s.applyTransition(),e=Math.ceil(e),s.options.vertical===!1?o[s.animType]=\"translate3d(\"+e+\"px, 0px, 0px)\":o[s.animType]=\"translate3d(0px,\"+e+\"px, 0px)\",s.$slideTrack.css(o),t&&setTimeout(function(){s.disableTransition(),t.call()},s.options.speed))},e.prototype.getNavTarget=function(){var e=this,t=e.options.asNavFor;return t&&null!==t&&(t=i(t).not(e.$slider)),t},e.prototype.asNavFor=function(e){var t=this,o=t.getNavTarget();null!==o&&\"object\"==typeof o&&o.each(function(){var t=i(this).slick(\"getSlick\");t.unslicked||t.slideHandler(e,!0)})},e.prototype.applyTransition=function(i){var e=this,t={};e.options.fade===!1?t[e.transitionType]=e.transformType+\" \"+e.options.speed+\"ms \"+e.options.cssEase:t[e.transitionType]=\"opacity \"+e.options.speed+\"ms \"+e.options.cssEase,e.options.fade===!1?e.$slideTrack.css(t):e.$slides.eq(i).css(t)},e.prototype.autoPlay=function(){var i=this;i.autoPlayClear(),i.slideCount>i.options.slidesToShow&&(i.autoPlayTimer=setInterval(i.autoPlayIterator,i.options.autoplaySpeed))},e.prototype.autoPlayClear=function(){var i=this;i.autoPlayTimer&&clearInterval(i.autoPlayTimer)},e.prototype.autoPlayIterator=function(){var i=this,e=i.currentSlide+i.options.slidesToScroll;i.paused||i.interrupted||i.focussed||(i.options.infinite===!1&&(1===i.direction&&i.currentSlide+1===i.slideCount-1?i.direction=0:0===i.direction&&(e=i.currentSlide-i.options.slidesToScroll,i.currentSlide-1===0&&(i.direction=1))),i.slideHandler(e))},e.prototype.buildArrows=function(){var e=this;e.options.arrows===!0&&(e.$prevArrow=i(e.options.prevArrow).addClass(\"slick-arrow\"),e.$nextArrow=i(e.options.nextArrow).addClass(\"slick-arrow\"),e.slideCount>e.options.slidesToShow?(e.$prevArrow.removeClass(\"slick-hidden\").removeAttr(\"aria-hidden tabindex\"),e.$nextArrow.removeClass(\"slick-hidden\").removeAttr(\"aria-hidden tabindex\"),e.htmlExpr.test(e.options.prevArrow)&&e.$prevArrow.prependTo(e.options.appendArrows),e.htmlExpr.test(e.options.nextArrow)&&e.$nextArrow.appendTo(e.options.appendArrows),e.options.infinite!==!0&&e.$prevArrow.addClass(\"slick-disabled\").attr(\"aria-disabled\",\"true\")):e.$prevArrow.add(e.$nextArrow).addClass(\"slick-hidden\").attr({\"aria-disabled\":\"true\",tabindex:\"-1\"}))},e.prototype.buildDots=function(){var e,t,o=this;if(o.options.dots===!0&&o.slideCount>o.options.slidesToShow){for(o.$slider.addClass(\"slick-dotted\"),t=i(\"<ul />\").addClass(o.options.dotsClass),e=0;e<=o.getDotCount();e+=1)t.append(i(\"<li />\").append(o.options.customPaging.call(this,o,e)));o.$dots=t.appendTo(o.options.appendDots),o.$dots.find(\"li\").first().addClass(\"slick-active\")}},e.prototype.buildOut=function(){var e=this;e.$slides=e.$slider.children(e.options.slide+\":not(.slick-cloned)\").addClass(\"slick-slide\"),e.slideCount=e.$slides.length,e.$slides.each(function(e,t){i(t).attr(\"data-slick-index\",e).data(\"originalStyling\",i(t).attr(\"style\")||\"\")}),e.$slider.addClass(\"slick-slider\"),e.$slideTrack=0===e.slideCount?i('<div class=\"slick-track\"/>').appendTo(e.$slider):e.$slides.wrapAll('<div class=\"slick-track\"/>').parent(),e.$list=e.$slideTrack.wrap('<div class=\"slick-list\"/>').parent(),e.$slideTrack.css(\"opacity\",0),e.options.centerMode!==!0&&e.options.swipeToSlide!==!0||(e.options.slidesToScroll=1),i(\"img[data-lazy]\",e.$slider).not(\"[src]\").addClass(\"slick-loading\"),e.setupInfinite(),e.buildArrows(),e.buildDots(),e.updateDots(),e.setSlideClasses(\"number\"==typeof e.currentSlide?e.currentSlide:0),e.options.draggable===!0&&e.$list.addClass(\"draggable\")},e.prototype.buildRows=function(){var i,e,t,o,s,n,r,l=this;if(o=document.createDocumentFragment(),n=l.$slider.children(),l.options.rows>0){for(r=l.options.slidesPerRow*l.options.rows,s=Math.ceil(n.length/r),i=0;i<s;i++){var d=document.createElement(\"div\");for(e=0;e<l.options.rows;e++){var a=document.createElement(\"div\");for(t=0;t<l.options.slidesPerRow;t++){var c=i*r+(e*l.options.slidesPerRow+t);n.get(c)&&a.appendChild(n.get(c))}d.appendChild(a)}o.appendChild(d)}l.$slider.empty().append(o),l.$slider.children().children().children().css({width:100/l.options.slidesPerRow+\"%\",display:\"inline-block\"})}},e.prototype.checkResponsive=function(e,t){var o,s,n,r=this,l=!1,d=r.$slider.width(),a=window.innerWidth||i(window).width();if(\"window\"===r.respondTo?n=a:\"slider\"===r.respondTo?n=d:\"min\"===r.respondTo&&(n=Math.min(a,d)),r.options.responsive&&r.options.responsive.length&&null!==r.options.responsive){s=null;for(o in r.breakpoints)r.breakpoints.hasOwnProperty(o)&&(r.originalSettings.mobileFirst===!1?n<r.breakpoints[o]&&(s=r.breakpoints[o]):n>r.breakpoints[o]&&(s=r.breakpoints[o]));null!==s?null!==r.activeBreakpoint?(s!==r.activeBreakpoint||t)&&(r.activeBreakpoint=s,\"unslick\"===r.breakpointSettings[s]?r.unslick(s):(r.options=i.extend({},r.originalSettings,r.breakpointSettings[s]),e===!0&&(r.currentSlide=r.options.initialSlide),r.refresh(e)),l=s):(r.activeBreakpoint=s,\"unslick\"===r.breakpointSettings[s]?r.unslick(s):(r.options=i.extend({},r.originalSettings,r.breakpointSettings[s]),e===!0&&(r.currentSlide=r.options.initialSlide),r.refresh(e)),l=s):null!==r.activeBreakpoint&&(r.activeBreakpoint=null,r.options=r.originalSettings,e===!0&&(r.currentSlide=r.options.initialSlide),r.refresh(e),l=s),e||l===!1||r.$slider.trigger(\"breakpoint\",[r,l])}},e.prototype.changeSlide=function(e,t){var o,s,n,r=this,l=i(e.currentTarget);switch(l.is(\"a\")&&e.preventDefault(),l.is(\"li\")||(l=l.closest(\"li\")),n=r.slideCount%r.options.slidesToScroll!==0,o=n?0:(r.slideCount-r.currentSlide)%r.options.slidesToScroll,e.data.message){case\"previous\":s=0===o?r.options.slidesToScroll:r.options.slidesToShow-o,r.slideCount>r.options.slidesToShow&&r.slideHandler(r.currentSlide-s,!1,t);break;case\"next\":s=0===o?r.options.slidesToScroll:o,r.slideCount>r.options.slidesToShow&&r.slideHandler(r.currentSlide+s,!1,t);break;case\"index\":var d=0===e.data.index?0:e.data.index||l.index()*r.options.slidesToScroll;r.slideHandler(r.checkNavigable(d),!1,t),l.children().trigger(\"focus\");break;default:return}},e.prototype.checkNavigable=function(i){var e,t,o=this;if(e=o.getNavigableIndexes(),t=0,i>e[e.length-1])i=e[e.length-1];else for(var s in e){if(i<e[s]){i=t;break}t=e[s]}return i},e.prototype.cleanUpEvents=function(){var e=this;e.options.dots&&null!==e.$dots&&(i(\"li\",e.$dots).off(\"click.slick\",e.changeSlide).off(\"mouseenter.slick\",i.proxy(e.interrupt,e,!0)).off(\"mouseleave.slick\",i.proxy(e.interrupt,e,!1)),e.options.accessibility===!0&&e.$dots.off(\"keydown.slick\",e.keyHandler)),e.$slider.off(\"focus.slick blur.slick\"),e.options.arrows===!0&&e.slideCount>e.options.slidesToShow&&(e.$prevArrow&&e.$prevArrow.off(\"click.slick\",e.changeSlide),e.$nextArrow&&e.$nextArrow.off(\"click.slick\",e.changeSlide),e.options.accessibility===!0&&(e.$prevArrow&&e.$prevArrow.off(\"keydown.slick\",e.keyHandler),e.$nextArrow&&e.$nextArrow.off(\"keydown.slick\",e.keyHandler))),e.$list.off(\"touchstart.slick mousedown.slick\",e.swipeHandler),e.$list.off(\"touchmove.slick mousemove.slick\",e.swipeHandler),e.$list.off(\"touchend.slick mouseup.slick\",e.swipeHandler),e.$list.off(\"touchcancel.slick mouseleave.slick\",e.swipeHandler),e.$list.off(\"click.slick\",e.clickHandler),i(document).off(e.visibilityChange,e.visibility),e.cleanUpSlideEvents(),e.options.accessibility===!0&&e.$list.off(\"keydown.slick\",e.keyHandler),e.options.focusOnSelect===!0&&i(e.$slideTrack).children().off(\"click.slick\",e.selectHandler),i(window).off(\"orientationchange.slick.slick-\"+e.instanceUid,e.orientationChange),i(window).off(\"resize.slick.slick-\"+e.instanceUid,e.resize),i(\"[draggable!=true]\",e.$slideTrack).off(\"dragstart\",e.preventDefault),i(window).off(\"load.slick.slick-\"+e.instanceUid,e.setPosition)},e.prototype.cleanUpSlideEvents=function(){var e=this;e.$list.off(\"mouseenter.slick\",i.proxy(e.interrupt,e,!0)),e.$list.off(\"mouseleave.slick\",i.proxy(e.interrupt,e,!1))},e.prototype.cleanUpRows=function(){var i,e=this;e.options.rows>0&&(i=e.$slides.children().children(),i.removeAttr(\"style\"),e.$slider.empty().append(i))},e.prototype.clickHandler=function(i){var e=this;e.shouldClick===!1&&(i.stopImmediatePropagation(),i.stopPropagation(),i.preventDefault())},e.prototype.destroy=function(e){var t=this;t.autoPlayClear(),t.touchObject={},t.cleanUpEvents(),i(\".slick-cloned\",t.$slider).detach(),t.$dots&&t.$dots.remove(),t.$prevArrow&&t.$prevArrow.length&&(t.$prevArrow.removeClass(\"slick-disabled slick-arrow slick-hidden\").removeAttr(\"aria-hidden aria-disabled tabindex\").css(\"display\",\"\"),t.htmlExpr.test(t.options.prevArrow)&&t.$prevArrow.remove()),t.$nextArrow&&t.$nextArrow.length&&(t.$nextArrow.removeClass(\"slick-disabled slick-arrow slick-hidden\").removeAttr(\"aria-hidden aria-disabled tabindex\").css(\"display\",\"\"),t.htmlExpr.test(t.options.nextArrow)&&t.$nextArrow.remove()),t.$slides&&(t.$slides.removeClass(\"slick-slide slick-active slick-center slick-visible slick-current\").removeAttr(\"aria-hidden\").removeAttr(\"data-slick-index\").each(function(){i(this).attr(\"style\",i(this).data(\"originalStyling\"))}),t.$slideTrack.children(this.options.slide).detach(),t.$slideTrack.detach(),t.$list.detach(),t.$slider.append(t.$slides)),t.cleanUpRows(),t.$slider.removeClass(\"slick-slider\"),t.$slider.removeClass(\"slick-initialized\"),t.$slider.removeClass(\"slick-dotted\"),t.unslicked=!0,e||t.$slider.trigger(\"destroy\",[t])},e.prototype.disableTransition=function(i){var e=this,t={};t[e.transitionType]=\"\",e.options.fade===!1?e.$slideTrack.css(t):e.$slides.eq(i).css(t)},e.prototype.fadeSlide=function(i,e){var t=this;t.cssTransitions===!1?(t.$slides.eq(i).css({zIndex:t.options.zIndex}),t.$slides.eq(i).animate({opacity:1},t.options.speed,t.options.easing,e)):(t.applyTransition(i),t.$slides.eq(i).css({opacity:1,zIndex:t.options.zIndex}),e&&setTimeout(function(){t.disableTransition(i),e.call()},t.options.speed))},e.prototype.fadeSlideOut=function(i){var e=this;e.cssTransitions===!1?e.$slides.eq(i).animate({opacity:0,zIndex:e.options.zIndex-2},e.options.speed,e.options.easing):(e.applyTransition(i),e.$slides.eq(i).css({opacity:0,zIndex:e.options.zIndex-2}))},e.prototype.filterSlides=e.prototype.slickFilter=function(i){var e=this;null!==i&&(e.$slidesCache=e.$slides,e.unload(),e.$slideTrack.children(this.options.slide).detach(),e.$slidesCache.filter(i).appendTo(e.$slideTrack),e.reinit())},e.prototype.focusHandler=function(){var e=this;e.$slider.off(\"focus.slick blur.slick\").on(\"focus.slick\",\"*\",function(t){var o=i(this);setTimeout(function(){e.options.pauseOnFocus&&o.is(\":focus\")&&(e.focussed=!0,e.autoPlay())},0)}).on(\"blur.slick\",\"*\",function(t){i(this);e.options.pauseOnFocus&&(e.focussed=!1,e.autoPlay())})},e.prototype.getCurrent=e.prototype.slickCurrentSlide=function(){var i=this;return i.currentSlide},e.prototype.getDotCount=function(){var i=this,e=0,t=0,o=0;if(i.options.infinite===!0)if(i.slideCount<=i.options.slidesToShow)++o;else for(;e<i.slideCount;)++o,e=t+i.options.slidesToScroll,t+=i.options.slidesToScroll<=i.options.slidesToShow?i.options.slidesToScroll:i.options.slidesToShow;else if(i.options.centerMode===!0)o=i.slideCount;else if(i.options.asNavFor)for(;e<i.slideCount;)++o,e=t+i.options.slidesToScroll,t+=i.options.slidesToScroll<=i.options.slidesToShow?i.options.slidesToScroll:i.options.slidesToShow;else o=1+Math.ceil((i.slideCount-i.options.slidesToShow)/i.options.slidesToScroll);return o-1},e.prototype.getLeft=function(i){var e,t,o,s,n=this,r=0;return n.slideOffset=0,t=n.$slides.first().outerHeight(!0),n.options.infinite===!0?(n.slideCount>n.options.slidesToShow&&(n.slideOffset=n.slideWidth*n.options.slidesToShow*-1,s=-1,n.options.vertical===!0&&n.options.centerMode===!0&&(2===n.options.slidesToShow?s=-1.5:1===n.options.slidesToShow&&(s=-2)),r=t*n.options.slidesToShow*s),n.slideCount%n.options.slidesToScroll!==0&&i+n.options.slidesToScroll>n.slideCount&&n.slideCount>n.options.slidesToShow&&(i>n.slideCount?(n.slideOffset=(n.options.slidesToShow-(i-n.slideCount))*n.slideWidth*-1,r=(n.options.slidesToShow-(i-n.slideCount))*t*-1):(n.slideOffset=n.slideCount%n.options.slidesToScroll*n.slideWidth*-1,r=n.slideCount%n.options.slidesToScroll*t*-1))):i+n.options.slidesToShow>n.slideCount&&(n.slideOffset=(i+n.options.slidesToShow-n.slideCount)*n.slideWidth,r=(i+n.options.slidesToShow-n.slideCount)*t),n.slideCount<=n.options.slidesToShow&&(n.slideOffset=0,r=0),n.options.centerMode===!0&&n.slideCount<=n.options.slidesToShow?n.slideOffset=n.slideWidth*Math.floor(n.options.slidesToShow)/2-n.slideWidth*n.slideCount/2:n.options.centerMode===!0&&n.options.infinite===!0?n.slideOffset+=n.slideWidth*Math.floor(n.options.slidesToShow/2)-n.slideWidth:n.options.centerMode===!0&&(n.slideOffset=0,n.slideOffset+=n.slideWidth*Math.floor(n.options.slidesToShow/2)),e=n.options.vertical===!1?i*n.slideWidth*-1+n.slideOffset:i*t*-1+r,n.options.variableWidth===!0&&(o=n.slideCount<=n.options.slidesToShow||n.options.infinite===!1?n.$slideTrack.children(\".slick-slide\").eq(i):n.$slideTrack.children(\".slick-slide\").eq(i+n.options.slidesToShow),e=n.options.rtl===!0?o[0]?(n.$slideTrack.width()-o[0].offsetLeft-o.width())*-1:0:o[0]?o[0].offsetLeft*-1:0,n.options.centerMode===!0&&(o=n.slideCount<=n.options.slidesToShow||n.options.infinite===!1?n.$slideTrack.children(\".slick-slide\").eq(i):n.$slideTrack.children(\".slick-slide\").eq(i+n.options.slidesToShow+1),e=n.options.rtl===!0?o[0]?(n.$slideTrack.width()-o[0].offsetLeft-o.width())*-1:0:o[0]?o[0].offsetLeft*-1:0,e+=(n.$list.width()-o.outerWidth())/2)),e},e.prototype.getOption=e.prototype.slickGetOption=function(i){var e=this;return e.options[i]},e.prototype.getNavigableIndexes=function(){var i,e=this,t=0,o=0,s=[];for(e.options.infinite===!1?i=e.slideCount:(t=e.options.slidesToScroll*-1,o=e.options.slidesToScroll*-1,i=2*e.slideCount);t<i;)s.push(t),t=o+e.options.slidesToScroll,o+=e.options.slidesToScroll<=e.options.slidesToShow?e.options.slidesToScroll:e.options.slidesToShow;return s},e.prototype.getSlick=function(){return this},e.prototype.getSlideCount=function(){var e,t,o,s,n=this;return s=n.options.centerMode===!0?Math.floor(n.$list.width()/2):0,o=n.swipeLeft*-1+s,n.options.swipeToSlide===!0?(n.$slideTrack.find(\".slick-slide\").each(function(e,s){var r,l,d;if(r=i(s).outerWidth(),l=s.offsetLeft,n.options.centerMode!==!0&&(l+=r/2),d=l+r,o<d)return t=s,!1}),e=Math.abs(i(t).attr(\"data-slick-index\")-n.currentSlide)||1):n.options.slidesToScroll},e.prototype.goTo=e.prototype.slickGoTo=function(i,e){var t=this;t.changeSlide({data:{message:\"index\",index:parseInt(i)}},e)},e.prototype.init=function(e){var t=this;i(t.$slider).hasClass(\"slick-initialized\")||(i(t.$slider).addClass(\"slick-initialized\"),t.buildRows(),t.buildOut(),t.setProps(),t.startLoad(),t.loadSlider(),t.initializeEvents(),t.updateArrows(),t.updateDots(),t.checkResponsive(!0),t.focusHandler()),e&&t.$slider.trigger(\"init\",[t]),t.options.accessibility===!0&&t.initADA(),t.options.autoplay&&(t.paused=!1,t.autoPlay())},e.prototype.initADA=function(){var e=this,t=Math.ceil(e.slideCount/e.options.slidesToShow),o=e.getNavigableIndexes().filter(function(i){return i>=0&&i<e.slideCount});e.$slides.add(e.$slideTrack.find(\".slick-cloned\")).attr({\"aria-hidden\":\"true\",tabindex:\"-1\"}).find(\"a, input, button, select\").attr({tabindex:\"-1\"}),null!==e.$dots&&(e.$slides.not(e.$slideTrack.find(\".slick-cloned\")).each(function(t){var s=o.indexOf(t);if(i(this).attr({role:\"tabpanel\",id:\"slick-slide\"+e.instanceUid+t,tabindex:-1}),s!==-1){var n=\"slick-slide-control\"+e.instanceUid+s;i(\"#\"+n).length&&i(this).attr({\"aria-describedby\":n})}}),e.$dots.attr(\"role\",\"tablist\").find(\"li\").each(function(s){var n=o[s];i(this).attr({role:\"presentation\"}),i(this).find(\"button\").first().attr({role:\"tab\",id:\"slick-slide-control\"+e.instanceUid+s,\"aria-controls\":\"slick-slide\"+e.instanceUid+n,\"aria-label\":s+1+\" of \"+t,\"aria-selected\":null,tabindex:\"-1\"})}).eq(e.currentSlide).find(\"button\").attr({\"aria-selected\":\"true\",tabindex:\"0\"}).end());for(var s=e.currentSlide,n=s+e.options.slidesToShow;s<n;s++)e.options.focusOnChange?e.$slides.eq(s).attr({tabindex:\"0\"}):e.$slides.eq(s).removeAttr(\"tabindex\");e.activateADA()},e.prototype.initArrowEvents=function(){var i=this;i.options.arrows===!0&&i.slideCount>i.options.slidesToShow&&(i.$prevArrow.off(\"click.slick\").on(\"click.slick\",{message:\"previous\"},i.changeSlide),i.$nextArrow.off(\"click.slick\").on(\"click.slick\",{message:\"next\"},i.changeSlide),i.options.accessibility===!0&&(i.$prevArrow.on(\"keydown.slick\",i.keyHandler),i.$nextArrow.on(\"keydown.slick\",i.keyHandler)))},e.prototype.initDotEvents=function(){var e=this;e.options.dots===!0&&e.slideCount>e.options.slidesToShow&&(i(\"li\",e.$dots).on(\"click.slick\",{message:\"index\"},e.changeSlide),e.options.accessibility===!0&&e.$dots.on(\"keydown.slick\",e.keyHandler)),e.options.dots===!0&&e.options.pauseOnDotsHover===!0&&e.slideCount>e.options.slidesToShow&&i(\"li\",e.$dots).on(\"mouseenter.slick\",i.proxy(e.interrupt,e,!0)).on(\"mouseleave.slick\",i.proxy(e.interrupt,e,!1))},e.prototype.initSlideEvents=function(){var e=this;e.options.pauseOnHover&&(e.$list.on(\"mouseenter.slick\",i.proxy(e.interrupt,e,!0)),e.$list.on(\"mouseleave.slick\",i.proxy(e.interrupt,e,!1)))},e.prototype.initializeEvents=function(){var e=this;e.initArrowEvents(),e.initDotEvents(),e.initSlideEvents(),e.$list.on(\"touchstart.slick mousedown.slick\",{action:\"start\"},e.swipeHandler),e.$list.on(\"touchmove.slick mousemove.slick\",{action:\"move\"},e.swipeHandler),e.$list.on(\"touchend.slick mouseup.slick\",{action:\"end\"},e.swipeHandler),e.$list.on(\"touchcancel.slick mouseleave.slick\",{action:\"end\"},e.swipeHandler),e.$list.on(\"click.slick\",e.clickHandler),i(document).on(e.visibilityChange,i.proxy(e.visibility,e)),e.options.accessibility===!0&&e.$list.on(\"keydown.slick\",e.keyHandler),e.options.focusOnSelect===!0&&i(e.$slideTrack).children().on(\"click.slick\",e.selectHandler),i(window).on(\"orientationchange.slick.slick-\"+e.instanceUid,i.proxy(e.orientationChange,e)),i(window).on(\"resize.slick.slick-\"+e.instanceUid,i.proxy(e.resize,e)),i(\"[draggable!=true]\",e.$slideTrack).on(\"dragstart\",e.preventDefault),i(window).on(\"load.slick.slick-\"+e.instanceUid,e.setPosition),i(e.setPosition)},e.prototype.initUI=function(){var i=this;i.options.arrows===!0&&i.slideCount>i.options.slidesToShow&&(i.$prevArrow.show(),i.$nextArrow.show()),i.options.dots===!0&&i.slideCount>i.options.slidesToShow&&i.$dots.show()},e.prototype.keyHandler=function(i){var e=this;i.target.tagName.match(\"TEXTAREA|INPUT|SELECT\")||(37===i.keyCode&&e.options.accessibility===!0?e.changeSlide({data:{message:e.options.rtl===!0?\"next\":\"previous\"}}):39===i.keyCode&&e.options.accessibility===!0&&e.changeSlide({data:{message:e.options.rtl===!0?\"previous\":\"next\"}}))},e.prototype.lazyLoad=function(){function e(e){i(\"img[data-lazy]\",e).each(function(){var e=i(this),t=i(this).attr(\"data-lazy\"),o=i(this).attr(\"data-srcset\"),s=i(this).attr(\"data-sizes\")||r.$slider.attr(\"data-sizes\"),n=document.createElement(\"img\");n.onload=function(){e.animate({opacity:0},100,function(){o&&(e.attr(\"srcset\",o),s&&e.attr(\"sizes\",s)),e.attr(\"src\",t).animate({opacity:1},200,function(){e.removeAttr(\"data-lazy data-srcset data-sizes\").removeClass(\"slick-loading\")}),r.$slider.trigger(\"lazyLoaded\",[r,e,t])})},n.onerror=function(){e.removeAttr(\"data-lazy\").removeClass(\"slick-loading\").addClass(\"slick-lazyload-error\"),r.$slider.trigger(\"lazyLoadError\",[r,e,t])},n.src=t})}var t,o,s,n,r=this;if(r.options.centerMode===!0?r.options.infinite===!0?(s=r.currentSlide+(r.options.slidesToShow/2+1),n=s+r.options.slidesToShow+2):(s=Math.max(0,r.currentSlide-(r.options.slidesToShow/2+1)),n=2+(r.options.slidesToShow/2+1)+r.currentSlide):(s=r.options.infinite?r.options.slidesToShow+r.currentSlide:r.currentSlide,n=Math.ceil(s+r.options.slidesToShow),r.options.fade===!0&&(s>0&&s--,n<=r.slideCount&&n++)),t=r.$slider.find(\".slick-slide\").slice(s,n),\"anticipated\"===r.options.lazyLoad)for(var l=s-1,d=n,a=r.$slider.find(\".slick-slide\"),c=0;c<r.options.slidesToScroll;c++)l<0&&(l=r.slideCount-1),t=t.add(a.eq(l)),t=t.add(a.eq(d)),l--,d++;e(t),r.slideCount<=r.options.slidesToShow?(o=r.$slider.find(\".slick-slide\"),e(o)):r.currentSlide>=r.slideCount-r.options.slidesToShow?(o=r.$slider.find(\".slick-cloned\").slice(0,r.options.slidesToShow),e(o)):0===r.currentSlide&&(o=r.$slider.find(\".slick-cloned\").slice(r.options.slidesToShow*-1),e(o))},e.prototype.loadSlider=function(){var i=this;i.setPosition(),i.$slideTrack.css({opacity:1}),i.$slider.removeClass(\"slick-loading\"),i.initUI(),\"progressive\"===i.options.lazyLoad&&i.progressiveLazyLoad()},e.prototype.next=e.prototype.slickNext=function(){var i=this;i.changeSlide({data:{message:\"next\"}})},e.prototype.orientationChange=function(){var i=this;i.checkResponsive(),i.setPosition()},e.prototype.pause=e.prototype.slickPause=function(){var i=this;i.autoPlayClear(),i.paused=!0},e.prototype.play=e.prototype.slickPlay=function(){var i=this;i.autoPlay(),i.options.autoplay=!0,i.paused=!1,i.focussed=!1,i.interrupted=!1},e.prototype.postSlide=function(e){var t=this;if(!t.unslicked&&(t.$slider.trigger(\"afterChange\",[t,e]),t.animating=!1,t.slideCount>t.options.slidesToShow&&t.setPosition(),t.swipeLeft=null,t.options.autoplay&&t.autoPlay(),t.options.accessibility===!0&&(t.initADA(),t.options.focusOnChange))){var o=i(t.$slides.get(t.currentSlide));o.attr(\"tabindex\",0).focus()}},e.prototype.prev=e.prototype.slickPrev=function(){var i=this;i.changeSlide({data:{message:\"previous\"}})},e.prototype.preventDefault=function(i){i.preventDefault()},e.prototype.progressiveLazyLoad=function(e){e=e||1;var t,o,s,n,r,l=this,d=i(\"img[data-lazy]\",l.$slider);d.length?(t=d.first(),o=t.attr(\"data-lazy\"),s=t.attr(\"data-srcset\"),n=t.attr(\"data-sizes\")||l.$slider.attr(\"data-sizes\"),r=document.createElement(\"img\"),r.onload=function(){s&&(t.attr(\"srcset\",s),n&&t.attr(\"sizes\",n)),t.attr(\"src\",o).removeAttr(\"data-lazy data-srcset data-sizes\").removeClass(\"slick-loading\"),l.options.adaptiveHeight===!0&&l.setPosition(),l.$slider.trigger(\"lazyLoaded\",[l,t,o]),l.progressiveLazyLoad()},r.onerror=function(){e<3?setTimeout(function(){l.progressiveLazyLoad(e+1)},500):(t.removeAttr(\"data-lazy\").removeClass(\"slick-loading\").addClass(\"slick-lazyload-error\"),l.$slider.trigger(\"lazyLoadError\",[l,t,o]),l.progressiveLazyLoad())},r.src=o):l.$slider.trigger(\"allImagesLoaded\",[l])},e.prototype.refresh=function(e){var t,o,s=this;o=s.slideCount-s.options.slidesToShow,!s.options.infinite&&s.currentSlide>o&&(s.currentSlide=o),s.slideCount<=s.options.slidesToShow&&(s.currentSlide=0),t=s.currentSlide,s.destroy(!0),i.extend(s,s.initials,{currentSlide:t}),s.init(),e||s.changeSlide({data:{message:\"index\",index:t}},!1)},e.prototype.registerBreakpoints=function(){var e,t,o,s=this,n=s.options.responsive||null;if(\"array\"===i.type(n)&&n.length){s.respondTo=s.options.respondTo||\"window\";for(e in n)if(o=s.breakpoints.length-1,n.hasOwnProperty(e)){for(t=n[e].breakpoint;o>=0;)s.breakpoints[o]&&s.breakpoints[o]===t&&s.breakpoints.splice(o,1),o--;s.breakpoints.push(t),s.breakpointSettings[t]=n[e].settings}s.breakpoints.sort(function(i,e){return s.options.mobileFirst?i-e:e-i})}},e.prototype.reinit=function(){var e=this;e.$slides=e.$slideTrack.children(e.options.slide).addClass(\"slick-slide\"),e.slideCount=e.$slides.length,e.currentSlide>=e.slideCount&&0!==e.currentSlide&&(e.currentSlide=e.currentSlide-e.options.slidesToScroll),e.slideCount<=e.options.slidesToShow&&(e.currentSlide=0),e.registerBreakpoints(),e.setProps(),e.setupInfinite(),e.buildArrows(),e.updateArrows(),e.initArrowEvents(),e.buildDots(),e.updateDots(),e.initDotEvents(),e.cleanUpSlideEvents(),e.initSlideEvents(),e.checkResponsive(!1,!0),e.options.focusOnSelect===!0&&i(e.$slideTrack).children().on(\"click.slick\",e.selectHandler),e.setSlideClasses(\"number\"==typeof e.currentSlide?e.currentSlide:0),e.setPosition(),e.focusHandler(),e.paused=!e.options.autoplay,e.autoPlay(),e.$slider.trigger(\"reInit\",[e])},e.prototype.resize=function(){var e=this;i(window).width()!==e.windowWidth&&(clearTimeout(e.windowDelay),e.windowDelay=window.setTimeout(function(){e.windowWidth=i(window).width(),e.checkResponsive(),e.unslicked||e.setPosition()},50))},e.prototype.removeSlide=e.prototype.slickRemove=function(i,e,t){var o=this;return\"boolean\"==typeof i?(e=i,i=e===!0?0:o.slideCount-1):i=e===!0?--i:i,!(o.slideCount<1||i<0||i>o.slideCount-1)&&(o.unload(),t===!0?o.$slideTrack.children().remove():o.$slideTrack.children(this.options.slide).eq(i).remove(),o.$slides=o.$slideTrack.children(this.options.slide),o.$slideTrack.children(this.options.slide).detach(),o.$slideTrack.append(o.$slides),o.$slidesCache=o.$slides,void o.reinit())},e.prototype.setCSS=function(i){var e,t,o=this,s={};o.options.rtl===!0&&(i=-i),e=\"left\"==o.positionProp?Math.ceil(i)+\"px\":\"0px\",t=\"top\"==o.positionProp?Math.ceil(i)+\"px\":\"0px\",s[o.positionProp]=i,o.transformsEnabled===!1?o.$slideTrack.css(s):(s={},o.cssTransitions===!1?(s[o.animType]=\"translate(\"+e+\", \"+t+\")\",o.$slideTrack.css(s)):(s[o.animType]=\"translate3d(\"+e+\", \"+t+\", 0px)\",o.$slideTrack.css(s)))},e.prototype.setDimensions=function(){var i=this;i.options.vertical===!1?i.options.centerMode===!0&&i.$list.css({padding:\"0px \"+i.options.centerPadding}):(i.$list.height(i.$slides.first().outerHeight(!0)*i.options.slidesToShow),i.options.centerMode===!0&&i.$list.css({padding:i.options.centerPadding+\" 0px\"})),i.listWidth=i.$list.width(),i.listHeight=i.$list.height(),i.options.vertical===!1&&i.options.variableWidth===!1?(i.slideWidth=Math.ceil(i.listWidth/i.options.slidesToShow),i.$slideTrack.width(Math.ceil(i.slideWidth*i.$slideTrack.children(\".slick-slide\").length))):i.options.variableWidth===!0?i.$slideTrack.width(5e3*i.slideCount):(i.slideWidth=Math.ceil(i.listWidth),i.$slideTrack.height(Math.ceil(i.$slides.first().outerHeight(!0)*i.$slideTrack.children(\".slick-slide\").length)));var e=i.$slides.first().outerWidth(!0)-i.$slides.first().width();i.options.variableWidth===!1&&i.$slideTrack.children(\".slick-slide\").width(i.slideWidth-e)},e.prototype.setFade=function(){var e,t=this;t.$slides.each(function(o,s){e=t.slideWidth*o*-1,t.options.rtl===!0?i(s).css({position:\"relative\",right:e,top:0,zIndex:t.options.zIndex-2,opacity:0}):i(s).css({position:\"relative\",left:e,top:0,zIndex:t.options.zIndex-2,opacity:0})}),t.$slides.eq(t.currentSlide).css({zIndex:t.options.zIndex-1,opacity:1})},e.prototype.setHeight=function(){var i=this;if(1===i.options.slidesToShow&&i.options.adaptiveHeight===!0&&i.options.vertical===!1){var e=i.$slides.eq(i.currentSlide).outerHeight(!0);i.$list.css(\"height\",e)}},e.prototype.setOption=e.prototype.slickSetOption=function(){var e,t,o,s,n,r=this,l=!1;if(\"object\"===i.type(arguments[0])?(o=arguments[0],l=arguments[1],n=\"multiple\"):\"string\"===i.type(arguments[0])&&(o=arguments[0],s=arguments[1],l=arguments[2],\"responsive\"===arguments[0]&&\"array\"===i.type(arguments[1])?n=\"responsive\":\"undefined\"!=typeof arguments[1]&&(n=\"single\")),\"single\"===n)r.options[o]=s;else if(\"multiple\"===n)i.each(o,function(i,e){r.options[i]=e});else if(\"responsive\"===n)for(t in s)if(\"array\"!==i.type(r.options.responsive))r.options.responsive=[s[t]];else{for(e=r.options.responsive.length-1;e>=0;)r.options.responsive[e].breakpoint===s[t].breakpoint&&r.options.responsive.splice(e,1),e--;r.options.responsive.push(s[t])}l&&(r.unload(),r.reinit())},e.prototype.setPosition=function(){var i=this;i.setDimensions(),i.setHeight(),i.options.fade===!1?i.setCSS(i.getLeft(i.currentSlide)):i.setFade(),i.$slider.trigger(\"setPosition\",[i])},e.prototype.setProps=function(){var i=this,e=document.body.style;i.positionProp=i.options.vertical===!0?\"top\":\"left\",\r\n\"top\"===i.positionProp?i.$slider.addClass(\"slick-vertical\"):i.$slider.removeClass(\"slick-vertical\"),void 0===e.WebkitTransition&&void 0===e.MozTransition&&void 0===e.msTransition||i.options.useCSS===!0&&(i.cssTransitions=!0),i.options.fade&&(\"number\"==typeof i.options.zIndex?i.options.zIndex<3&&(i.options.zIndex=3):i.options.zIndex=i.defaults.zIndex),void 0!==e.OTransform&&(i.animType=\"OTransform\",i.transformType=\"-o-transform\",i.transitionType=\"OTransition\",void 0===e.perspectiveProperty&&void 0===e.webkitPerspective&&(i.animType=!1)),void 0!==e.MozTransform&&(i.animType=\"MozTransform\",i.transformType=\"-moz-transform\",i.transitionType=\"MozTransition\",void 0===e.perspectiveProperty&&void 0===e.MozPerspective&&(i.animType=!1)),void 0!==e.webkitTransform&&(i.animType=\"webkitTransform\",i.transformType=\"-webkit-transform\",i.transitionType=\"webkitTransition\",void 0===e.perspectiveProperty&&void 0===e.webkitPerspective&&(i.animType=!1)),void 0!==e.msTransform&&(i.animType=\"msTransform\",i.transformType=\"-ms-transform\",i.transitionType=\"msTransition\",void 0===e.msTransform&&(i.animType=!1)),void 0!==e.transform&&i.animType!==!1&&(i.animType=\"transform\",i.transformType=\"transform\",i.transitionType=\"transition\"),i.transformsEnabled=i.options.useTransform&&null!==i.animType&&i.animType!==!1},e.prototype.setSlideClasses=function(i){var e,t,o,s,n=this;if(t=n.$slider.find(\".slick-slide\").removeClass(\"slick-active slick-center slick-current\").attr(\"aria-hidden\",\"true\"),n.$slides.eq(i).addClass(\"slick-current\"),n.options.centerMode===!0){var r=n.options.slidesToShow%2===0?1:0;e=Math.floor(n.options.slidesToShow/2),n.options.infinite===!0&&(i>=e&&i<=n.slideCount-1-e?n.$slides.slice(i-e+r,i+e+1).addClass(\"slick-active\").attr(\"aria-hidden\",\"false\"):(o=n.options.slidesToShow+i,t.slice(o-e+1+r,o+e+2).addClass(\"slick-active\").attr(\"aria-hidden\",\"false\")),0===i?t.eq(t.length-1-n.options.slidesToShow).addClass(\"slick-center\"):i===n.slideCount-1&&t.eq(n.options.slidesToShow).addClass(\"slick-center\")),n.$slides.eq(i).addClass(\"slick-center\")}else i>=0&&i<=n.slideCount-n.options.slidesToShow?n.$slides.slice(i,i+n.options.slidesToShow).addClass(\"slick-active\").attr(\"aria-hidden\",\"false\"):t.length<=n.options.slidesToShow?t.addClass(\"slick-active\").attr(\"aria-hidden\",\"false\"):(s=n.slideCount%n.options.slidesToShow,o=n.options.infinite===!0?n.options.slidesToShow+i:i,n.options.slidesToShow==n.options.slidesToScroll&&n.slideCount-i<n.options.slidesToShow?t.slice(o-(n.options.slidesToShow-s),o+s).addClass(\"slick-active\").attr(\"aria-hidden\",\"false\"):t.slice(o,o+n.options.slidesToShow).addClass(\"slick-active\").attr(\"aria-hidden\",\"false\"));\"ondemand\"!==n.options.lazyLoad&&\"anticipated\"!==n.options.lazyLoad||n.lazyLoad()},e.prototype.setupInfinite=function(){var e,t,o,s=this;if(s.options.fade===!0&&(s.options.centerMode=!1),s.options.infinite===!0&&s.options.fade===!1&&(t=null,s.slideCount>s.options.slidesToShow)){for(o=s.options.centerMode===!0?s.options.slidesToShow+1:s.options.slidesToShow,e=s.slideCount;e>s.slideCount-o;e-=1)t=e-1,i(s.$slides[t]).clone(!0).attr(\"id\",\"\").attr(\"data-slick-index\",t-s.slideCount).prependTo(s.$slideTrack).addClass(\"slick-cloned\");for(e=0;e<o+s.slideCount;e+=1)t=e,i(s.$slides[t]).clone(!0).attr(\"id\",\"\").attr(\"data-slick-index\",t+s.slideCount).appendTo(s.$slideTrack).addClass(\"slick-cloned\");s.$slideTrack.find(\".slick-cloned\").find(\"[id]\").each(function(){i(this).attr(\"id\",\"\")})}},e.prototype.interrupt=function(i){var e=this;i||e.autoPlay(),e.interrupted=i},e.prototype.selectHandler=function(e){var t=this,o=i(e.target).is(\".slick-slide\")?i(e.target):i(e.target).parents(\".slick-slide\"),s=parseInt(o.attr(\"data-slick-index\"));return s||(s=0),t.slideCount<=t.options.slidesToShow?void t.slideHandler(s,!1,!0):void t.slideHandler(s)},e.prototype.slideHandler=function(i,e,t){var o,s,n,r,l,d=null,a=this;if(e=e||!1,!(a.animating===!0&&a.options.waitForAnimate===!0||a.options.fade===!0&&a.currentSlide===i))return e===!1&&a.asNavFor(i),o=i,d=a.getLeft(o),r=a.getLeft(a.currentSlide),a.currentLeft=null===a.swipeLeft?r:a.swipeLeft,a.options.infinite===!1&&a.options.centerMode===!1&&(i<0||i>a.getDotCount()*a.options.slidesToScroll)?void(a.options.fade===!1&&(o=a.currentSlide,t!==!0&&a.slideCount>a.options.slidesToShow?a.animateSlide(r,function(){a.postSlide(o)}):a.postSlide(o))):a.options.infinite===!1&&a.options.centerMode===!0&&(i<0||i>a.slideCount-a.options.slidesToScroll)?void(a.options.fade===!1&&(o=a.currentSlide,t!==!0&&a.slideCount>a.options.slidesToShow?a.animateSlide(r,function(){a.postSlide(o)}):a.postSlide(o))):(a.options.autoplay&&clearInterval(a.autoPlayTimer),s=o<0?a.slideCount%a.options.slidesToScroll!==0?a.slideCount-a.slideCount%a.options.slidesToScroll:a.slideCount+o:o>=a.slideCount?a.slideCount%a.options.slidesToScroll!==0?0:o-a.slideCount:o,a.animating=!0,a.$slider.trigger(\"beforeChange\",[a,a.currentSlide,s]),n=a.currentSlide,a.currentSlide=s,a.setSlideClasses(a.currentSlide),a.options.asNavFor&&(l=a.getNavTarget(),l=l.slick(\"getSlick\"),l.slideCount<=l.options.slidesToShow&&l.setSlideClasses(a.currentSlide)),a.updateDots(),a.updateArrows(),a.options.fade===!0?(t!==!0?(a.fadeSlideOut(n),a.fadeSlide(s,function(){a.postSlide(s)})):a.postSlide(s),void a.animateHeight()):void(t!==!0&&a.slideCount>a.options.slidesToShow?a.animateSlide(d,function(){a.postSlide(s)}):a.postSlide(s)))},e.prototype.startLoad=function(){var i=this;i.options.arrows===!0&&i.slideCount>i.options.slidesToShow&&(i.$prevArrow.hide(),i.$nextArrow.hide()),i.options.dots===!0&&i.slideCount>i.options.slidesToShow&&i.$dots.hide(),i.$slider.addClass(\"slick-loading\")},e.prototype.swipeDirection=function(){var i,e,t,o,s=this;return i=s.touchObject.startX-s.touchObject.curX,e=s.touchObject.startY-s.touchObject.curY,t=Math.atan2(e,i),o=Math.round(180*t/Math.PI),o<0&&(o=360-Math.abs(o)),o<=45&&o>=0?s.options.rtl===!1?\"left\":\"right\":o<=360&&o>=315?s.options.rtl===!1?\"left\":\"right\":o>=135&&o<=225?s.options.rtl===!1?\"right\":\"left\":s.options.verticalSwiping===!0?o>=35&&o<=135?\"down\":\"up\":\"vertical\"},e.prototype.swipeEnd=function(i){var e,t,o=this;if(o.dragging=!1,o.swiping=!1,o.scrolling)return o.scrolling=!1,!1;if(o.interrupted=!1,o.shouldClick=!(o.touchObject.swipeLength>10),void 0===o.touchObject.curX)return!1;if(o.touchObject.edgeHit===!0&&o.$slider.trigger(\"edge\",[o,o.swipeDirection()]),o.touchObject.swipeLength>=o.touchObject.minSwipe){switch(t=o.swipeDirection()){case\"left\":case\"down\":e=o.options.swipeToSlide?o.checkNavigable(o.currentSlide+o.getSlideCount()):o.currentSlide+o.getSlideCount(),o.currentDirection=0;break;case\"right\":case\"up\":e=o.options.swipeToSlide?o.checkNavigable(o.currentSlide-o.getSlideCount()):o.currentSlide-o.getSlideCount(),o.currentDirection=1}\"vertical\"!=t&&(o.slideHandler(e),o.touchObject={},o.$slider.trigger(\"swipe\",[o,t]))}else o.touchObject.startX!==o.touchObject.curX&&(o.slideHandler(o.currentSlide),o.touchObject={})},e.prototype.swipeHandler=function(i){var e=this;if(!(e.options.swipe===!1||\"ontouchend\"in document&&e.options.swipe===!1||e.options.draggable===!1&&i.type.indexOf(\"mouse\")!==-1))switch(e.touchObject.fingerCount=i.originalEvent&&void 0!==i.originalEvent.touches?i.originalEvent.touches.length:1,e.touchObject.minSwipe=e.listWidth/e.options.touchThreshold,e.options.verticalSwiping===!0&&(e.touchObject.minSwipe=e.listHeight/e.options.touchThreshold),i.data.action){case\"start\":e.swipeStart(i);break;case\"move\":e.swipeMove(i);break;case\"end\":e.swipeEnd(i)}},e.prototype.swipeMove=function(i){var e,t,o,s,n,r,l=this;return n=void 0!==i.originalEvent?i.originalEvent.touches:null,!(!l.dragging||l.scrolling||n&&1!==n.length)&&(e=l.getLeft(l.currentSlide),l.touchObject.curX=void 0!==n?n[0].pageX:i.clientX,l.touchObject.curY=void 0!==n?n[0].pageY:i.clientY,l.touchObject.swipeLength=Math.round(Math.sqrt(Math.pow(l.touchObject.curX-l.touchObject.startX,2))),r=Math.round(Math.sqrt(Math.pow(l.touchObject.curY-l.touchObject.startY,2))),!l.options.verticalSwiping&&!l.swiping&&r>4?(l.scrolling=!0,!1):(l.options.verticalSwiping===!0&&(l.touchObject.swipeLength=r),t=l.swipeDirection(),void 0!==i.originalEvent&&l.touchObject.swipeLength>4&&(l.swiping=!0,i.preventDefault()),s=(l.options.rtl===!1?1:-1)*(l.touchObject.curX>l.touchObject.startX?1:-1),l.options.verticalSwiping===!0&&(s=l.touchObject.curY>l.touchObject.startY?1:-1),o=l.touchObject.swipeLength,l.touchObject.edgeHit=!1,l.options.infinite===!1&&(0===l.currentSlide&&\"right\"===t||l.currentSlide>=l.getDotCount()&&\"left\"===t)&&(o=l.touchObject.swipeLength*l.options.edgeFriction,l.touchObject.edgeHit=!0),l.options.vertical===!1?l.swipeLeft=e+o*s:l.swipeLeft=e+o*(l.$list.height()/l.listWidth)*s,l.options.verticalSwiping===!0&&(l.swipeLeft=e+o*s),l.options.fade!==!0&&l.options.touchMove!==!1&&(l.animating===!0?(l.swipeLeft=null,!1):void l.setCSS(l.swipeLeft))))},e.prototype.swipeStart=function(i){var e,t=this;return t.interrupted=!0,1!==t.touchObject.fingerCount||t.slideCount<=t.options.slidesToShow?(t.touchObject={},!1):(void 0!==i.originalEvent&&void 0!==i.originalEvent.touches&&(e=i.originalEvent.touches[0]),t.touchObject.startX=t.touchObject.curX=void 0!==e?e.pageX:i.clientX,t.touchObject.startY=t.touchObject.curY=void 0!==e?e.pageY:i.clientY,void(t.dragging=!0))},e.prototype.unfilterSlides=e.prototype.slickUnfilter=function(){var i=this;null!==i.$slidesCache&&(i.unload(),i.$slideTrack.children(this.options.slide).detach(),i.$slidesCache.appendTo(i.$slideTrack),i.reinit())},e.prototype.unload=function(){var e=this;i(\".slick-cloned\",e.$slider).remove(),e.$dots&&e.$dots.remove(),e.$prevArrow&&e.htmlExpr.test(e.options.prevArrow)&&e.$prevArrow.remove(),e.$nextArrow&&e.htmlExpr.test(e.options.nextArrow)&&e.$nextArrow.remove(),e.$slides.removeClass(\"slick-slide slick-active slick-visible slick-current\").attr(\"aria-hidden\",\"true\").css(\"width\",\"\")},e.prototype.unslick=function(i){var e=this;e.$slider.trigger(\"unslick\",[e,i]),e.destroy()},e.prototype.updateArrows=function(){var i,e=this;i=Math.floor(e.options.slidesToShow/2),e.options.arrows===!0&&e.slideCount>e.options.slidesToShow&&!e.options.infinite&&(e.$prevArrow.removeClass(\"slick-disabled\").attr(\"aria-disabled\",\"false\"),e.$nextArrow.removeClass(\"slick-disabled\").attr(\"aria-disabled\",\"false\"),0===e.currentSlide?(e.$prevArrow.addClass(\"slick-disabled\").attr(\"aria-disabled\",\"true\"),e.$nextArrow.removeClass(\"slick-disabled\").attr(\"aria-disabled\",\"false\")):e.currentSlide>=e.slideCount-e.options.slidesToShow&&e.options.centerMode===!1?(e.$nextArrow.addClass(\"slick-disabled\").attr(\"aria-disabled\",\"true\"),e.$prevArrow.removeClass(\"slick-disabled\").attr(\"aria-disabled\",\"false\")):e.currentSlide>=e.slideCount-1&&e.options.centerMode===!0&&(e.$nextArrow.addClass(\"slick-disabled\").attr(\"aria-disabled\",\"true\"),e.$prevArrow.removeClass(\"slick-disabled\").attr(\"aria-disabled\",\"false\")))},e.prototype.updateDots=function(){var i=this;null!==i.$dots&&(i.$dots.find(\"li\").removeClass(\"slick-active\").end(),i.$dots.find(\"li\").eq(Math.floor(i.currentSlide/i.options.slidesToScroll)).addClass(\"slick-active\"))},e.prototype.visibility=function(){var i=this;i.options.autoplay&&(document[i.hidden]?i.interrupted=!0:i.interrupted=!1)},i.fn.slick=function(){var i,t,o=this,s=arguments[0],n=Array.prototype.slice.call(arguments,1),r=o.length;for(i=0;i<r;i++)if(\"object\"==typeof s||\"undefined\"==typeof s?o[i].slick=new e(o[i],s):t=o[i].slick[s].apply(o[i].slick,n),\"undefined\"!=typeof t)return t;return o}});\r\n","Magento_PageBuilder/js/system/config/enable-field.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\ndefine([\r\n    'jquery',\r\n    'mage/translate',\r\n    'Magento_Ui/js/modal/confirm',\r\n    'domReady!'\r\n], function ($, $t, confirm) {\r\n    'use strict';\r\n\r\n    return function (config, enableSelectEl) {\r\n\r\n        var $enableSelectEl = $(enableSelectEl),\r\n            isEnabledInDatabase = !!parseInt($enableSelectEl.val(), 10);\r\n\r\n        $enableSelectEl.on('change', function () {\r\n            var userIsDisabling = !parseInt($enableSelectEl.val(), 10);\r\n\r\n            if (!isEnabledInDatabase || !userIsDisabling) {\r\n                return;\r\n            }\r\n\r\n            confirm({\r\n                title: $t(config.modalTitleText),\r\n                content: $t(config.modalContentBody),\r\n                buttons: [{\r\n                    text: $t('Cancel'),\r\n                    class: 'action-secondary action-dismiss action-pagebuilder-cancel',\r\n\r\n                    /**\r\n                     * Close modal and trigger 'cancel' action on click\r\n                     */\r\n                    click: function (event) {\r\n                        this.closeModal(event);\r\n                    }\r\n                }, {\r\n                    text: $t('Turn Off'),\r\n                    class: 'action-primary action-accept',\r\n\r\n                    /**\r\n                     * Close modal and trigger 'confirm' action on click\r\n                     */\r\n                    click: function (event) {\r\n                        this.closeModal(event, true);\r\n                    }\r\n                }],\r\n                actions: {\r\n\r\n                    /**\r\n                     * Revert back to original Enabled setting\r\n                     */\r\n                    cancel: function () {\r\n                        $enableSelectEl.val(Number(true));\r\n                    }\r\n                }\r\n            });\r\n        });\r\n    };\r\n});\r\n","Magento_PageBuilder/js/system/config/google-maps-api-key-validator.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\ndefine(['jquery'], function ($) {\r\n    'use strict';\r\n\r\n    /**\r\n     * Initialize click and input events to handle validation\r\n     *\r\n     * @param {Object} config\r\n     * @param {HTMLElement} el\r\n     */\r\n    var GoogleMapsApiKeyValidator = function (config, el) {\r\n        var sourceElement = $('#' + config.sourceField),\r\n            initialValue = sourceElement.val(),\r\n            resultElement = $('#' + config.elementId + ' > .result');\r\n\r\n        if (initialValue) {\r\n            $(el).attr('disabled', false);\r\n        }\r\n\r\n        $(el).on('click', function () {\r\n            var resultText = config.invalidLabel,\r\n                resultIcon = 'icon-admin-pagebuilder-error',\r\n                resultHtml;\r\n\r\n            $.ajax({\r\n                url: config.validateUrl,\r\n                showLoader: true,\r\n                data: {\r\n                    googleMapsApiKey: sourceElement.val()\r\n                }\r\n            }).done(function (data) {\r\n                if (data.success) {\r\n                    resultText = config.validLabel;\r\n                    resultIcon = 'icon-admin-pagebuilder-success';\r\n                }\r\n\r\n                resultHtml = '<i class=\"' + resultIcon + '\"></i> ' + resultText;\r\n                resultElement.html(resultHtml);\r\n            });\r\n        });\r\n\r\n        sourceElement.on('keyup', function (event) {\r\n            var elementValue = event.currentTarget.value,\r\n                buttonText = config.buttonLabel;\r\n\r\n            $(el).attr('disabled', !elementValue);\r\n            resultElement.html(buttonText);\r\n        });\r\n    };\r\n\r\n    return GoogleMapsApiKeyValidator;\r\n});\r\n","Magento_PageBuilder/js/system/config/switch-attribute-type.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\ndefine([\r\n    'jquery',\r\n    'mage/translate',\r\n    'Magento_Ui/js/modal/confirm',\r\n    'domReady!'\r\n], function ($, $t, confirm) {\r\n    'use strict';\r\n\r\n    return function (config, attributeDropDownEl) {\r\n\r\n        var $attributeDropDownEl = $(attributeDropDownEl),\r\n            previousOption = '';\r\n\r\n        $attributeDropDownEl.on('focus', function () {\r\n            // Store the current value on focus and on change\r\n            previousOption = this.value;\r\n        });\r\n\r\n        $attributeDropDownEl.on('change', function () {\r\n\r\n            if (attributeDropDownEl.options.length > 3 ||\r\n                this.value === 'pagebuilder' ||\r\n                previousOption !== 'pagebuilder'\r\n            ) {\r\n                return;\r\n            }\r\n\r\n            confirm({\r\n                title: $t(config.modalTitleText),\r\n                content: $t(config.modalContentBody),\r\n                buttons: [{\r\n                    text: $t('Cancel'),\r\n                    class: 'action-secondary action-dismiss action-pagebuilder-cancel',\r\n\r\n                    /**\r\n                     * Close modal and trigger 'cancel' action on click\r\n                     */\r\n                    click: function (event) {\r\n                        this.closeModal(event);\r\n                    }\r\n                }, {\r\n                    text: $t('Change Input Type'),\r\n                    class: 'action-primary action-accept',\r\n\r\n                    /**\r\n                     * Close modal and trigger 'confirm' action on click\r\n                     */\r\n                    click: function (event) {\r\n                        this.closeModal(event, true);\r\n                    }\r\n                }],\r\n                actions: {\r\n\r\n                    /**\r\n                     * Revert back to 'pagebuilder' setting\r\n                     */\r\n                    cancel: function () {\r\n                        $attributeDropDownEl.val('pagebuilder');\r\n                        $attributeDropDownEl.trigger('change');\r\n                    }\r\n                }\r\n            });\r\n        });\r\n    };\r\n});\r\n","Magento_PageBuilder/js/system/config/validator-rules-mixin.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\ndefine([\r\n    'jquery'\r\n], function ($) {\r\n    'use strict';\r\n\r\n    return function (target) {\r\n        $.validator.addMethod(\r\n            'validate-google-map-style',\r\n            function (value) {\r\n                if ($.mage.isEmptyNoTrim(value)) {\r\n                    return true;\r\n                }\r\n\r\n                try {\r\n                    JSON.parse(value);\r\n                } catch (e) {\r\n                    return false;\r\n                }\r\n\r\n                return true;\r\n            },\r\n            $.mage.__('Google Maps Style JSON is invalid. Please paste the valid JSON style.')\r\n        );\r\n\r\n        $.validator.addMethod(\r\n            'validate-greater-than-one',\r\n            function (value) {\r\n                return !(value <= 1);\r\n            },\r\n            $.mage.__('Please enter a number 2 or greater in this field.')\r\n        );\r\n\r\n        $.validator.addMethod(\r\n            'validate-default-grid-size',\r\n            function (value) {\r\n                return !(parseInt(value, 10) >\r\n                    parseInt($('[name=\"groups[pagebuilder][fields][column_grid_max][value]\"]').val(), 10)\r\n                );\r\n            },\r\n            $.mage.__('Default grid size must be less than the maximum grid size.')\r\n        );\r\n\r\n        return target;\r\n    };\r\n});\r\n","Magento_PageBuilder/js/types/text.js":"/*eslint-disable */\r\n/* jscs:disable */\r\ndefine([], function () {\r\n  \"use strict\";\r\n});\r\n//# sourceMappingURL=text.js.map","Magento_PageBuilder/js/utils/array.js":"/*eslint-disable */\r\n/* jscs:disable */\r\ndefine([], function () {\r\n  /**\r\n   * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n   * See COPYING.txt for license details.\r\n   */\r\n\r\n  /**\r\n   * Move an array item within the current array\r\n   *\r\n   * @param array\r\n   * @param fromIndex\r\n   * @param toIndex\r\n   * @returns {Array<any>}\r\n   */\r\n  function moveArrayItem(array, fromIndex, toIndex) {\r\n    array.splice(toIndex, 0, array.splice(fromIndex, 1)[0]);\r\n    return array;\r\n  }\r\n  /**\r\n   * Move an array item from one array into another\r\n   *\r\n   * @param item\r\n   * @param array\r\n   * @param toIndex\r\n   * @returns {Array<any>}\r\n   */\r\n\r\n\r\n  function moveArrayItemIntoArray(item, array, toIndex) {\r\n    array.splice(toIndex, 0, item);\r\n    return array;\r\n  }\r\n  /**\r\n   * Remove an array item\r\n   *\r\n   * @param array\r\n   * @param item\r\n   * @returns {Array<any>}\r\n   */\r\n\r\n\r\n  function removeArrayItem(array, item) {\r\n    var index = array.indexOf(item);\r\n\r\n    if (index > -1) {\r\n      array.splice(index, 1);\r\n    }\r\n\r\n    return array;\r\n  }\r\n  /**\r\n   * Search outwards from an array item until a callback matches\r\n   *\r\n   * @author https://github.com/thejameskyle/outward-search\r\n   *\r\n   * @param {any[]} items\r\n   * @param {number} start\r\n   * @param {(item: any, index: number) => boolean} callback\r\n   * @returns {any}\r\n   * @api\r\n   */\r\n\r\n\r\n  function outwardSearch(items, start, callback) {\r\n    if (!items.length) {\r\n      return null;\r\n    }\r\n\r\n    if (start < 0 || start > items.length - 1) {\r\n      throw new TypeError(\"starting index must be within bounds of array\");\r\n    }\r\n\r\n    var max = items.length - 1;\r\n    var low = start;\r\n    var high = start + 1;\r\n\r\n    while (true) {\r\n      var hitMin = low < 0;\r\n      var hitMax = high > max;\r\n\r\n      if (hitMin && hitMax) {\r\n        break;\r\n      }\r\n\r\n      if (!hitMin) {\r\n        var _item = items[low];\r\n        var result = callback(_item, low);\r\n\r\n        if (!!result) {\r\n          return _item;\r\n        }\r\n\r\n        low--;\r\n      }\r\n\r\n      if (!hitMax) {\r\n        var _item2 = items[high];\r\n\r\n        var _result = callback(_item2, high);\r\n\r\n        if (!!_result) {\r\n          return _item2;\r\n        }\r\n\r\n        high++;\r\n      }\r\n    }\r\n\r\n    return null;\r\n  }\r\n\r\n  return {\r\n    moveArrayItem: moveArrayItem,\r\n    moveArrayItemIntoArray: moveArrayItemIntoArray,\r\n    removeArrayItem: removeArrayItem,\r\n    outwardSearch: outwardSearch\r\n  };\r\n});\r\n//# sourceMappingURL=array.js.map","Magento_PageBuilder/js/utils/breakpoints.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\ndefine([\r\n    'underscore'\r\n], function (_) {\r\n    'use strict';\r\n\r\n    return {\r\n        /**\r\n         * Build media query.\r\n         *\r\n         * @param {Object} conditions\r\n         * @returns {String}\r\n         */\r\n        buildMedia: function (conditions) {\r\n            var result = _.map(_.pairs(conditions), function (condition) {\r\n                return '(' + condition.join(': ') + ')';\r\n            });\r\n\r\n            return result.join(' and ');\r\n        }\r\n    };\r\n});\r\n","Magento_PageBuilder/js/utils/check-stage-full-screen.js":"/*eslint-disable */\r\n/* jscs:disable */\r\ndefine([\"jquery\"], function (_jquery) {\r\n  /**\r\n   * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n   * See COPYING.txt for license details.\r\n   */\r\n\r\n  /**\r\n   * Check if stage full screen mode is active\r\n   *\r\n   * @param {string} stageId\r\n   * @returns {boolean}\r\n   */\r\n  function checkStageFullScreen(stageId) {\r\n    var $stage = (0, _jquery)(\"#\" + stageId);\r\n    var $fullScreenStageWrapper = $stage.closest(\".stage-full-screen\");\r\n    return !!$fullScreenStageWrapper.length;\r\n  }\r\n\r\n  return checkStageFullScreen;\r\n});\r\n//# sourceMappingURL=check-stage-full-screen.js.map","Magento_PageBuilder/js/utils/create-stylesheet.js":"/*eslint-disable */\r\n/* jscs:disable */\r\ndefine([], function () {\r\n  /**\r\n   * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n   * See COPYING.txt for license details.\r\n   */\r\n\r\n  /**\r\n   * Create a stylesheet DOM object from a style block declaration\r\n   *\r\n   * @param {StyleBlocks} blocks\r\n   * @returns {HTMLStyleElement}\r\n   * @api\r\n   */\r\n  function createStyleSheet(blocks) {\r\n    var style = document.createElement(\"style\");\r\n    var text = Object.keys(blocks).map(function (selector) {\r\n      return selector + (\" {\\n\" + processDeclarationBlock(blocks[selector]) + \"\\n}\");\r\n    }).join(\"\\n\");\r\n    style.setAttribute(\"type\", \"text/css\");\r\n    style.appendChild(document.createTextNode(text));\r\n    return style;\r\n  }\r\n  /**\r\n   * Process a declaration block from the rule set\r\n   *\r\n   * @param {StyleBlock} block\r\n   * @returns {string}\r\n   */\r\n\r\n\r\n  function processDeclarationBlock(block) {\r\n    return Object.keys(block).map(function (property) {\r\n      return processDeclaration(property, block[property]);\r\n    }).join(\"\\n\");\r\n  }\r\n  /**\r\n   * Process a declaration, creating the property: value syntax\r\n   *\r\n   * @param {string} property\r\n   * @param {string | number} value\r\n   * @returns {string}\r\n   */\r\n\r\n\r\n  function processDeclaration(property, value) {\r\n    return hyphenate(property) + (\": \" + value + \";\");\r\n  }\r\n  /**\r\n   * Hyphenate style property, from textAlign to text-align\r\n   *\r\n   * @param {string} property\r\n   * @returns {string}\r\n   */\r\n\r\n\r\n  function hyphenate(property) {\r\n    return property.replace(/[A-Z]/g, function (match) {\r\n      return \"-\" + match.toLowerCase();\r\n    });\r\n  }\r\n\r\n  return {\r\n    createStyleSheet: createStyleSheet\r\n  };\r\n});\r\n//# sourceMappingURL=create-stylesheet.js.map","Magento_PageBuilder/js/utils/delay-until.js":"/*eslint-disable */\r\n/* jscs:disable */\r\ndefine([], function () {\r\n  /**\r\n   * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n   * See COPYING.txt for license details.\r\n   */\r\n\r\n  /**\r\n   * Delay until a condition is met\r\n   *\r\n   * @param {() => void} callback\r\n   * @param {() => boolean} condition\r\n   * @param {number} interval\r\n   */\r\n  function delayUntil(callback, condition, interval) {\r\n    if (interval === void 0) {\r\n      interval = 50;\r\n    }\r\n\r\n    var delayInterval = setInterval(function () {\r\n      if (condition()) {\r\n        clearInterval(delayInterval);\r\n        callback();\r\n      }\r\n    }, interval);\r\n  }\r\n\r\n  return delayUntil;\r\n});\r\n//# sourceMappingURL=delay-until.js.map","Magento_PageBuilder/js/utils/directives.js":"/*eslint-disable */\r\n/* jscs:disable */\r\ndefine([\"Magento_PageBuilder/js/config\"], function (_config) {\r\n  /**\r\n   * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n   * See COPYING.txt for license details.\r\n   */\r\n\r\n  /**\r\n   * MIME type to use in place of the image\r\n   *\r\n   * @type {string}\r\n   */\r\n  var mimeType = \"text/magento-directive\";\r\n  /**\r\n   * Determine if a URL is a directive of our type\r\n   *\r\n   * @param {string} url\r\n   * @returns {boolean}\r\n   * @api\r\n   */\r\n\r\n  function isDirectiveDataUrl(url) {\r\n    return url.indexOf(\"data:\" + mimeType) === 0;\r\n  }\r\n  /**\r\n   * Convert a directive into our data URI\r\n   *\r\n   * @param {string} directive\r\n   * @returns {string}\r\n   * @api\r\n   */\r\n\r\n\r\n  function toDataUrl(directive) {\r\n    return \"data:\" + mimeType + \",\" + encodeURIComponent(directive);\r\n  }\r\n  /**\r\n   * Convert a URI to it's directive equivalent\r\n   *\r\n   * @param {string} url\r\n   * @returns {string}\r\n   * @api\r\n   */\r\n\r\n\r\n  function fromDataUrl(url) {\r\n    if (!isDirectiveDataUrl(url)) {\r\n      throw Error(url + \" is not a magento directive data url\");\r\n    }\r\n\r\n    return decodeURIComponent(url.split(mimeType + \",\")[1]);\r\n  }\r\n  /**\r\n   * Decode all data URIs present in a string\r\n   *\r\n   * @param {string} str\r\n   * @returns {string}\r\n   * @api\r\n   */\r\n\r\n\r\n  function decodeAllDataUrlsInString(str) {\r\n    return str.replace(new RegExp(\"url\\\\s*\\\\(\\\\s*(?:&quot;|\\'|\\\")?(data:\" + mimeType + \",.+?)(?:&quot;|\\'|\\\")?\\\\s*\\\\)\", \"g\"), function (match, url) {\r\n      return \"url(\\'\" + fromDataUrl(url) + \"\\')\";\r\n    });\r\n  }\r\n  /**\r\n   * Retrieve the image URL with directive\r\n   *\r\n   * @param {Array} image\r\n   * @returns {string}\r\n   * @api\r\n   */\r\n\r\n\r\n  function getImageUrl(image) {\r\n    var imageUrl = image[0].url;\r\n    var mediaPath = imageUrl.split(_config.getConfig(\"media_url\"));\r\n    return \"{{media url=\" + mediaPath[1] + \"}}\";\r\n  }\r\n  /**\r\n   * Remove quotes in media directives, {{media url=\"wysiwyg/image.png\"}} convert to {{media url=wysiwyg/image.png}}\r\n   *\r\n   * @param {string} html\r\n   * @returns {string}\r\n   * @api\r\n   */\r\n\r\n\r\n  function removeQuotesInMediaDirectives(html) {\r\n    if (!html) {\r\n      return \"\";\r\n    }\r\n\r\n    var mediaDirectiveRegExp = /\\{\\{\\s*media\\s+url\\s*=\\s*(.*?)\\s*\\}\\}/g;\r\n    var urlRegExp = /\\{\\{\\s*media\\s+url\\s*=\\s*(.*)\\s*\\}\\}/;\r\n    var mediaDirectiveMatches = html.match(mediaDirectiveRegExp);\r\n\r\n    if (mediaDirectiveMatches) {\r\n      mediaDirectiveMatches.forEach(function (mediaDirective) {\r\n        var urlMatches = mediaDirective.match(urlRegExp);\r\n\r\n        if (urlMatches && urlMatches[1] !== undefined) {\r\n          var directiveWithOutQuotes = \"{{media url=\" + urlMatches[1].replace(/(\"|&quot;|\\s)/g, \"\") + \"}}\";\r\n          html = html.replace(mediaDirective, directiveWithOutQuotes);\r\n        }\r\n      });\r\n    }\r\n\r\n    return html;\r\n  }\r\n  /**\r\n   * Replace media directives with actual media URLs\r\n   *\r\n   * @param {string} html\r\n   * @returns {string}\r\n   * @api\r\n   */\r\n\r\n\r\n  function convertMediaDirectivesToUrls(html) {\r\n    if (!html) {\r\n      return \"\";\r\n    }\r\n\r\n    var mediaDirectiveRegExp = /\\{\\{\\s*media\\s+url\\s*=\\s*\"?[^\"\\s\\}]+\"?\\s*\\}\\}/g;\r\n    var mediaDirectiveMatches = html.match(mediaDirectiveRegExp);\r\n\r\n    if (mediaDirectiveMatches) {\r\n      mediaDirectiveMatches.forEach(function (mediaDirective) {\r\n        var urlRegExp = /\\{\\{\\s*media\\s+url\\s*=\\s*(?:\"|&quot;)?(.+)(?=}})\\s*\\}\\}/;\r\n        var urlMatches = mediaDirective.match(urlRegExp);\r\n\r\n        if (urlMatches && typeof urlMatches[1] !== \"undefined\") {\r\n          html = html.replace(mediaDirective, _config.getConfig(\"media_url\") + urlMatches[1].replace(/\"$/, \"\").replace(/&quot;$/, \"\"));\r\n        }\r\n      });\r\n    }\r\n\r\n    return html;\r\n  }\r\n  /**\r\n   * Replace data-src attribute with src.\r\n   *\r\n   * @param {string} html\r\n   * @returns {string}\r\n   */\r\n\r\n\r\n  function replaceWithSrc(html) {\r\n    return html.replace(new RegExp(\"data-tmp-src=\\\"\\{\\{\", \"g\"), \"src=\\\"{{\");\r\n  }\r\n  /**\r\n   * Replace src attribute with data-tmp-src.\r\n   *\r\n   * @param {string} html\r\n   * @returns {string}\r\n   */\r\n\r\n\r\n  function replaceWithDataSrc(html) {\r\n    return html.replace(new RegExp(\"src=\\\"\\{\\{\", \"g\"), \"data-tmp-src=\\\"{{\");\r\n  }\r\n\r\n  return Object.assign(decodeAllDataUrlsInString, {\r\n    toDataUrl: toDataUrl,\r\n    fromDataUrl: fromDataUrl,\r\n    getImageUrl: getImageUrl,\r\n    removeQuotesInMediaDirectives: removeQuotesInMediaDirectives,\r\n    convertMediaDirectivesToUrls: convertMediaDirectivesToUrls,\r\n    replaceWithSrc: replaceWithSrc,\r\n    replaceWithDataSrc: replaceWithDataSrc\r\n  });\r\n});\r\n//# sourceMappingURL=directives.js.map","Magento_PageBuilder/js/utils/editor.js":"/*eslint-disable */\r\n/* jscs:disable */\r\ndefine([\"jquery\", \"mage/adminhtml/tools\", \"mage/translate\", \"mageUtils\", \"Magento_PageBuilder/js/config\"], function (_jquery, _tools, _translate, _mageUtils, _config) {\r\n  /**\r\n   * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n   * See COPYING.txt for license details.\r\n   */\r\n\r\n  /**\r\n   * Is the inline WYSIWYG supported?\r\n   */\r\n  function isWysiwygSupported() {\r\n    return _config.getConfig(\"can_use_inline_editing_on_stage\");\r\n  }\r\n  /**\r\n   * Encode content for TinyMCE\r\n   *\r\n   * @param content\r\n   */\r\n\r\n\r\n  function encodeContent(content) {\r\n    if (isWysiwygSupported()) {\r\n      return convertVariablesToHtmlPreview(convertWidgetsToHtmlPreview(unescapeDoubleQuoteWithinWidgetDirective(removeInvalidPlaceholders(content))));\r\n    }\r\n\r\n    return content;\r\n  }\r\n  /**\r\n   * Prior to parsing the content remove any invalid placeholders within the content\r\n   *\r\n   * @param content\r\n   */\r\n\r\n\r\n  function removeInvalidPlaceholders(content) {\r\n    if (content.indexOf(\"magento-placeholder\") !== -1) {\r\n      var html = new DOMParser().parseFromString(content, \"text/html\");\r\n      var placeholders = html.querySelectorAll(\"span.magento-placeholder\");\r\n\r\n      if (placeholders.length > 0) {\r\n        [].slice.call(placeholders).forEach(function (placeholder) {\r\n          // If the invalid placeholder contains a directive, let's insert it back where it belongs\r\n          if (placeholder.innerText.indexOf(\"{{\") !== -1) {\r\n            placeholder.parentNode.insertBefore(document.createTextNode(placeholder.innerText), placeholder);\r\n          }\r\n\r\n          placeholder.remove();\r\n        });\r\n      }\r\n\r\n      return html.body.innerHTML;\r\n    }\r\n\r\n    return content;\r\n  }\r\n  /**\r\n   * Convert all variables to their HTML preview counterparts\r\n   *\r\n   * Re-implements logic from lib/web/mage/adminhtml/wysiwyg/tiny_mce/plugins/magentovariable/editor_plugin.js to parse\r\n   * and replace the variables within the content.\r\n   *\r\n   * @param content\r\n   */\r\n\r\n\r\n  function convertVariablesToHtmlPreview(content) {\r\n    var config = _config.getConfig(\"tinymce\").variables;\r\n\r\n    var magentoVariables = JSON.parse(config.placeholders);\r\n    return content.replace(/{\\{\\s?(?:customVar code=|config path=\\\")([^\\}\\\"]+)[\\\"]?\\s?\\}\\}/ig, function (match, path) {\r\n      var id = btoa(path).replace(/\\+/g, \":\").replace(/\\//g, \"_\").replace(/=/g, \"-\");\r\n      var placeholder = (0, _jquery)(\"<span />\").addClass(\"magento-variable\").addClass(\"magento-placeholder\").addClass(\"mceNonEditable\").prop(\"id\", id).prop(\"contentEditable\", \"false\");\r\n\r\n      if (magentoVariables[path].variable_type === \"custom\") {\r\n        placeholder.addClass(\"magento-custom-var\");\r\n      }\r\n\r\n      var variableType = magentoVariables[path].variable_type;\r\n\r\n      if (magentoVariables[path] && (variableType === \"default\" || variableType === \"custom\")) {\r\n        placeholder.text(magentoVariables[path].variable_name);\r\n      } else {\r\n        // If we're unable to find the placeholder we need to attach an error class\r\n        placeholder.addClass(\"magento-placeholder-error\");\r\n        placeholder.text(variableType === \"custom\" ? path : (0, _translate)(\"Not Found\"));\r\n      }\r\n\r\n      return placeholder[0].outerHTML;\r\n    });\r\n  }\r\n  /**\r\n   * Convert widgets within content to their HTML counterparts\r\n   *\r\n   * @param content\r\n   */\r\n\r\n\r\n  function convertWidgetsToHtmlPreview(content) {\r\n    var config = _config.getConfig(\"tinymce\").widgets;\r\n\r\n    return content.replace(/\\{\\{widget([\\S\\s]*?)\\}\\}/ig, function (match, widgetBody) {\r\n      var attributes = parseAttributesString(widgetBody);\r\n      var imageSrc;\r\n\r\n      if (attributes.type) {\r\n        var placeholder = (0, _jquery)(\"<span />\").addClass(\"magento-placeholder\").addClass(\"magento-widget\").addClass(\"mceNonEditable\").prop(\"id\", _mageUtils.uniqueid()).prop(\"contentEditable\", \"false\");\r\n        attributes.type = attributes.type.replace(/\\\\\\\\/g, \"\\\\\");\r\n        imageSrc = config.placeholders[attributes.type];\r\n\r\n        if (!imageSrc) {\r\n          imageSrc = config.error_image_url;\r\n          placeholder.addClass(\"magento-placeholder-error\");\r\n        }\r\n\r\n        var image = (0, _jquery)(\"<img />\").prop(\"id\", window.Base64.idEncode(match)).prop(\"src\", imageSrc);\r\n        placeholder.append(image);\r\n        var widgetType = \"\";\r\n\r\n        if (config.types[attributes.type]) {\r\n          widgetType += config.types[attributes.type];\r\n        }\r\n\r\n        placeholder.append((0, _jquery)(document.createTextNode(widgetType)));\r\n        return placeholder[0].outerHTML;\r\n      }\r\n    });\r\n  }\r\n  /**\r\n   * Parse attributes into a string\r\n   *\r\n   * @param attributes\r\n   */\r\n\r\n\r\n  function parseAttributesString(attributes) {\r\n    var result = {};\r\n    attributes.replace(/(\\w+)(?:\\s*=\\s*(?:(?:\"((?:\\\\.|[^\"])*)\")|(?:'((?:\\\\.|[^'])*)')|([^>\\s]+)))?/g, function (match, key, value) {\r\n      result[key] = value ? value.replace(/&quote;/g, \"\\\"\") : value;\r\n      return \"\";\r\n    });\r\n    return result;\r\n  }\r\n  /**\r\n   * Lock all image sizes before initializing TinyMCE to avoid content jumps\r\n   *\r\n   * @param element\r\n   */\r\n\r\n\r\n  function lockImageSize(element) {\r\n    [].slice.call(element.querySelectorAll(\"img\")).forEach(function (image) {\r\n      if (image.style.width.length === 0) {\r\n        image.style.width = /^\\d+$/.test(image.getAttribute(\"width\")) ? image.getAttribute(\"width\") + \"px\" : image.getAttribute(\"width\");\r\n        image.setAttribute(\"data-width-locked\", \"true\");\r\n      }\r\n\r\n      if (image.style.height.length === 0) {\r\n        image.style.height = /^\\d+$/.test(image.getAttribute(\"height\")) ? image.getAttribute(\"height\") + \"px\" : image.getAttribute(\"height\");\r\n        image.setAttribute(\"data-height-locked\", \"true\");\r\n      }\r\n    });\r\n  }\r\n  /**\r\n   * Reverse forced image size after TinyMCE is finished initializing\r\n   *\r\n   * @param element\r\n   */\r\n\r\n\r\n  function unlockImageSize(element) {\r\n    [].slice.call(element.querySelectorAll(\"img\")).forEach(function (image) {\r\n      if (image.getAttribute(\"data-width-locked\")) {\r\n        image.style.width = null;\r\n        image.removeAttribute(\"data-width-locked\");\r\n      }\r\n\r\n      if (image.getAttribute(\"data-height-locked\")) {\r\n        image.style.height = null;\r\n        image.removeAttribute(\"data-height-locked\");\r\n      }\r\n    });\r\n  }\r\n  /**\r\n   * Create a bookmark within the content to be restored later\r\n   */\r\n\r\n\r\n  function createBookmark(event) {\r\n    var wrapperElement = (0, _jquery)(event.target).parents(\".inline-wysiwyg\");\r\n    /**\r\n     * Create an element bookmark\r\n     *\r\n     * @param element\r\n     */\r\n\r\n    var createElementBookmark = function createElementBookmark(element) {\r\n      return {\r\n        name: element.nodeName,\r\n        index: findNodeIndex(wrapperElement[0], element.nodeName, element)\r\n      };\r\n    }; // Handle direct clicks onto an IMG\r\n\r\n\r\n    if (event.target.nodeName === \"IMG\") {\r\n      return createElementBookmark(event.target);\r\n    }\r\n\r\n    if (window.getSelection) {\r\n      var selection = window.getSelection();\r\n\r\n      var id = _mageUtils.uniqueid();\r\n\r\n      if (selection.getRangeAt && selection.rangeCount) {\r\n        var range = normalizeTableCellSelection(selection.getRangeAt(0).cloneRange()); // Determine if the current node is an image or span that we want to select instead of text\r\n\r\n        var currentNode = range.startContainer;\r\n\r\n        if (currentNode.nodeType === Node.ELEMENT_NODE && (currentNode.nodeName === \"IMG\" || currentNode.nodeName === \"SPAN\" && currentNode.classList.contains(\"magento-placeholder\"))) {\r\n          return createElementBookmark(currentNode);\r\n        } // Also check if the direct parent is either of these\r\n\r\n\r\n        var parentNode = range.startContainer.parentNode;\r\n\r\n        if (parentNode.nodeName === \"IMG\" || parentNode.nodeName === \"SPAN\" && parentNode.classList.contains(\"magento-placeholder\")) {\r\n          return createElementBookmark(parentNode);\r\n        }\r\n\r\n        if (!range.collapsed) {\r\n          range.collapse(false);\r\n          var endBookmarkNode = createBookmarkSpan(id + \"_end\");\r\n          range.insertNode(endBookmarkNode);\r\n        }\r\n\r\n        var range2 = normalizeTableCellSelection(selection.getRangeAt(0));\r\n        range2.collapse(true);\r\n        var startBookmarkNode = createBookmarkSpan(id + \"_start\");\r\n        range2.insertNode(startBookmarkNode);\r\n        return {\r\n          id: id\r\n        };\r\n      }\r\n    }\r\n\r\n    return null;\r\n  }\r\n  /**\r\n   * Move the cursor to our new bookmark\r\n   *\r\n   * @param bookmark\r\n   */\r\n\r\n\r\n  function moveToBookmark(bookmark) {\r\n    window.tinymce.activeEditor.selection.moveToBookmark(bookmark);\r\n  }\r\n  /**\r\n   * Retrieve active editor from TinyMCE\r\n   */\r\n\r\n\r\n  function getActiveEditor() {\r\n    return window.tinymce.activeEditor;\r\n  }\r\n  /**\r\n   * Create a bookmark span for the selection\r\n   *\r\n   * @param id\r\n   */\r\n\r\n\r\n  function createBookmarkSpan(id) {\r\n    var bookmark = document.createElement(\"span\");\r\n    bookmark.setAttribute(\"data-mce-type\", \"bookmark\");\r\n    bookmark.id = id;\r\n    bookmark.style.overflow = \"hidden\";\r\n    bookmark.style.lineHeight = \"0px\";\r\n    return bookmark;\r\n  }\r\n  /**\r\n   * Find the index of an element within a wrapper\r\n   *\r\n   * @param wrapperElement\r\n   * @param name\r\n   * @param element\r\n   */\r\n\r\n\r\n  function findNodeIndex(wrapperElement, name, element) {\r\n    var selector = name.toLowerCase() + ':not([data-mce-bogus=\"all\"])'; // If there is no ID on the element add a unique ID so we can efficiently find it\r\n\r\n    if (!element.id) {\r\n      element.id = _mageUtils.uniqueid();\r\n    }\r\n\r\n    return (0, _jquery)(wrapperElement).find(selector).toArray().findIndex(function (node) {\r\n      return node.id === element.id;\r\n    });\r\n  }\r\n  /**\r\n   * Get a node by index within a wrapper\r\n   *\r\n   * @param wrapperElement\r\n   * @param name\r\n   * @param index\r\n   */\r\n\r\n\r\n  function getNodeByIndex(wrapperElement, name, index) {\r\n    var selector = name.toLowerCase() + ':not([data-mce-bogus=\"all\"])';\r\n    return (0, _jquery)(wrapperElement).find(selector).get(index);\r\n  }\r\n  /**\r\n   * Create a double click event that works in all browsers\r\n   */\r\n\r\n\r\n  function createDoubleClickEvent() {\r\n    try {\r\n      return new MouseEvent(\"dblclick\", {\r\n        view: window,\r\n        bubbles: true,\r\n        cancelable: true\r\n      });\r\n    } catch (e) {\r\n      var dblClickEvent = document.createEvent(\"MouseEvent\");\r\n      dblClickEvent.initMouseEvent(\"dblclick\", true, true, window, 0, 0, 0, 0, 0, false, false, false, false, 0, null);\r\n      return dblClickEvent;\r\n    }\r\n  }\r\n  /**\r\n   * Replace all desktop styles that left unprocessed back to style element to prevent data corruption.\r\n   */\r\n\r\n\r\n  function processInlineStyles(html) {\r\n    var name = _config.getConfig(\"defaultViewport\");\r\n\r\n    var searchPattern = new RegExp(\"data-\" + name + \"-style=\", \"g\");\r\n    return html.replace(searchPattern, \"style=\");\r\n  }\r\n  /**\r\n   * Move the end point of a range to handle tables\r\n   *\r\n   * @param range\r\n   * @param start\r\n   */\r\n\r\n\r\n  function moveEndPoint(range, start) {\r\n    var container;\r\n    var offset;\r\n    var childNodes;\r\n\r\n    if (start) {\r\n      container = range.startContainer;\r\n      offset = range.startOffset;\r\n    } else {\r\n      container = range.endContainer;\r\n      offset = range.endOffset;\r\n    }\r\n\r\n    if (container.nodeType === Node.ELEMENT_NODE && container.nodeName === \"TR\") {\r\n      childNodes = container.childNodes;\r\n      container = childNodes[Math.min(start ? offset : offset - 1, childNodes.length - 1)];\r\n\r\n      if (container) {\r\n        offset = start ? 0 : container.childNodes.length;\r\n\r\n        if (start) {\r\n          range.setStart(container, offset);\r\n        } else {\r\n          range.setEnd(container, offset);\r\n        }\r\n      }\r\n    }\r\n  }\r\n  /**\r\n   * Normalize the table sell selection within a range to better handle selections being inside of tables\r\n   *\r\n   * @param range\r\n   */\r\n\r\n\r\n  function normalizeTableCellSelection(range) {\r\n    moveEndPoint(range, true);\r\n    moveEndPoint(range, false);\r\n    return range;\r\n  }\r\n  /**\r\n   * Convert HTML encoded double quote to double quote with backslash within widget directives\r\n   *\r\n   * @param {string} content\r\n   * @returns {string}\r\n   */\r\n\r\n\r\n  function escapeDoubleQuoteWithinWidgetDirective(content) {\r\n    return content.replace(/\\{\\{widget[\\S\\s]*?\\}\\}/ig, function (match) {\r\n      return match.replace(/&quot;/g, \"\\\\\\\"\");\r\n    });\r\n  }\r\n  /**\r\n   * Convert double quote with backslash to HTML encoded double quote within widget directives\r\n   *\r\n   * @param {string} content\r\n   * @returns {string}\r\n   */\r\n\r\n\r\n  function unescapeDoubleQuoteWithinWidgetDirective(content) {\r\n    return content.replace(/\\{\\{widget[\\S\\s]*?\\}\\}/ig, function (match) {\r\n      return match.replace(/\\\\+\"/g, \"&quot;\");\r\n    });\r\n  }\r\n  /**\r\n   * Convert double quote to single quote within magento variable directives\r\n   *\r\n   * @param {string} content\r\n   * @returns {string}\r\n   */\r\n\r\n\r\n  function replaceDoubleQuoteWithSingleQuoteWithinVariableDirective(content) {\r\n    // Find html elements which attributes contain magento variables directives\r\n    return content.replace(/<([a-z0-9\\-\\_]+)([^>]+?[a-z0-9\\-\\_]+=\"[^\"]*?\\{\\{.+?\\}\\}.*?\".*?)>/gi, function (match1, tag, attributes) {\r\n      // Replace double quote with single quote within magento variable directive\r\n      var sanitizedAttributes = attributes.replace(/\\{\\{[^\\{\\}]+\\}\\}/gi, function (match2) {\r\n        return match2.replace(/\"/g, \"'\");\r\n      });\r\n      return \"<\" + tag + sanitizedAttributes + \">\";\r\n    });\r\n  }\r\n\r\n  return {\r\n    isWysiwygSupported: isWysiwygSupported,\r\n    encodeContent: encodeContent,\r\n    parseAttributesString: parseAttributesString,\r\n    lockImageSize: lockImageSize,\r\n    unlockImageSize: unlockImageSize,\r\n    createBookmark: createBookmark,\r\n    moveToBookmark: moveToBookmark,\r\n    getActiveEditor: getActiveEditor,\r\n    findNodeIndex: findNodeIndex,\r\n    getNodeByIndex: getNodeByIndex,\r\n    createDoubleClickEvent: createDoubleClickEvent,\r\n    processInlineStyles: processInlineStyles,\r\n    escapeDoubleQuoteWithinWidgetDirective: escapeDoubleQuoteWithinWidgetDirective,\r\n    unescapeDoubleQuoteWithinWidgetDirective: unescapeDoubleQuoteWithinWidgetDirective,\r\n    replaceDoubleQuoteWithSingleQuoteWithinVariableDirective: replaceDoubleQuoteWithSingleQuoteWithinVariableDirective\r\n  };\r\n});\r\n//# sourceMappingURL=editor.js.map","Magento_PageBuilder/js/utils/image.js":"/*eslint-disable */\r\n/* jscs:disable */\r\ndefine([\"Magento_PageBuilder/js/config\", \"Magento_PageBuilder/js/utils/directives\", \"Magento_PageBuilder/js/utils/url\"], function (_config, _directives, _url) {\r\n  /**\r\n   * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n   * See COPYING.txt for license details.\r\n   */\r\n\r\n  /**\r\n   * Decode image background URL to object\r\n   *\r\n   * @param value\r\n   * @returns {Object}\r\n   * @api\r\n   */\r\n  function decodeUrl(value) {\r\n    var result = \"\";\r\n    value = decodeURIComponent(value.replace(window.location.href, \"\"));\r\n    var regexp = /{{.*\\s*url=\"?(.*\\.([a-z|A-Z]*))\"?\\s*}}/;\r\n\r\n    if (regexp.test(value)) {\r\n      var _regexp$exec = regexp.exec(value),\r\n          url = _regexp$exec[1],\r\n          type = _regexp$exec[2];\r\n\r\n      var image = {\r\n        name: url.split(\"/\").pop(),\r\n        size: 0,\r\n        type: \"image/\" + type,\r\n        url: _config.getConfig(\"media_url\") + url\r\n      };\r\n      result = [image];\r\n    }\r\n\r\n    return result;\r\n  }\r\n  /**\r\n   * Convert a URL to an image directive\r\n   *\r\n   * @param {string} imageUrl\r\n   * @returns {string}\r\n   */\r\n\r\n\r\n  function urlToDirective(imageUrl) {\r\n    var mediaUrl = (0, _url.convertUrlToPathIfOtherUrlIsOnlyAPath)(_config.getConfig(\"media_url\"), imageUrl);\r\n    var mediaPath = imageUrl.split(mediaUrl);\r\n    return \"{{media url=\" + mediaPath[1] + \"}}\";\r\n  }\r\n  /**\r\n   * Convert an image URL to a background image data uri\r\n   *\r\n   * @param {string} imageUrl\r\n   * @returns {string}\r\n   */\r\n\r\n\r\n  function imageToBackgroundImageDataUrl(imageUrl) {\r\n    return \"url(\\'\" + (0, _directives.toDataUrl)(urlToDirective(imageUrl)) + \"\\')\";\r\n  }\r\n\r\n  return {\r\n    decodeUrl: decodeUrl,\r\n    urlToDirective: urlToDirective,\r\n    imageToBackgroundImageDataUrl: imageToBackgroundImageDataUrl\r\n  };\r\n});\r\n//# sourceMappingURL=image.js.map","Magento_PageBuilder/js/utils/loader.js":"/*eslint-disable */\r\n/* jscs:disable */\r\ndefine([], function () {\r\n  /**\r\n   * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n   * See COPYING.txt for license details.\r\n   */\r\n  function load(dependencies, factory, onError) {\r\n    require(dependencies, factory, onError);\r\n  }\r\n\r\n  return load;\r\n});\r\n//# sourceMappingURL=loader.js.map","Magento_PageBuilder/js/utils/map.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\n/**\r\n * googleMaps dependency is added within googlemaps.phtml through shim based on API key being set\r\n *\r\n * @api\r\n */\r\ndefine([\r\n    'underscore',\r\n    'module',\r\n    'Magento_PageBuilder/js/events'\r\n], function (_, module, events) {\r\n    'use strict';\r\n\r\n    var google = window.google || {},\r\n\r\n        /**\r\n         * Generates a google map usable latitude and longitude object\r\n         *\r\n         * @param {Object} position\r\n         * @return {google.maps.LatLng}\r\n         */\r\n        getGoogleLatitudeLongitude = function (position) {\r\n            return new google.maps.LatLng(position.latitude, position.longitude);\r\n        },\r\n        gmAuthFailure = false;\r\n\r\n    // jscs:disable requireCamelCaseOrUpperCaseIdentifiers\r\n    /**\r\n     * Google's error listener for map loader failures\r\n     */\r\n    window.gm_authFailure = function () {\r\n        events.trigger('googleMaps:authFailure');\r\n        gmAuthFailure = true;\r\n    };\r\n    // jscs:enable requireCamelCaseOrUpperCaseIdentifiers\r\n\r\n    return function (element, markers, additionalOptions) {\r\n        var options,\r\n            style;\r\n\r\n        // If we've previously had an API key error, throw the error even again\r\n        if (gmAuthFailure) {\r\n            events.trigger('googleMaps:authFailure');\r\n\r\n            return;\r\n        }\r\n\r\n        // If Google Maps isn't loaded don't try init the map, it won't work\r\n        if (typeof google.maps === 'undefined') {\r\n            return;\r\n        }\r\n\r\n        /**\r\n         * Just in case of a bad JSON that bypassed validation\r\n         */\r\n        try {\r\n            style = module.config().style ? JSON.parse(module.config().style) : [];\r\n        }\r\n        catch (error) {\r\n            style = [];\r\n        }\r\n        options = _.extend({\r\n            zoom: 8,\r\n            center: getGoogleLatitudeLongitude({\r\n                latitude: 30.2672,\r\n                longitude: -97.7431\r\n            }),\r\n            scrollwheel: false,\r\n            disableDoubleClickZoom: false,\r\n            disableDefaultUI: false,\r\n            mapTypeControl: true,\r\n            mapTypeControlOptions: {\r\n                style: google.maps.MapTypeControlStyle.DEFAULT\r\n            },\r\n            styles: style\r\n        }, additionalOptions);\r\n\r\n        /* Create the map */\r\n        this.map = new google.maps.Map(element, options);\r\n        this.markers = [];\r\n\r\n        /**\r\n         * Callback function on map config update\r\n         * @param {Array} newMarkers\r\n         * @param {Object} updateOptions\r\n         */\r\n        this.onUpdate = function (newMarkers, updateOptions) {\r\n            this.map.setOptions(updateOptions);\r\n            this.setMarkers(newMarkers);\r\n        };\r\n\r\n        /**\r\n         * Sets the markers to selected map\r\n         * @param {Object} newMarkers\r\n         */\r\n        this.setMarkers = function (newMarkers) {\r\n            var activeInfoWindow,\r\n                latitudeLongitudeBounds = new google.maps.LatLngBounds();\r\n\r\n            this.markers.forEach(function (marker) {\r\n                marker.setMap(null);\r\n            }, this);\r\n\r\n            this.markers = [];\r\n            this.bounds = [];\r\n\r\n            /**\r\n             * Creates and set listener for markers\r\n             */\r\n            if (newMarkers && newMarkers.length) {\r\n                newMarkers.forEach(function (newMarker) {\r\n                    var location = _.escape(newMarker['location_name']) || '',\r\n                    comment = newMarker.comment ?\r\n                        '<p>' + _.escape(newMarker.comment).replace(/(?:\\r\\n|\\r|\\n)/g, '<br/>') + '</p>'\r\n                        : '',\r\n                    phone = newMarker.phone ? '<p>Phone: ' + _.escape(newMarker.phone) + '</p>' : '',\r\n                    address = newMarker.address ? _.escape(newMarker.address) + '<br/>' : '',\r\n                    city = _.escape(newMarker.city) || '',\r\n                    country = newMarker.country ? _.escape(newMarker.country) : '',\r\n                    state = newMarker.state ? _.escape(newMarker.state) + ' ' : '',\r\n                    zipCode = newMarker.zipcode ? _.escape(newMarker.zipcode) : '',\r\n                    cityComma = city !== '' && (zipCode !== '' || state !== '') ? ', ' : '',\r\n                    lineBreak = city !== '' || zipCode !== '' ? '<br/>' : '',\r\n                    contentString =\r\n                        '<div>' +\r\n                        '<h3><b>' + location + '</b></h3>' +\r\n                        comment +\r\n                        phone +\r\n                        '<p><span>' + address +\r\n                        city + cityComma + state + zipCode + lineBreak +\r\n                        country + '</span></p>' +\r\n                        '</div>',\r\n                    infowindow = new google.maps.InfoWindow({\r\n                        content: contentString,\r\n                        maxWidth: 350\r\n                    }),\r\n                    newCreatedMarker = new google.maps.Marker({\r\n                        map: this.map,\r\n                        position: getGoogleLatitudeLongitude(newMarker.position),\r\n                        title: location\r\n                    });\r\n\r\n                    if (location) {\r\n                        newCreatedMarker.addListener('click', function () {\r\n                            if (activeInfoWindow) {\r\n                                activeInfoWindow.close();\r\n                            }\r\n\r\n                            infowindow.open(this.map, newCreatedMarker);\r\n                            activeInfoWindow = infowindow;\r\n                        }, this);\r\n                    }\r\n\r\n                    this.markers.push(newCreatedMarker);\r\n                    this.bounds.push(getGoogleLatitudeLongitude(newMarker.position));\r\n                }, this);\r\n            }\r\n\r\n            /**\r\n             * This sets the bounds of the map for multiple locations\r\n             */\r\n            if (this.bounds.length > 1) {\r\n                this.bounds.forEach(function (bound) {\r\n                    latitudeLongitudeBounds.extend(bound);\r\n                });\r\n                this.map.fitBounds(latitudeLongitudeBounds);\r\n            }\r\n\r\n            /**\r\n             * Zoom to 8 if there is only a single location\r\n             */\r\n            if (this.bounds.length === 1) {\r\n                this.map.setCenter(this.bounds[0]);\r\n                this.map.setZoom(8);\r\n            }\r\n        };\r\n\r\n        this.setMarkers(markers);\r\n    };\r\n});\r\n","Magento_PageBuilder/js/utils/nesting-link-dialog.js":"/*eslint-disable */\r\n/* jscs:disable */\r\ndefine([\"jquery\", \"mage/translate\", \"Magento_PageBuilder/js/modal/dismissible-confirm\"], function (_jquery, _translate, _dismissibleConfirm) {\r\n  /**\r\n   * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n   * See COPYING.txt for license details.\r\n   */\r\n\r\n  /**\r\n   * Validate inline editor for having nested link\r\n   * Creates a dialog and removes inline editor link if present\r\n   *\r\n   * @param {DataStore} dataStore\r\n   * @param {WysiwygInterface} wysiwyg\r\n   * @param {string} inlineMessageField\r\n   * @param {string} linkUrlField\r\n   */\r\n  function nestingLinkDialog(dataStore, wysiwyg, inlineMessageField, linkUrlField) {\r\n    var dataStoreContent = dataStore.getState();\r\n    var inlineMessage = dataStoreContent[inlineMessageField];\r\n    var linkUrl = dataStoreContent[linkUrlField];\r\n    var aLinkRegex = /(<a[\\s]+[^>]+).+(?=<\\/a>)<\\/a>/igm;\r\n\r\n    if (wysiwyg && inlineMessage.match(aLinkRegex) && linkUrl && [\"page\", \"product\", \"category\", \"default\"].indexOf(linkUrl.type) !== -1 && linkUrl[linkUrl.type] && linkUrl[linkUrl.type].length !== 0) {\r\n      var inlineEditor = (0, _jquery)(\"#\" + wysiwyg.elementId);\r\n      inlineEditor.trigger(\"blur\");\r\n      (0, _dismissibleConfirm)({\r\n        actions: {\r\n          always: function always() {\r\n            var anchorLessDataStoreMessage = inlineMessage.replace(aLinkRegex, \"\");\r\n            var anchorLessInlineMessage = inlineEditor.html().replace(aLinkRegex, \"\");\r\n            dataStore.set(inlineMessageField, anchorLessDataStoreMessage);\r\n            inlineEditor.html(anchorLessInlineMessage);\r\n          }\r\n        },\r\n        content: (0, _translate)(\"We are unable to support links within the content field whilst having a link set on the content type. Please remove the content type link if you'd like to set a link within the content. We will automatically remove the links within the content field.\"),\r\n        // tslint:disable-line:max-line-length\r\n        title: (0, _translate)(\"Nested links are not allowed\"),\r\n        haveCancelButton: false\r\n      });\r\n    }\r\n  }\r\n\r\n  return nestingLinkDialog;\r\n});\r\n//# sourceMappingURL=nesting-link-dialog.js.map","Magento_PageBuilder/js/utils/nesting-widget-dialog.js":"/*eslint-disable */\r\n/* jscs:disable */\r\ndefine([\"jquery\", \"mage/translate\", \"Magento_PageBuilder/js/modal/dismissible-confirm\"], function (_jquery, _translate, _dismissibleConfirm) {\r\n  /**\r\n   * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n   * See COPYING.txt for license details.\r\n   */\r\n\r\n  /**\r\n   * Validate inline editor for having nested widget\r\n   * Creates a dialog and removes inline editor widget if present\r\n   *\r\n   * @param {DataStore} dataStore\r\n   * @param {WysiwygInterface} wysiwyg\r\n   * @param {string} inlineMessageField\r\n   * @param {string} linkUrlField\r\n   */\r\n  function nestingWidgetDialog(dataStore, wysiwyg, inlineMessageField, linkUrlField) {\r\n    var dataStoreContent = dataStore.getState();\r\n    var inlineMessage = dataStoreContent[inlineMessageField];\r\n    var linkUrl = dataStoreContent[linkUrlField];\r\n    var widgetRegex = /\\{\\{widget([\\S\\s]*?)\\}\\}/ig;\r\n    var widgetPlaceholderRegex = /<span.*(class=)(\\\"|\\').*((magento-placeholder).*(magento-widget)|(magento-widget).*(magento-placeholder)).*<\\/span>/igm;\r\n\r\n    if (wysiwyg && inlineMessage.match(widgetRegex) && linkUrl && [\"page\", \"product\", \"category\", \"default\"].indexOf(linkUrl.type) !== -1 && linkUrl[linkUrl.type] && linkUrl[linkUrl.type].length !== 0) {\r\n      var inlineEditor = (0, _jquery)(\"#\" + wysiwyg.elementId);\r\n      inlineEditor.trigger(\"blur\");\r\n      (0, _dismissibleConfirm)({\r\n        actions: {\r\n          always: function always() {\r\n            var widgetLessDataStoreMessage = inlineMessage.replace(widgetRegex, \"\");\r\n            var widgetLessInlineMessage = inlineEditor.html().replace(widgetPlaceholderRegex, \"\");\r\n            dataStore.set(inlineMessageField, widgetLessDataStoreMessage);\r\n            inlineEditor.html(widgetLessInlineMessage);\r\n          }\r\n        },\r\n        content: (0, _translate)(\"We are unable to support widget within the content field whilst having a link set on the content type. Please remove the content type link if you'd like to set a widget within the content. We will automatically remove the widget within the content field.\"),\r\n        // tslint:disable-line:max-line-length\r\n        title: (0, _translate)(\"Nested widgets are not allowed\"),\r\n        haveCancelButton: false\r\n      });\r\n    }\r\n  }\r\n\r\n  return nestingWidgetDialog;\r\n});\r\n//# sourceMappingURL=nesting-widget-dialog.js.map","Magento_PageBuilder/js/utils/object.js":"/*eslint-disable */\r\n/* jscs:disable */\r\ndefine([\"object-path\"], function (_objectPath) {\r\n  /**\r\n   * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n   * See COPYING.txt for license details.\r\n   */\r\n\r\n  /**\r\n   * Retrieve a value from an object via a path\r\n   *\r\n   * @param {object} object\r\n   * @param {string} path\r\n   * @param {TResult} defaultValue\r\n   * @returns {TResult}\r\n   */\r\n  function get(object, path, defaultValue) {\r\n    return _objectPath.get(object, path, defaultValue);\r\n  }\r\n  /**\r\n   * Set a value within an object via a path\r\n   *\r\n   * @param {object} object\r\n   * @param {string} path\r\n   * @param {TResult} value\r\n   * @returns {TResult | undefined}\r\n   */\r\n\r\n\r\n  function set(object, path, value) {\r\n    return _objectPath.set(object, path, value);\r\n  }\r\n\r\n  return {\r\n    get: get,\r\n    set: set\r\n  };\r\n});\r\n//# sourceMappingURL=object.js.map","Magento_PageBuilder/js/utils/pagebuilder-header-height.js":"/*eslint-disable */\r\n/* jscs:disable */\r\ndefine([\"jquery\"], function (_jquery) {\r\n  /**\r\n   * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n   * See COPYING.txt for license details.\r\n   */\r\n\r\n  /**\r\n   * Checks if PageBuilder has header and returns it's height\r\n   *\r\n   * @param {string} stageId\r\n   * @param {string} stageWrapper\r\n   * @param {string} pageBuilderHeader\r\n   * @returns {number}\r\n   */\r\n  function pageBuilderHeaderHeight(stageId, stageWrapper, pageBuilderHeader) {\r\n    if (stageWrapper === void 0) {\r\n      stageWrapper = \".pagebuilder-stage-wrapper\";\r\n    }\r\n\r\n    if (pageBuilderHeader === void 0) {\r\n      pageBuilderHeader = \".pagebuilder-header\";\r\n    }\r\n\r\n    var $stageWrapper = (0, _jquery)(\"#\" + stageId).closest(stageWrapper);\r\n    var $pageBuilderHeader = $stageWrapper.find(pageBuilderHeader);\r\n    return !!$pageBuilderHeader.length ? $pageBuilderHeader.height() : 0;\r\n  }\r\n\r\n  return pageBuilderHeaderHeight;\r\n});\r\n//# sourceMappingURL=pagebuilder-header-height.js.map","Magento_PageBuilder/js/utils/position-sticky.js":"/*eslint-disable */\r\n/* jscs:disable */\r\ndefine([], function () {\r\n  /**\r\n   * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n   * See COPYING.txt for license details.\r\n   */\r\n\r\n  /**\r\n   * Determine if the current browser supports position sticky\r\n   *\r\n   * @returns {boolean}\r\n   */\r\n  function supportsPositionSticky() {\r\n    if (!window.getComputedStyle) {\r\n      return false;\r\n    }\r\n\r\n    var testNode = document.createElement(\"div\");\r\n    return [\"\", \"-webkit-\", \"-moz-\", \"-ms-\"].some(function (prefix) {\r\n      try {\r\n        testNode.style.position = prefix + \"sticky\";\r\n      } catch (e) {// Fail silently\r\n      }\r\n\r\n      return testNode.style.position !== \"\";\r\n    });\r\n  }\r\n\r\n  return {\r\n    supportsPositionSticky: supportsPositionSticky\r\n  };\r\n});\r\n//# sourceMappingURL=position-sticky.js.map","Magento_PageBuilder/js/utils/promise-deferred.js":"/*eslint-disable */\r\n/* jscs:disable */\r\ndefine([], function () {\r\n  /**\r\n   * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n   * See COPYING.txt for license details.\r\n   */\r\n\r\n  /**\r\n   * Returns a deferred promise\r\n   *\r\n   * @returns {DeferredInterface}\r\n   * @api\r\n   */\r\n  function deferred() {\r\n    var resolve;\r\n    var reject;\r\n    var promise = new Promise(function (promiseResolve, promiseReject) {\r\n      resolve = promiseResolve;\r\n      reject = promiseReject;\r\n    });\r\n    return {\r\n      resolve: resolve,\r\n      reject: reject,\r\n      promise: promise\r\n    };\r\n  }\r\n\r\n  return deferred;\r\n});\r\n//# sourceMappingURL=promise-deferred.js.map","Magento_PageBuilder/js/utils/string.js":"/*eslint-disable */\r\n/* jscs:disable */\r\ndefine([], function () {\r\n  /**\r\n   * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n   * See COPYING.txt for license details.\r\n   */\r\n\r\n  /**\r\n   * Convert from snake case to camel case\r\n   *\r\n   * @param {string} currentString\r\n   * @returns {string}\r\n   * @api\r\n   */\r\n  function fromSnakeToCamelCase(currentString) {\r\n    var parts = currentString.split(/[_-]/);\r\n    var newString = \"\";\r\n\r\n    for (var i = 1; i < parts.length; i++) {\r\n      newString += parts[i].charAt(0).toUpperCase() + parts[i].slice(1);\r\n    }\r\n\r\n    return parts[0] + newString;\r\n  }\r\n  /**\r\n   * Convert a camel case string to snake case\r\n   *\r\n   * @param currentString\r\n   */\r\n\r\n\r\n  function fromCamelCaseToDash(currentString) {\r\n    return currentString.replace(/[A-Z]/g, function (m) {\r\n      return \"-\" + m.toLowerCase();\r\n    });\r\n  }\r\n\r\n  return {\r\n    fromSnakeToCamelCase: fromSnakeToCamelCase,\r\n    fromCamelCaseToDash: fromCamelCaseToDash\r\n  };\r\n});\r\n//# sourceMappingURL=string.js.map","Magento_PageBuilder/js/utils/text.js":"/*eslint-disable */\r\n/* jscs:disable */\r\ndefine([], function () {\r\n  \"use strict\";\r\n});\r\n//# sourceMappingURL=text.js.map","Magento_PageBuilder/js/utils/url.js":"/*eslint-disable */\r\n/* jscs:disable */\r\ndefine([], function () {\r\n  /**\r\n   * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n   * See COPYING.txt for license details.\r\n   */\r\n\r\n  /**\r\n   * Check for whether url string contains only a path\r\n   *\r\n   * @param {String} url\r\n   * @returns {Boolean}\r\n   */\r\n  function isPathOnly(url) {\r\n    return url.indexOf(\"/\") === 0;\r\n  }\r\n  /**\r\n   * Get the path from a URL\r\n   *\r\n   * @param {String} url\r\n   * @returns {String}\r\n   */\r\n\r\n\r\n  function getPathFromUrl(url) {\r\n    var a = document.createElement(\"a\");\r\n    a.href = url;\r\n    return a.pathname;\r\n  }\r\n  /**\r\n   * Convert url to path if other url is only a path\r\n   *\r\n   * @param {string} url\r\n   * @param {string} otherUrl\r\n   * @returns {string}\r\n   * @api\r\n   */\r\n\r\n\r\n  function convertUrlToPathIfOtherUrlIsOnlyAPath(url, otherUrl) {\r\n    return isPathOnly(otherUrl) ? getPathFromUrl(url) : url;\r\n  }\r\n\r\n  return {\r\n    convertUrlToPathIfOtherUrlIsOnlyAPath: convertUrlToPathIfOtherUrlIsOnlyAPath\r\n  };\r\n});\r\n//# sourceMappingURL=url.js.map","Magento_PageBuilder/js/widget/show-on-hover.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\ndefine(['jquery'], function ($) {\r\n    'use strict';\r\n\r\n    /**\r\n     * Show the overlay on hover of specific elements\r\n     *\r\n     * @param {JQuery<Element>[]} $elements\r\n     */\r\n    function showOverlayOnHover($elements) {\r\n        $elements.each(function (index, element) {\r\n            var overlayEl = $(element).find('.pagebuilder-overlay'),\r\n                overlayColor = overlayEl.attr('data-overlay-color');\r\n\r\n            $(element).on('mouseenter', function () {\r\n                overlayEl.css('background-color', overlayColor);\r\n            });\r\n\r\n            $(element).on('mouseleave', function () {\r\n                overlayEl.css('background-color', 'transparent');\r\n            });\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Show button on hover of specific elements\r\n     *\r\n     * @param {JQuery<Element>[]} $elements\r\n     * @param {String} buttonClass\r\n     */\r\n    function showButtonOnHover($elements, buttonClass) {\r\n        $elements.each(function (index, element) {\r\n            var buttonEl = $(element).find(buttonClass);\r\n\r\n            $(element).on('mouseenter', function () {\r\n                buttonEl.css({\r\n                    'opacity': '1',\r\n                    'visibility': 'visible'\r\n                });\r\n            });\r\n\r\n            $(element).on('mouseleave', function () {\r\n                buttonEl.css({\r\n                    'opacity': '0',\r\n                    'visibility': 'hidden'\r\n                });\r\n            });\r\n        });\r\n    }\r\n\r\n    return function (config) {\r\n\r\n        var buttonSelector = config.buttonSelector,\r\n            overlayHoverSelector = 'div[data-content-type=\"%s\"][data-show-overlay=\"%s\"]'\r\n                .replace('%s', config.dataRole)\r\n                .replace('%s', config.showOverlay),\r\n            overlayButtonSelector = 'div[data-content-type=\"%s\"][data-show-button=\"%s\"]'\r\n                .replace('%s', config.dataRole)\r\n                .replace('%s', config.showOverlay);\r\n\r\n        showOverlayOnHover($(overlayHoverSelector));\r\n        showButtonOnHover($(overlayButtonSelector), buttonSelector);\r\n    };\r\n});\r\n","Magento_PageBuilder/js/widget/video-background.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\ndefine([\r\n    'jquery',\r\n    'jarallax',\r\n    'jarallaxVideo',\r\n    'vimeoWrapper'\r\n], function ($) {\r\n    'use strict';\r\n\r\n    return function (config, element) {\r\n        var $element = $(element),\r\n            parallaxSpeed = $element.data('enableParallax') !== 1 ? 1 : parseFloat($element.data('parallaxSpeed'));\r\n\r\n        if ($element.data('background-type') !== 'video') {\r\n            return;\r\n        }\r\n\r\n        $element.addClass('jarallax');\r\n        $element.attr('data-jarallax', '');\r\n\r\n        window.jarallax($element[0], {\r\n            imgSrc: $element.data('videoFallbackSrc'),\r\n            speed: !isNaN(parallaxSpeed) ? parallaxSpeed : 0.5,\r\n            videoLoop: $element.data('videoLoop'),\r\n            videoPlayOnlyVisible: $element.data('videoPlayOnlyVisible'),\r\n            videoLazyLoading: $element.data('videoLazyLoad'),\r\n            disableVideo: false,\r\n            elementInViewport: $element.data('elementInViewport') &&\r\n                $element[0].querySelector($element.data('elementInViewport'))\r\n        });\r\n        $element[0].jarallax.video && $element[0].jarallax.video.on('started', function () {\r\n            if ($element[0].jarallax.$video) {\r\n                $element[0].jarallax.$video.style.visibility = 'visible';\r\n            }\r\n        });\r\n    };\r\n});\r\n","Magento_PageBuilder/js/wysiwyg/component-initializer-interface.js":"/*eslint-disable */\r\n/* jscs:disable */\r\ndefine([], function () {\r\n  \"use strict\";\r\n});\r\n//# sourceMappingURL=component-initializer-interface.js.map","Magento_PageBuilder/js/wysiwyg/config-modifier-interface.js":"/*eslint-disable */\r\n/* jscs:disable */\r\ndefine([], function () {\r\n  \"use strict\";\r\n});\r\n//# sourceMappingURL=config-modifier-interface.js.map","Magento_PageBuilder/js/wysiwyg/factory.js":"/*eslint-disable */\r\n/* jscs:disable */\r\ndefine([\"jquery\", \"Magento_PageBuilder/js/utils/loader\"], function (_jquery, _loader) {\r\n  /**\r\n   * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n   * See COPYING.txt for license details.\r\n   */\r\n\r\n  /**\r\n   * @param {String} contentTypeId The ID in the registry of the content type.\r\n   * @param {String} elementId The ID of the editor element in the DOM.\r\n   * @param {String} contentTypeName The type of content type this editor will be used in. E.g. \"banner\".\r\n   * @param {AdditionalDataConfigInterface} config The configuration for the wysiwyg.\r\n   * @param {DataStore} dataStore The datastore to store the content in.\r\n   * @param {String} fieldName The key in the provided datastore to set the data.\r\n   * @param {String} stageId The ID in the registry of the stage containing the content type.\r\n   * @returns {Wysiwyg}\r\n   */\r\n  function create(contentTypeId, elementId, contentTypeName, config, dataStore, fieldName, stageId) {\r\n    config = _jquery.extend(true, {}, config);\r\n    return new Promise(function (resolve) {\r\n      (0, _loader)([config.adapter_config.component], function (WysiwygInstance) {\r\n        new Promise(function (configResolve) {\r\n          if (config.adapter_config.config_modifiers && config.adapter_config.config_modifiers[contentTypeName]) {\r\n            (0, _loader)([config.adapter_config.config_modifiers[contentTypeName]], function (ConfigModifierType) {\r\n              var modifier = new ConfigModifierType(); // Allow dynamic settings to be set before editor is initialized\r\n\r\n              modifier.modify(contentTypeId, config);\r\n              configResolve();\r\n            });\r\n          } else {\r\n            configResolve();\r\n          }\r\n        }).then(function () {\r\n          // Instantiate the component\r\n          var wysiwyg = new WysiwygInstance(contentTypeId, elementId, config, dataStore, fieldName, stageId);\r\n\r\n          if (config.adapter_config.component_initializers && config.adapter_config.component_initializers[contentTypeName]) {\r\n            (0, _loader)([config.adapter_config.component_initializers[contentTypeName]], function (InitializerType) {\r\n              var initializer = new InitializerType(); // Allow dynamic bindings from configuration such as events from the editor\r\n\r\n              initializer.initialize(wysiwyg);\r\n              resolve(wysiwyg);\r\n            });\r\n          } else {\r\n            resolve(wysiwyg);\r\n          }\r\n        });\r\n      });\r\n    });\r\n  }\r\n\r\n  return create;\r\n});\r\n//# sourceMappingURL=factory.js.map","Magento_PageBuilder/js/wysiwyg/tinymce.js":"/*eslint-disable */\r\n/* jscs:disable */\r\n\r\nfunction _createForOfIteratorHelperLoose(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (it) return (it = it.call(o)).next.bind(it); if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; return function () { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\r\n\r\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\r\n\r\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\r\n\r\ndefine([\"jquery\", \"mage/adminhtml/wysiwyg/events\", \"mage/adminhtml/wysiwyg/tiny_mce/setup\", \"Magento_PageBuilder/js/events\", \"underscore\", \"Magento_PageBuilder/js/utils/check-stage-full-screen\", \"Magento_PageBuilder/js/utils/delay-until\", \"Magento_PageBuilder/js/utils/pagebuilder-header-height\"], function (_jquery, _events, _setup, _events2, _underscore, _checkStageFullScreen, _delayUntil, _pagebuilderHeaderHeight) {\r\n  /**\r\n   * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n   * See COPYING.txt for license details.\r\n   */\r\n\r\n  /**\r\n   * Inline editing wysiwyg component\r\n   *\r\n   * @api\r\n   */\r\n  var Wysiwyg = /*#__PURE__*/function () {\r\n    \"use strict\";\r\n\r\n    /**\r\n     * The id of the editor element\r\n     */\r\n\r\n    /**\r\n     * The supplied wysiwyg configuration\r\n     */\r\n\r\n    /**\r\n     * Id of content type\r\n     */\r\n\r\n    /**\r\n     * Id of the stage\r\n     */\r\n\r\n    /**\r\n     * Wysiwyg adapter instance\r\n     */\r\n\r\n    /**\r\n     * Content type's data store\r\n     */\r\n\r\n    /**\r\n     * Field name in data store reflecting value held in wysiwyg\r\n     */\r\n\r\n    /**\r\n     * Create a debounce to save the content into the data store\r\n     */\r\n\r\n    /**\r\n     * @param {String} contentTypeId The ID in the registry of the content type.\r\n     * @param {String} elementId The ID of the editor element in the DOM.\r\n     * @param {AdditionalDataConfigInterface} config The configuration for the wysiwyg.\r\n     * @param {DataStore} dataStore The datastore to store the content in.\r\n     * @param {String} fieldName The key in the provided datastore to set the data.\r\n     * @param {String} stageId The ID in the registry of the stage containing the content type.\r\n     */\r\n    function Wysiwyg(contentTypeId, elementId, config, dataStore, fieldName, stageId) {\r\n      this.saveContentDebounce = _underscore.debounce(this.saveContentFromWysiwygToDataStore.bind(this), 500);\r\n      this.contentTypeId = contentTypeId;\r\n      this.elementId = elementId;\r\n      this.fieldName = fieldName;\r\n      this.config = config;\r\n      this.dataStore = dataStore;\r\n      this.stageId = stageId;\r\n\r\n      if (this.config.adapter_config.mode === \"inline\") {\r\n        /**\r\n         * Don't include content_css within the inline mode of TinyMCE, if any stylesheets are included here they're\r\n         * appended to the head of the main page, and thus cause other styles to be modified.\r\n         *\r\n         * The styles for typography in the inline editor are scoped within _typography.less\r\n         */\r\n        this.config.adapter.tinymce.content_css = [];\r\n      }\r\n\r\n      var wysiwygSetup = new _setup(this.elementId, this.config.adapter);\r\n      wysiwygSetup.setup(this.config.adapter_config.mode);\r\n      this.wysiwygAdapter = wysiwygSetup.wysiwygInstance;\r\n\r\n      if (this.config.adapter_config.mode === \"inline\") {\r\n        this.wysiwygAdapter.eventBus.attachEventHandler(_events.afterFocus, this.onFocus.bind(this));\r\n        this.wysiwygAdapter.eventBus.attachEventHandler(_events.afterBlur, this.onBlur.bind(this));\r\n      } // Update content in our data store after our stage preview wysiwyg gets updated\r\n\r\n\r\n      this.wysiwygAdapter.eventBus.attachEventHandler(_events.afterChangeContent, this.onChangeContent.bind(this)); // Update content in our stage preview wysiwyg after its slideout counterpart gets updated\r\n\r\n      _events2.on(\"form:\" + this.contentTypeId + \":saveAfter\", this.setContentFromDataStoreToWysiwyg.bind(this));\r\n\r\n      _events2.on(\"stage:\" + this.stageId + \":fullScreenModeChangeAfter\", this.toggleFullScreen.bind(this));\r\n    }\r\n    /**\r\n     * Hide TinyMce inline toolbar options after fullscreen exit\r\n     */\r\n\r\n\r\n    var _proto = Wysiwyg.prototype;\r\n\r\n    _proto.toggleFullScreen = function toggleFullScreen() {\r\n      var _this = this;\r\n\r\n      var $editor = (0, _jquery)(\"#\" + this.elementId); // wait for fullscreen to close\r\n\r\n      _underscore.defer(function () {\r\n        if (!(0, _checkStageFullScreen)(_this.stageId) && _this.config.adapter_config.mode === \"inline\" && $editor.hasClass(\"mce-edit-focus\")) {\r\n          $editor.removeClass(\"mce-edit-focus\");\r\n\r\n          _this.onBlur();\r\n        }\r\n      });\r\n    }\r\n    /**\r\n     * @returns {WysiwygInstanceInterface}\r\n     */\r\n    ;\r\n\r\n    _proto.getAdapter = function getAdapter() {\r\n      return this.wysiwygAdapter;\r\n    }\r\n    /**\r\n     * Called for the onFocus event\r\n     */\r\n    ;\r\n\r\n    _proto.onFocus = function onFocus() {\r\n      var _this2 = this;\r\n\r\n      this.getFixedToolbarContainer().addClass(\"pagebuilder-toolbar-active\");\r\n\r\n      _events2.trigger(\"stage:interactionStart\");\r\n\r\n      var element = document.querySelector(\"#\" + this.elementId);\r\n\r\n      if (!element) {\r\n        return;\r\n      } // Wait for everything else to finish\r\n\r\n\r\n      _underscore.defer(function () {\r\n        return (0, _delayUntil)(function () {\r\n          var $inlineToolbar = _this2.getFixedToolbarContainer().find(\".tox-tinymce-inline\");\r\n\r\n          var self = _this2;\r\n          $inlineToolbar.css(\"min-width\", _this2.config.adapter_config.minToolbarWidth + \"px\");\r\n\r\n          _this2.invertInlineEditorToAccommodateOffscreenToolbar(); // Update toolbar when the height changes\r\n\r\n\r\n          _this2.toolbarHeight = $inlineToolbar.height();\r\n\r\n          if ($inlineToolbar.length) {\r\n            _this2.resizeObserver = new ResizeObserver(function (entries) {\r\n              for (var _iterator = _createForOfIteratorHelperLoose(entries), _step; !(_step = _iterator()).done;) {\r\n                var entry = _step.value;\r\n\r\n                if (entry.target === $inlineToolbar.get(0) && entry.target.clientHeight !== self.toolbarHeight) {\r\n                  self.invertInlineEditorToAccommodateOffscreenToolbar();\r\n                  self.toolbarHeight = entry.target.clientHeight;\r\n                }\r\n              }\r\n            });\r\n\r\n            _this2.resizeObserver.observe($inlineToolbar.get(0));\r\n          }\r\n\r\n          var dialogContainer = document.querySelector(\"#\" + _this2.elementId + \" ~ .tox-tinymce-aux\");\r\n\r\n          if (!!dialogContainer) {\r\n            dialogContainer.setAttribute(\"data-editor-aux\", _this2.elementId);\r\n            document.body.appendChild(dialogContainer);\r\n          }\r\n        }, function () {\r\n          return element.classList.contains(\"mce-edit-focus\");\r\n        }, 10);\r\n      });\r\n    }\r\n    /**\r\n     * Called for the onChangeContent event\r\n     */\r\n    ;\r\n\r\n    _proto.onChangeContent = function onChangeContent() {\r\n      this.saveContentDebounce();\r\n      this.invertInlineEditorToAccommodateOffscreenToolbar();\r\n    }\r\n    /**\r\n     * Called for the onBlur events\r\n     */\r\n    ;\r\n\r\n    _proto.onBlur = function onBlur() {\r\n      this.getFixedToolbarContainer().removeClass(\"pagebuilder-toolbar-active\").find(\".tox-tinymce-inline\").css(\"top\", \"\");\r\n\r\n      if (this.resizeObserver) {\r\n        this.resizeObserver.unobserve(this.getFixedToolbarContainer().find(\".tox-tinymce-inline\").get(0));\r\n      }\r\n\r\n      this.toolbarHeight = 0;\r\n      var dialogContainer = document.querySelector(\"[data-editor-aux=\" + this.elementId + \"]\");\r\n\r\n      if (!!dialogContainer) {\r\n        dialogContainer.removeAttribute(\"data-editor-aux\");\r\n        document.querySelector(\"#\" + this.elementId).parentNode.appendChild(dialogContainer);\r\n      }\r\n\r\n      _events2.trigger(\"stage:interactionStop\");\r\n    }\r\n    /**\r\n     * Update content in our data store after our stage preview wysiwyg gets updated\r\n     */\r\n    ;\r\n\r\n    _proto.saveContentFromWysiwygToDataStore = function saveContentFromWysiwygToDataStore() {\r\n      this.dataStore.set(this.fieldName, this.getAdapter().getContent());\r\n    }\r\n    /**\r\n     * Update content in our stage wysiwyg after our data store gets updated\r\n     */\r\n    ;\r\n\r\n    _proto.setContentFromDataStoreToWysiwyg = function setContentFromDataStoreToWysiwyg() {\r\n      this.getAdapter().setContent(this.dataStore.get(this.fieldName));\r\n    }\r\n    /**\r\n     * Adjust padding on stage if in fullscreen mode to accommodate inline wysiwyg toolbar overflowing fixed viewport\r\n     */\r\n    ;\r\n\r\n    _proto.invertInlineEditorToAccommodateOffscreenToolbar = function invertInlineEditorToAccommodateOffscreenToolbar() {\r\n      if (this.config.adapter_config.mode !== \"inline\") {\r\n        return;\r\n      }\r\n\r\n      var $inlineToolbar = this.getFixedToolbarContainer().find(\".tox-tinymce-inline\");\r\n\r\n      if (!$inlineToolbar.length) {\r\n        return;\r\n      }\r\n\r\n      var inlineWysiwygClientRectTop = this.getFixedToolbarContainer().get(0).getBoundingClientRect().top - (0, _pagebuilderHeaderHeight)(this.stageId);\r\n\r\n      if (!(0, _checkStageFullScreen)(this.stageId) || $inlineToolbar.height() < inlineWysiwygClientRectTop) {\r\n        var extraHeight = 0;\r\n\r\n        if ($inlineToolbar.parents(\".pagebuilder-slide[data-appearance='collage-left']\").length || $inlineToolbar.parents(\".pagebuilder-slide[data-appearance='collage-right']\").length || $inlineToolbar.parents(\".pagebuilder-slide[data-appearance='collage-centered']\").length) {\r\n          extraHeight = 29;\r\n        }\r\n\r\n        $inlineToolbar.css(\"top\", ($inlineToolbar.height() - extraHeight) * -1);\r\n        return;\r\n      }\r\n\r\n      $inlineToolbar.css(\"top\", \"\");\r\n    }\r\n    /**\r\n     * Get fixed toolbar container element referenced as selector in wysiwyg adapter settings\r\n     *\r\n     * @returns {jQuery}\r\n     */\r\n    ;\r\n\r\n    _proto.getFixedToolbarContainer = function getFixedToolbarContainer() {\r\n      return (0, _jquery)(\"#\" + this.elementId).closest(\"\" + this.config.adapter.settings.fixed_toolbar_container);\r\n    };\r\n\r\n    return Wysiwyg;\r\n  }();\r\n\r\n  return Wysiwyg;\r\n});\r\n//# sourceMappingURL=tinymce.js.map","Magento_PageBuilder/js/wysiwyg/wysiwyg-interface.js":"/*eslint-disable */\r\n/* jscs:disable */\r\ndefine([], function () {\r\n  \"use strict\";\r\n});\r\n//# sourceMappingURL=wysiwyg-interface.js.map","Magento_PageBuilder/ts/babel/plugin-amd-to-magento-amd/ast-utils.js":"/* jscs:disable */\r\n/* eslint-disable */\r\n\r\n/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\n\"use strict\";\r\n\r\nexports.__esModule = true;\r\nexports.extractDependencyAndFactory = extractDependencyAndFactory;\r\nexports.findAmdModule = findAmdModule;\r\nexports.extractDependencyMap = extractDependencyMap;\r\nexports.removeExportsDependency = removeExportsDependency;\r\nexports.isEsModulePropertyDefinition = isEsModulePropertyDefinition;\r\nexports.isObjectAssignment = isObjectAssignment;\r\nexports.isVoidExpression = isVoidExpression;\r\nexports.isInteropRequireCall = isInteropRequireCall;\r\nexports.isInteropRequireDefinition = isInteropRequireDefinition;\r\n\r\nvar t = _interopRequireWildcard(require(\"@babel/types\"));\r\n\r\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\r\n\r\nvar INTEROP_FUNCTION_NAME = '_interopRequire';\r\n\r\nvar findExpression = function findExpression(path) {\r\n    if (!t.isExpressionStatement(path.node)) {\r\n        return false;\r\n    }\r\n\r\n    return path.get('expression');\r\n};\r\n\r\nvar isObjectProperty = function isObjectProperty(path, objectName, propertyName) {\r\n    return t.isMemberExpression(path) && path.get('object').isIdentifier(t.identifier(objectName)) && path.get('property').isIdentifier(t.identifier(propertyName));\r\n};\r\n\r\nfunction extractDependencyAndFactory(path) {\r\n    var args = path.node.arguments;\r\n    var dependencies = path.get(\"arguments.\" + (args.length - 2));\r\n    var factory = path.get(\"arguments.\" + (args.length - 1));\r\n    return {\r\n        dependencies: dependencies,\r\n        factory: factory\r\n    };\r\n}\r\n\r\nfunction findAmdModule(path) {\r\n    if (!path.parentPath.isProgram()) {\r\n        return false;\r\n    }\r\n\r\n    var expression = findExpression(path);\r\n\r\n    if (!expression || !t.isCallExpression(expression) || !t.isIdentifier(expression.node.callee, {\r\n        name: 'define'\r\n    })) {\r\n        return false;\r\n    }\r\n\r\n    var _extractDependencyAnd = extractDependencyAndFactory(expression),\r\n        dependencies = _extractDependencyAnd.dependencies,\r\n        factory = _extractDependencyAnd.factory;\r\n\r\n    if (dependencies && factory) {\r\n        return expression;\r\n    }\r\n\r\n    return false;\r\n}\r\n\r\nfunction extractDependencyMap(path) {\r\n    var dependencyMap = {};\r\n\r\n    var _extractDependencyAnd2 = extractDependencyAndFactory(path),\r\n        dependencies = _extractDependencyAnd2.dependencies,\r\n        factory = _extractDependencyAnd2.factory;\r\n\r\n    var dependencyList = dependencies.node.elements;\r\n    var factoryParams = factory.node.params;\r\n    dependencyList.forEach(function (dependency, index) {\r\n        if (factoryParams[index]) {\r\n            dependencyMap[dependency.value] = factoryParams[index];\r\n        }\r\n    });\r\n    return dependencyMap;\r\n}\r\n\r\nfunction removeExportsDependency(path) {\r\n    var _extractDependencyAnd3 = extractDependencyAndFactory(path),\r\n        dependencies = _extractDependencyAnd3.dependencies,\r\n        factory = _extractDependencyAnd3.factory;\r\n\r\n    var dependencyMap = extractDependencyMap(path);\r\n\r\n    if (!dependencyMap.exports) {\r\n        return;\r\n    }\r\n\r\n    dependencies.node.elements = dependencies.node.elements.filter(function (item) {\r\n        return !t.isStringLiteral(item, {\r\n            value: 'exports'\r\n        });\r\n    });\r\n    factory.node.params = factory.node.params.filter(function (item) {\r\n        return !t.isIdentifier(item, dependencyMap.exports);\r\n    });\r\n}\r\n\r\nfunction isEsModulePropertyDefinition(path, scope) {\r\n    var callExpression = findExpression(path);\r\n    var callee = callExpression.get('callee');\r\n    var callArguments = callExpression.node.arguments;\r\n    var isObjectDefinePropertyCall = isObjectProperty(callee, 'Object', 'defineProperty');\r\n\r\n    if (isObjectDefinePropertyCall) {\r\n        var isEsModulePropertyInArguments = t.isStringLiteral(callArguments[1], {\r\n            value: '__esModule'\r\n        });\r\n        var isInScope = t.isIdentifier(callArguments[0], scope);\r\n        return isEsModulePropertyInArguments && isInScope;\r\n    }\r\n\r\n    return false;\r\n}\r\n\r\nfunction isObjectAssignment(path, objectId) {\r\n    var expression = t.isAssignmentExpression(path) ? path : findExpression(path);\r\n    var isMemberAssignment = t.isAssignmentExpression(expression) && t.isMemberExpression(expression.get('left'));\r\n\r\n    if (isMemberAssignment) {\r\n        return t.isNodesEquivalent(expression.get('left.object').node, objectId);\r\n    }\r\n\r\n    return false;\r\n}\r\n\r\nfunction isVoidExpression(path) {\r\n    return t.isUnaryExpression(path) && path.node.operator === 'void';\r\n}\r\n\r\nfunction isInteropRequireCall(path) {\r\n    var expression = findExpression(path);\r\n    var isAssignmentCall = t.isAssignmentExpression(expression) && t.isCallExpression(expression.get('right'));\r\n\r\n    if (isAssignmentCall) {\r\n        var callee = expression.get('right.callee');\r\n        return callee.isIdentifier() && callee.node.name.indexOf(INTEROP_FUNCTION_NAME) === 0;\r\n    }\r\n\r\n    return false;\r\n}\r\n\r\nfunction isInteropRequireDefinition(path) {\r\n    if (t.isFunction(path) && path.node.id) {\r\n        return path.node.id.name.indexOf(INTEROP_FUNCTION_NAME) === 0;\r\n    }\r\n\r\n    return false;\r\n}","Magento_PageBuilder/ts/babel/plugin-amd-to-magento-amd/index.js":"/* jscs:disable */\r\n/* eslint-disable */\r\n\r\n/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\n\"use strict\";\r\n\r\nexports.__esModule = true;\r\nexports.default = _default;\r\n\r\nvar _astUtils = require(\"./ast-utils\");\r\n\r\nvar t = _interopRequireWildcard(require(\"@babel/types\"));\r\n\r\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\r\n\r\nvar replaceExportAssignment = function replaceExportAssignment(path, state) {\r\n    var property = path.get('left.property');\r\n    var expression = path.get('right');\r\n    path.remove();\r\n\r\n    if ((0, _astUtils.isVoidExpression)(expression)) {\r\n        return;\r\n    }\r\n\r\n    if (property.isIdentifier({\r\n        name: 'default'\r\n    })) {\r\n        state.defaultExport = expression.node;\r\n        return;\r\n    }\r\n\r\n    state.exports.push(t.objectProperty(property.node, expression.node));\r\n};\r\n\r\nvar memberExpressionVisitor = {\r\n    MemberExpression: function MemberExpression(path, state) {\r\n        var matchedDependencies = state.dependencies.filter(function (item) {\r\n            return path.get('object').isIdentifier({\r\n                name: item.name\r\n            });\r\n        });\r\n        var isDefaultDependency = matchedDependencies.length === 1 && path.get('property').isIdentifier({\r\n            name: 'default'\r\n        });\r\n\r\n        if (isDefaultDependency) {\r\n            path.replaceWith(matchedDependencies[0]);\r\n        }\r\n    }\r\n};\r\nvar functionBodyVisitor = {\r\n    ExpressionStatement: function ExpressionStatement(path, state) {\r\n        if ((0, _astUtils.isEsModulePropertyDefinition)(path, state.scope)) {\r\n            path.remove();\r\n        }\r\n\r\n        if ((0, _astUtils.isObjectAssignment)(path, state.scope)) {\r\n            replaceExportAssignment(path.get('expression'), state);\r\n        }\r\n\r\n        if ((0, _astUtils.isInteropRequireCall)(path)) {\r\n            path.remove();\r\n        }\r\n    },\r\n    Function: function Function(path, state) {\r\n        if ((0, _astUtils.isInteropRequireDefinition)(path)) {\r\n            path.remove();\r\n        }\r\n\r\n        path.traverse(memberExpressionVisitor, state);\r\n    },\r\n    ClassMethod: function ClassMethod(path, state) {\r\n        path.traverse(memberExpressionVisitor, state);\r\n    },\r\n    DirectiveLiteral: function DirectiveLiteral(path) {\r\n        if (path.node.value === 'use strict') {\r\n            path.parentPath.remove();\r\n        }\r\n    },\r\n    MemberExpression: memberExpressionVisitor.MemberExpression\r\n};\r\n\r\nvar processAmdDefinition = function processAmdDefinition(path) {\r\n    var _extractDependencyAnd = (0, _astUtils.extractDependencyAndFactory)(path),\r\n        factory = _extractDependencyAnd.factory;\r\n\r\n    var dependencyMap = (0, _astUtils.extractDependencyMap)(path);\r\n\r\n    if (dependencyMap.exports) {\r\n        (0, _astUtils.removeExportsDependency)(path);\r\n        var state = {\r\n            scope: dependencyMap.exports,\r\n            dependencies: Object.values(dependencyMap),\r\n            exports: []\r\n        };\r\n        factory.traverse(functionBodyVisitor, state);\r\n        var returnStatement = t.objectExpression(state.exports);\r\n\r\n        if (state.defaultExport) {\r\n            returnStatement = state.defaultExport;\r\n\r\n            if (state.exports.length > 0) {\r\n                returnStatement = t.callExpression(t.memberExpression(t.identifier('Object'), t.identifier('assign')), [state.defaultExport, t.objectExpression(state.exports)]);\r\n            }\r\n        }\r\n\r\n        factory.get('body').pushContainer('body', t.returnStatement(returnStatement));\r\n    }\r\n};\r\n\r\nvar programVisitor = {\r\n    ExpressionStatement: function ExpressionStatement(path) {\r\n        var amdModule = (0, _astUtils.findAmdModule)(path);\r\n\r\n        if (amdModule) {\r\n            processAmdDefinition(amdModule);\r\n        }\r\n    }\r\n};\r\n\r\nfunction _default() {\r\n    return {\r\n        visitor: {\r\n            Program: {\r\n                exit: function exit(path) {\r\n                    path.traverse(programVisitor);\r\n                }\r\n            }\r\n        }\r\n    };\r\n}","Magento_PageBuilder/ts/babel/plugin-resolve-magento-imports/index.js":"/* jscs:disable */\r\n/* eslint-disable */\r\n\r\n/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\nvar path = require('path');\r\n\r\n/**\r\n * Convert the relative path imports within TypeScript into absolute paths with pre-fixed module name\r\n *\r\n * @returns {{visitor: {ImportDeclaration: visitor.ImportDeclaration}}}\r\n */\r\nmodule.exports = function () {\r\n    'use strict';\r\n\r\n    return {\r\n        visitor: {\r\n            /**\r\n             * Convert ../../utils/util import into Magento_Module/js/utils/util\r\n             *\r\n             * @param {Object} importPath\r\n             * @param {Object} state\r\n             * @constructor\r\n             */\r\n            ImportDeclaration: function (importPath, state) {\r\n                var importExpression = importPath.node.source.value;\r\n\r\n                if (!state.opts.prefix) {\r\n                    throw Error('Prefix must be defined');\r\n                }\r\n\r\n                // Is the file being imported from another directory?\r\n                if (!path.isAbsolute(importExpression) && importExpression.includes('./')) {\r\n                    importPath.node.source.value = path.resolve(\r\n                        path.dirname(state.file.opts.filename.replace(\r\n                            state.opts.path,\r\n                            \"\"\r\n                        )),\r\n                        importExpression\r\n                    ).replace(\r\n                        process.cwd(),\r\n                        state.opts.prefix.replace(/\\/+$/, '')\r\n                    );\r\n                }\r\n            }\r\n        }\r\n    };\r\n};\r\n","Magento_PageBuilderAdminAnalytics/js/page-builder/event-builder.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\ndefine(['underscore'], function (_) {\r\n    'use strict';\r\n\r\n    return {\r\n\r\n        /**\r\n         * Sets up event attributes and action depending on name and args\r\n         *\r\n         * @param {String} name\r\n         * @param {Array} args\r\n         */\r\n\r\n        build: function (name, args) {\r\n            var action = '',\r\n                eventAttributes = {},\r\n                event;\r\n\r\n            if (_.isUndefined(args)) {\r\n                return;\r\n            }\r\n\r\n            switch (name) {\r\n                case 'contentType:duplicateAfter':\r\n                    action = 'duplicate';\r\n                    break;\r\n\r\n                case 'contentType:removeAfter':\r\n                    action = 'remove';\r\n                    break;\r\n\r\n                case 'contentType:createAfter':\r\n                    action = 'create';\r\n                    break;\r\n\r\n                case 'contentType:editBefore':\r\n                    action = 'edit';\r\n                    break;\r\n\r\n                case 'contentType:visibilityAfter':\r\n                    action = args.visibility ? 'show' : 'hide';\r\n                    break;\r\n\r\n                default:\r\n                    break;\r\n            }\r\n\r\n            if (!_.isUndefined(args.contentType)) {\r\n                eventAttributes = args.contentType.config;\r\n            } else if (!_.isUndefined(args.originalContentType)) {\r\n                eventAttributes = args.originalContentType.config;\r\n            }\r\n\r\n            if (action !== '' && !_.isEmpty(eventAttributes)) {\r\n                event = {\r\n                    element: eventAttributes.label,\r\n                    type: eventAttributes.name,\r\n                    action: action,\r\n                    widget: {\r\n                        name: eventAttributes.form,\r\n                        type: eventAttributes['menu_section']\r\n                    },\r\n                    feature: 'page-builder-tracker'\r\n                };\r\n            }\r\n\r\n            return event;\r\n        }\r\n    };\r\n});\r\n","Magento_PageBuilderAdminAnalytics/js/page-builder/events-mixin.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\ndefine(['underscore', 'Magento_PageBuilderAdminAnalytics/js/page-builder/event-builder'],\r\n    function (_, EventBuilder) {\r\n        'use strict';\r\n\r\n        return function (target) {\r\n            var originalTarget = target.trigger,\r\n                isAdminAnalyticsEnabled,\r\n                event,\r\n                hasPageBuilderBeenUsed = false,\r\n                delayedPush;\r\n\r\n            /**\r\n             * Invokes custom code to track information regarding Page Builder usage\r\n             *\r\n             * @param {String} name\r\n             * @param {Array} args\r\n             */\r\n\r\n            target.trigger = function (name, args) {\r\n                originalTarget.apply(originalTarget, [name, args]);\r\n                isAdminAnalyticsEnabled =\r\n                    !_.isUndefined(window.digitalData) &&\r\n                    !_.isUndefined(window._satellite);\r\n\r\n                if (!hasPageBuilderBeenUsed && name.indexOf('stage:fullScreenModeChangeAfter') !== -1 &&\r\n                    args.fullScreen && isAdminAnalyticsEnabled\r\n                ) {\r\n                    hasPageBuilderBeenUsed = true;\r\n                    window.digitalData.page.url = window.location.href;\r\n                    window.digitalData.page.attributes = {\r\n                        editedWithPageBuilder: 'true'\r\n                    };\r\n                    window._satellite.track('page');\r\n                }\r\n\r\n                event = EventBuilder.build(name, args);\r\n\r\n                if (isAdminAnalyticsEnabled && !_.isUndefined(window.digitalData.event) && !_.isUndefined(event)) {\r\n                    delayedPush = setInterval(function (object) {\r\n                        if (_.isArray(window.digitalData.event)) {\r\n                            window.digitalData.event.push(object);\r\n                            window._satellite.track('event');\r\n                            clearInterval(delayedPush);\r\n                        }\r\n                    }, 500, event);\r\n                }\r\n            };\r\n\r\n            return target;\r\n        };\r\n    });\r\n","Magento_Payment/js/transparent.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\n/* global FORM_KEY */\r\n/* @api */\r\ndefine([\r\n    'jquery',\r\n    'mage/template',\r\n    'Magento_Ui/js/modal/alert',\r\n    'Magento_Payment/js/model/credit-card-validation/validator'\r\n], function ($, mageTemplate, alert) {\r\n    'use strict';\r\n\r\n    $.widget('mage.transparent', {\r\n        options: {\r\n            editFormSelector: '#edit_form',\r\n            hiddenFormTmpl:\r\n                '<form target=\"<%= data.target %>\" action=\"<%= data.action %>\"' +\r\n                'method=\"POST\" hidden' +\r\n                'enctype=\"application/x-www-form-urlencoded\" class=\"no-display\">' +\r\n                    '<% _.each(data.inputs, function(val, key){ %>' +\r\n                    '<input value=\"<%= val %>\" name=\"<%= key %>\" type=\"hidden\">' +\r\n                    '<% }); %>' +\r\n                '</form>',\r\n            cgiUrl: null,\r\n            orderSaveUrl: null,\r\n            controller: null,\r\n            gateway: null,\r\n            dateDelim: null,\r\n            cardFieldsMap: null,\r\n            expireYearLength: 2\r\n        },\r\n\r\n        /**\r\n         * @private\r\n         */\r\n        _create: function () {\r\n            this.hiddenFormTmpl = mageTemplate(this.options.hiddenFormTmpl);\r\n\r\n            $(this.options.editFormSelector).on('changePaymentMethod', this._setPlaceOrderHandler.bind(this));\r\n            $(this.options.editFormSelector).trigger('changePaymentMethod', [\r\n                $(this.options.editFormSelector).find(':radio[name=\"payment[method]\"]:checked').val()\r\n            ]);\r\n        },\r\n\r\n        /**\r\n         * Handler for form submit.\r\n         *\r\n         * @param {Object} event\r\n         * @param {String} method\r\n         */\r\n        _setPlaceOrderHandler: function (event, method) {\r\n            var $editForm = $(this.options.editFormSelector);\r\n\r\n            $editForm.off('beforeSubmitOrder.' + this.options.gateway);\r\n\r\n            if (method === this.options.gateway) {\r\n                $editForm.on('beforeSubmitOrder.' +  this.options.gateway, this._placeOrderHandler.bind(this));\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Handler for form submit to call gateway for credit card validation.\r\n         *\r\n         * @param {Event} event\r\n         * @return {Boolean}\r\n         * @private\r\n         */\r\n        _placeOrderHandler: function (event) {\r\n            if ($(this.options.editFormSelector).valid()) {\r\n                this._orderSave();\r\n            } else {\r\n                $('body').trigger('processStop');\r\n            }\r\n            event.stopImmediatePropagation();\r\n\r\n            return false;\r\n        },\r\n\r\n        /**\r\n         * Handler for Place Order button to call gateway for credit card validation.\r\n         * Save order and generate post data for gateway call.\r\n         *\r\n         * @private\r\n         */\r\n        _orderSave: function () {\r\n            var postData = {\r\n                'form_key': FORM_KEY,\r\n                'cc_type': this.ccType()\r\n            };\r\n\r\n            $.ajax({\r\n                url: this.options.orderSaveUrl,\r\n                type: 'post',\r\n                context: this,\r\n                data: postData,\r\n                dataType: 'json',\r\n\r\n                /**\r\n                 * Success callback\r\n                 * @param {Object} response\r\n                 */\r\n                success: function (response) {\r\n                    if (response.success && response[this.options.gateway]) {\r\n                        this._postPaymentToGateway(response);\r\n                    } else {\r\n                        this._processErrors(response);\r\n                    }\r\n                },\r\n\r\n                /** @inheritdoc */\r\n                complete: function () {\r\n                    $('body').trigger('processStop');\r\n                }\r\n            });\r\n        },\r\n\r\n        /**\r\n         * Post data to gateway for credit card validation.\r\n         *\r\n         * @param {Object} response\r\n         * @private\r\n         */\r\n        _postPaymentToGateway: function (response) {\r\n            var $iframeSelector = $('[data-container=\"' + this.options.gateway + '-transparent-iframe\"]'),\r\n                data,\r\n                tmpl,\r\n                iframe;\r\n\r\n            data = this._preparePaymentData(response);\r\n            tmpl = this.hiddenFormTmpl({\r\n                data: {\r\n                    target: $iframeSelector.attr('name'),\r\n                    action: this.options.cgiUrl,\r\n                    inputs: data\r\n                }\r\n            });\r\n\r\n            iframe = $iframeSelector\r\n                .on('submit', function (event) {\r\n                    event.stopPropagation();\r\n                });\r\n            $(tmpl).appendTo(iframe).trigger('submit');\r\n            iframe.html('');\r\n        },\r\n\r\n        /**\r\n         * @returns {String}\r\n         */\r\n        ccType: function () {\r\n            return this.element.find(\r\n                '[data-container=\"' + this.options.gateway + '-cc-type\"]'\r\n            ).val();\r\n        },\r\n\r\n        /**\r\n         * Add credit card fields to post data for gateway.\r\n         *\r\n         * @param {Object} response\r\n         * @private\r\n         */\r\n        _preparePaymentData: function (response) {\r\n            var ccfields,\r\n                data,\r\n                preparedata;\r\n\r\n            data = response[this.options.gateway].fields;\r\n            ccfields = this.options.cardFieldsMap;\r\n\r\n            if (this.element.find('[data-container=\"' + this.options.gateway + '-cc-cvv\"]').length) {\r\n                data[ccfields.cccvv] = this.element.find(\r\n                    '[data-container=\"' + this.options.gateway + '-cc-cvv\"]'\r\n                ).val();\r\n            }\r\n            preparedata = this._prepareExpDate();\r\n            data[ccfields.ccexpdate] = preparedata.month + this.options.dateDelim + preparedata.year;\r\n            data[ccfields.ccnum] = this.element.find(\r\n                '[data-container=\"' + this.options.gateway + '-cc-number\"]'\r\n            ).val();\r\n\r\n            return data;\r\n        },\r\n\r\n        /**\r\n         * Grab Month and Year into one\r\n         * @returns {Object}\r\n         * @private\r\n         */\r\n        _prepareExpDate: function () {\r\n            var year = this.element.find('[data-container=\"' + this.options.gateway + '-cc-year\"]').val(),\r\n                month = parseInt(\r\n                    this.element.find('[data-container=\"' + this.options.gateway + '-cc-month\"]').val(), 10\r\n                );\r\n\r\n            if (year.length > this.options.expireYearLength) {\r\n                year = year.substring(year.length - this.options.expireYearLength);\r\n            }\r\n\r\n            if (month < 10) {\r\n                month = '0' + month;\r\n            }\r\n\r\n            return {\r\n                month: month, year: year\r\n            };\r\n        },\r\n\r\n        /**\r\n         * Processing errors\r\n         *\r\n         * @param {Object} response\r\n         * @private\r\n         */\r\n        _processErrors: function (response) {\r\n            var msg = response['error_messages'];\r\n\r\n            if (typeof msg === 'object') {\r\n                alert({\r\n                    content: msg.join('\\n')\r\n                });\r\n            }\r\n\r\n            if (msg) {\r\n                alert({\r\n                    content: msg\r\n                });\r\n            }\r\n        }\r\n    });\r\n\r\n    return $.mage.transparent;\r\n});\r\n","Magento_Payment/js/model/credit-card-validation/credit-card-data.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\n/* @api */\r\ndefine([], function () {\r\n    'use strict';\r\n\r\n    return {\r\n        creditCard: null,\r\n        creditCardNumber: null,\r\n        expirationMonth: null,\r\n        expirationYear: null,\r\n        cvvCode: null\r\n    };\r\n});\r\n","Magento_Payment/js/model/credit-card-validation/credit-card-number-validator.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\n/* @api */\r\ndefine([\r\n    'mageUtils',\r\n    'Magento_Payment/js/model/credit-card-validation/credit-card-number-validator/luhn10-validator',\r\n    'Magento_Payment/js/model/credit-card-validation/credit-card-number-validator/credit-card-type'\r\n], function (utils, luhn10, creditCardTypes) {\r\n    'use strict';\r\n\r\n    /**\r\n     * @param {*} card\r\n     * @param {*} isPotentiallyValid\r\n     * @param {*} isValid\r\n     * @return {Object}\r\n     */\r\n    function resultWrapper(card, isPotentiallyValid, isValid) {\r\n        return {\r\n            card: card,\r\n            isValid: isValid,\r\n            isPotentiallyValid: isPotentiallyValid\r\n        };\r\n    }\r\n\r\n    return function (value) {\r\n        var potentialTypes,\r\n            cardType,\r\n            valid,\r\n            i,\r\n            maxLength;\r\n\r\n        if (utils.isEmpty(value)) {\r\n            return resultWrapper(null, false, false);\r\n        }\r\n\r\n        value = value.replace(/\\s+/g, '');\r\n\r\n        if (!/^\\d*$/.test(value)) {\r\n            return resultWrapper(null, false, false);\r\n        }\r\n\r\n        potentialTypes = creditCardTypes.getCardTypes(value);\r\n\r\n        if (potentialTypes.length === 0) {\r\n            return resultWrapper(null, false, false);\r\n        } else if (potentialTypes.length !== 1) {\r\n            return resultWrapper(null, true, false);\r\n        }\r\n\r\n        cardType = potentialTypes[0];\r\n\r\n        if (cardType.type === 'unionpay') {  // UnionPay is not Luhn 10 compliant\r\n            valid = true;\r\n        } else {\r\n            valid = luhn10(value);\r\n        }\r\n\r\n        for (i = 0; i < cardType.lengths.length; i++) {\r\n            if (cardType.lengths[i] === value.length) {\r\n                return resultWrapper(cardType, valid, valid);\r\n            }\r\n        }\r\n\r\n        maxLength = Math.max.apply(null, cardType.lengths);\r\n\r\n        if (value.length < maxLength) {\r\n            return resultWrapper(cardType, true, false);\r\n        }\r\n\r\n        return resultWrapper(cardType, false, false);\r\n    };\r\n});\r\n","Magento_Payment/js/model/credit-card-validation/cvv-validator.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\n/* @api */\r\ndefine([], function () {\r\n    'use strict';\r\n\r\n    /**\r\n     * @param {*} isValid\r\n     * @param {*} isPotentiallyValid\r\n     * @return {Object}\r\n     */\r\n    function resultWrapper(isValid, isPotentiallyValid) {\r\n        return {\r\n            isValid: isValid,\r\n            isPotentiallyValid: isPotentiallyValid\r\n        };\r\n    }\r\n\r\n    /**\r\n     * CVV number validation.\r\n     * Validate digit count for CVV code.\r\n     *\r\n     * @param {*} value\r\n     * @param {Number} maxLength\r\n     * @return {Object}\r\n     */\r\n    return function (value, maxLength) {\r\n        var DEFAULT_LENGTH = 3;\r\n\r\n        maxLength = maxLength || DEFAULT_LENGTH;\r\n\r\n        if (!/^\\d*$/.test(value)) {\r\n            return resultWrapper(false, false);\r\n        }\r\n\r\n        if (value.length === maxLength) {\r\n            return resultWrapper(true, true);\r\n        }\r\n\r\n        if (value.length < maxLength) {\r\n            return resultWrapper(false, true);\r\n        }\r\n\r\n        if (value.length > maxLength) {\r\n            return resultWrapper(false, false);\r\n        }\r\n    };\r\n});\r\n","Magento_Payment/js/model/credit-card-validation/expiration-date-validator.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\n/* @api */\r\ndefine([\r\n    'mageUtils',\r\n    'Magento_Payment/js/model/credit-card-validation/expiration-date-validator/parse-date',\r\n    'Magento_Payment/js/model/credit-card-validation/expiration-date-validator/expiration-month-validator',\r\n    'Magento_Payment/js/model/credit-card-validation/expiration-date-validator/expiration-year-validator'\r\n], function (utils, parseDate, expirationMonth, expirationYear) {\r\n    'use strict';\r\n\r\n    /**\r\n     * @param {*} isValid\r\n     * @param {*} isPotentiallyValid\r\n     * @param {*} month\r\n     * @param {*} year\r\n     * @return {Object}\r\n     */\r\n    function resultWrapper(isValid, isPotentiallyValid, month, year) {\r\n        return {\r\n            isValid: isValid,\r\n            isPotentiallyValid: isPotentiallyValid,\r\n            month: month,\r\n            year: year\r\n        };\r\n    }\r\n\r\n    return function (value) {\r\n        var date,\r\n            monthValid,\r\n            yearValid;\r\n\r\n        if (utils.isEmpty(value)) {\r\n            return resultWrapper(false, false, null, null);\r\n        }\r\n\r\n        value = value.replace(/^(\\d\\d) (\\d\\d(\\d\\d)?)$/, '$1/$2');\r\n        date = parseDate(value);\r\n        monthValid = expirationMonth(date.month);\r\n        yearValid = expirationYear(date.year);\r\n\r\n        if (monthValid.isValid && yearValid.isValid) {\r\n            return resultWrapper(true, true, date.month, date.year);\r\n        }\r\n\r\n        if (monthValid.isPotentiallyValid && yearValid.isPotentiallyValid) {\r\n            return resultWrapper(false, true, null, null);\r\n        }\r\n\r\n        return resultWrapper(false, false, null, null);\r\n    };\r\n});\r\n","Magento_Payment/js/model/credit-card-validation/validator.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\n/* @api */\r\ndefine([\r\n    'jquery',\r\n    'Magento_Payment/js/model/credit-card-validation/cvv-validator',\r\n    'Magento_Payment/js/model/credit-card-validation/credit-card-number-validator',\r\n    'Magento_Payment/js/model/credit-card-validation/expiration-date-validator/expiration-year-validator',\r\n    'Magento_Payment/js/model/credit-card-validation/expiration-date-validator/expiration-month-validator',\r\n    'Magento_Payment/js/model/credit-card-validation/credit-card-data',\r\n    'mage/translate'\r\n], function ($, cvvValidator, creditCardNumberValidator, yearValidator, monthValidator, creditCardData) {\r\n    'use strict';\r\n\r\n    $('.payment-method-content input[type=\"number\"]').on('keyup', function () {\r\n        if ($(this).val() < 0) {\r\n            $(this).val($(this).val().replace(/^-/, ''));\r\n        }\r\n    });\r\n\r\n    $.each({\r\n        'validate-card-type': [\r\n            function (number, item, allowedTypes) {\r\n                var cardInfo,\r\n                    i,\r\n                    l;\r\n\r\n                if (!creditCardNumberValidator(number).isValid) {\r\n                    return false;\r\n                }\r\n\r\n                cardInfo = creditCardNumberValidator(number).card;\r\n\r\n                for (i = 0, l = allowedTypes.length; i < l; i++) {\r\n                    if (cardInfo.title == allowedTypes[i].type) { //eslint-disable-line eqeqeq\r\n                        return true;\r\n                    }\r\n                }\r\n\r\n                return false;\r\n            },\r\n            $.mage.__('Please enter a valid credit card type number.')\r\n        ],\r\n        'validate-card-number': [\r\n\r\n            /**\r\n             * Validate credit card number based on mod 10\r\n             *\r\n             * @param {*} number - credit card number\r\n             * @return {Boolean}\r\n             */\r\n            function (number) {\r\n                return creditCardNumberValidator(number).isValid;\r\n            },\r\n            $.mage.__('Please enter a valid credit card number.')\r\n        ],\r\n        'validate-card-date': [\r\n\r\n            /**\r\n             * Validate credit card expiration month\r\n             *\r\n             * @param {String} date - month\r\n             * @return {Boolean}\r\n             */\r\n            function (date) {\r\n                return monthValidator(date).isValid;\r\n            },\r\n            $.mage.__('Incorrect credit card expiration month.')\r\n        ],\r\n        'validate-card-cvv': [\r\n\r\n            /**\r\n             * Validate cvv\r\n             *\r\n             * @param {String} cvv - card verification value\r\n             * @return {Boolean}\r\n             */\r\n            function (cvv) {\r\n                var maxLength = creditCardData.creditCard ? creditCardData.creditCard.code.size : 3;\r\n\r\n                return cvvValidator(cvv, maxLength).isValid;\r\n            },\r\n            $.mage.__('Please enter a valid credit card verification number.')\r\n        ],\r\n        'validate-card-year': [\r\n\r\n            /**\r\n             * Validate credit card expiration year\r\n             *\r\n             * @param {String} date - year\r\n             * @return {Boolean}\r\n             */\r\n            function (date) {\r\n                return yearValidator(date).isValid;\r\n            },\r\n            $.mage.__('Incorrect credit card expiration year.')\r\n        ]\r\n\r\n    }, function (i, rule) {\r\n        rule.unshift(i);\r\n        $.validator.addMethod.apply($.validator, rule);\r\n    });\r\n});\r\n","Magento_Payment/js/model/credit-card-validation/credit-card-number-validator/credit-card-type.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\n/* @api */\r\ndefine([\r\n    'jquery',\r\n    'mageUtils'\r\n], function ($, utils) {\r\n    'use strict';\r\n\r\n    var types = [\r\n        {\r\n            title: 'Visa',\r\n            type: 'VI',\r\n            pattern: '^4\\\\d*$',\r\n            gaps: [4, 8, 12],\r\n            lengths: [16],\r\n            code: {\r\n                name: 'CVV',\r\n                size: 3\r\n            }\r\n        },\r\n        {\r\n            title: 'MasterCard',\r\n            type: 'MC',\r\n            pattern: '^(?:5[1-5][0-9]{2}|222[1-9]|22[3-9][0-9]|2[3-6][0-9]{2}|27[01][0-9]|2720)[0-9]{12}$',\r\n            gaps: [4, 8, 12],\r\n            lengths: [16],\r\n            code: {\r\n                name: 'CVC',\r\n                size: 3\r\n            }\r\n        },\r\n        {\r\n            title: 'American Express',\r\n            type: 'AE',\r\n            pattern: '^3([47]\\\\d*)?$',\r\n            isAmex: true,\r\n            gaps: [4, 10],\r\n            lengths: [15],\r\n            code: {\r\n                name: 'CID',\r\n                size: 4\r\n            }\r\n        },\r\n        {\r\n            title: 'Diners',\r\n            type: 'DN',\r\n            pattern: '^(3(0[0-5]|095|6|[8-9]))\\\\d*$',\r\n            gaps: [4, 10],\r\n            lengths: [14, 16, 17, 18, 19],\r\n            code: {\r\n                name: 'CVV',\r\n                size: 3\r\n            }\r\n        },\r\n        {\r\n            title: 'Discover',\r\n            type: 'DI',\r\n            pattern: '^(6011(0|[2-4]|74|7[7-9]|8[6-9]|9)|6(4[4-9]|5))\\\\d*$',\r\n            gaps: [4, 8, 12],\r\n            lengths: [16, 17, 18, 19],\r\n            code: {\r\n                name: 'CID',\r\n                size: 3\r\n            }\r\n        },\r\n        {\r\n            title: 'JCB',\r\n            type: 'JCB',\r\n            pattern: '^35(2[8-9]|[3-8])\\\\d*$',\r\n            gaps: [4, 8, 12],\r\n            lengths: [16, 17, 18, 19],\r\n            code: {\r\n                name: 'CVV',\r\n                size: 3\r\n            }\r\n        },\r\n        {\r\n            title: 'UnionPay',\r\n            type: 'UN',\r\n            pattern: '^(622(1(2[6-9]|[3-9])|[3-8]|9([[0-1]|2[0-5]))|62[4-6]|628([2-8]))\\\\d*?$',\r\n            gaps: [4, 8, 12],\r\n            lengths: [16, 17, 18, 19],\r\n            code: {\r\n                name: 'CVN',\r\n                size: 3\r\n            }\r\n        },\r\n        {\r\n            title: 'Maestro International',\r\n            type: 'MI',\r\n            pattern: '^(5(0|[6-9])|63|67(?!59|6770|6774))\\\\d*$',\r\n            gaps: [4, 8, 12],\r\n            lengths: [12, 13, 14, 15, 16, 17, 18, 19],\r\n            code: {\r\n                name: 'CVC',\r\n                size: 3\r\n            }\r\n        },\r\n        {\r\n            title: 'Maestro Domestic',\r\n            type: 'MD',\r\n            pattern: '^6759(?!24|38|40|6[3-9]|70|76)|676770|676774\\\\d*$',\r\n            gaps: [4, 8, 12],\r\n            lengths: [12, 13, 14, 15, 16, 17, 18, 19],\r\n            code: {\r\n                name: 'CVC',\r\n                size: 3\r\n            }\r\n        },\r\n        {\r\n            title: 'Hipercard',\r\n            type: 'HC',\r\n            pattern: '^((606282)|(637095)|(637568)|(637599)|(637609)|(637612))\\\\d*$',\r\n            gaps: [4, 8, 12],\r\n            lengths: [13, 16],\r\n            code: {\r\n                name: 'CVC',\r\n                size: 3\r\n            }\r\n        },\r\n        {\r\n            title: 'Elo',\r\n            type: 'ELO',\r\n            pattern: '^((509091)|(636368)|(636297)|(504175)|(438935)|(40117[8-9])|(45763[1-2])|' +\r\n                '(457393)|(431274)|(50990[0-2])|(5099[7-9][0-9])|(50996[4-9])|(509[1-8][0-9][0-9])|' +\r\n                '(5090(0[0-2]|0[4-9]|1[2-9]|[24589][0-9]|3[1-9]|6[0-46-9]|7[0-24-9]))|' +\r\n                '(5067(0[0-24-8]|1[0-24-9]|2[014-9]|3[0-379]|4[0-9]|5[0-3]|6[0-5]|7[0-8]))|' +\r\n                '(6504(0[5-9]|1[0-9]|2[0-9]|3[0-9]))|' +\r\n                '(6504(8[5-9]|9[0-9])|6505(0[0-9]|1[0-9]|2[0-9]|3[0-8]))|' +\r\n                '(6505(4[1-9]|5[0-9]|6[0-9]|7[0-9]|8[0-9]|9[0-8]))|' +\r\n                '(6507(0[0-9]|1[0-8]))|(65072[0-7])|(6509(0[1-9]|1[0-9]|20))|' +\r\n                '(6516(5[2-9]|6[0-9]|7[0-9]))|(6550(0[0-9]|1[0-9]))|' +\r\n                '(6550(2[1-9]|3[0-9]|4[0-9]|5[0-8])))\\\\d*$',\r\n            gaps: [4, 8, 12],\r\n            lengths: [16],\r\n            code: {\r\n                name: 'CVC',\r\n                size: 3\r\n            }\r\n        },\r\n        {\r\n            title: 'Aura',\r\n            type: 'AU',\r\n            pattern: '^5078\\\\d*$',\r\n            gaps: [4, 8, 12],\r\n            lengths: [19],\r\n            code: {\r\n                name: 'CVC',\r\n                size: 3\r\n            }\r\n        }\r\n    ];\r\n\r\n    return {\r\n        /**\r\n         * @param {*} cardNumber\r\n         * @return {Array}\r\n         */\r\n        getCardTypes: function (cardNumber) {\r\n            var i, value,\r\n                result = [];\r\n\r\n            if (utils.isEmpty(cardNumber)) {\r\n                return result;\r\n            }\r\n\r\n            if (cardNumber === '') {\r\n                return $.extend(true, {}, types);\r\n            }\r\n\r\n            for (i = 0; i < types.length; i++) {\r\n                value = types[i];\r\n\r\n                if (new RegExp(value.pattern).test(cardNumber)) {\r\n                    result.push($.extend(true, {}, value));\r\n                }\r\n            }\r\n\r\n            return result;\r\n        }\r\n    };\r\n});\r\n","Magento_Payment/js/model/credit-card-validation/credit-card-number-validator/luhn10-validator.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\ndefine([], function () {\r\n    'use strict';\r\n\r\n    /**\r\n     * Luhn algorithm verification\r\n     */\r\n    return function (a, b, c, d, e) {\r\n        for (d = +a[b = a.length - 1], e = 0; b--;) {\r\n            c = +a[b];\r\n            d += ++e % 2 ? 2 * c % 10 + (c > 4) : c;\r\n        }\r\n\r\n        return !(d % 10);\r\n    };\r\n});\r\n","Magento_Payment/js/model/credit-card-validation/expiration-date-validator/expiration-month-validator.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\ndefine([], function () {\r\n    'use strict';\r\n\r\n    /**\r\n     * @param {*} isValid\r\n     * @param {*} isPotentiallyValid\r\n     * @return {Object}\r\n     */\r\n    function resultWrapper(isValid, isPotentiallyValid) {\r\n        return {\r\n            isValid: isValid,\r\n            isPotentiallyValid: isPotentiallyValid\r\n        };\r\n    }\r\n\r\n    return function (value) {\r\n        var month,\r\n            monthValid;\r\n\r\n        if (value.replace(/\\s/g, '') === '' || value === '0') {\r\n            return resultWrapper(false, true);\r\n        }\r\n\r\n        if (!/^\\d*$/.test(value)) {\r\n            return resultWrapper(false, false);\r\n        }\r\n\r\n        if (isNaN(value)) {\r\n            return resultWrapper(false, false);\r\n        }\r\n\r\n        month = parseInt(value, 10);\r\n        monthValid = month > 0 && month < 13;\r\n\r\n        return resultWrapper(monthValid, monthValid);\r\n    };\r\n});\r\n","Magento_Payment/js/model/credit-card-validation/expiration-date-validator/expiration-year-validator.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\ndefine([], function () {\r\n    'use strict';\r\n\r\n    /**\r\n     * @param {*} isValid\r\n     * @param {*} isPotentiallyValid\r\n     * @return {Object}\r\n     */\r\n    function resultWrapper(isValid, isPotentiallyValid) {\r\n        return {\r\n            isValid: isValid,\r\n            isPotentiallyValid: isPotentiallyValid\r\n        };\r\n    }\r\n\r\n    return function (value) {\r\n        var currentYear = new Date().getFullYear(),\r\n            len = value.length,\r\n            valid,\r\n            expMaxLifetime = 19;\r\n\r\n        if (value.replace(/\\s/g, '') === '') {\r\n            return resultWrapper(false, true);\r\n        }\r\n\r\n        if (!/^\\d*$/.test(value)) {\r\n            return resultWrapper(false, false);\r\n        }\r\n\r\n        if (len !== 4) {\r\n            return resultWrapper(false, true);\r\n        }\r\n\r\n        value = parseInt(value, 10);\r\n        valid = value >= currentYear && value <= currentYear + expMaxLifetime;\r\n\r\n        return resultWrapper(valid, valid);\r\n    };\r\n});\r\n","Magento_Payment/js/model/credit-card-validation/expiration-date-validator/parse-date.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\ndefine([], function () {\r\n    'use strict';\r\n\r\n    return function (value) {\r\n        var month, len;\r\n\r\n        if (value.match('/')) {\r\n            value = value.split(/\\s*\\/\\s*/g);\r\n\r\n            return {\r\n                month: value[0],\r\n                year: value.slice(1).join()\r\n            };\r\n        }\r\n\r\n        len = value[0] === '0' || value.length > 5 || value.length === 4 || value.length === 3 ? 2 : 1;\r\n        month = value.substr(0, len);\r\n\r\n        return {\r\n            month: month,\r\n            year: value.substr(month.length, 4)\r\n        };\r\n    };\r\n});\r\n","Magento_Paypal/js/rule.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\ndefine([\r\n    'uiClass',\r\n    'Magento_Paypal/js/rules'\r\n], function (Class, Rules) {\r\n    'use strict';\r\n\r\n    return Class.extend({\r\n\r\n        /**\r\n         * Constructor\r\n         *\r\n         * @param {Object} config\r\n         * @returns {exports.initialize}\r\n         */\r\n        initialize: function (config) {\r\n            this.rules = new Rules();\r\n            this.initConfig(config);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * To apply the rule\r\n         */\r\n        apply: function () {\r\n            this.rules[this.name](this.$target, this.$owner, this.data);\r\n        }\r\n    });\r\n});\r\n","Magento_Paypal/js/rules.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\ndefine([\r\n    'uiClass',\r\n    'Magento_Ui/js/modal/alert'\r\n], function (Class, alert) {\r\n    'use strict';\r\n\r\n    /**\r\n     * Check is solution enabled\r\n     *\r\n     * @param {*} solution\r\n     * @param {String} enabler\r\n     * @returns {Boolean}\r\n     */\r\n    var isSolutionEnabled = function (solution, enabler) {\r\n            return solution.find(enabler).val() === '1';\r\n        },\r\n\r\n        /**\r\n         * Check is solution has related solutions enabled\r\n         *\r\n         * @param {Object} data\r\n         * @returns {Boolean}\r\n         */\r\n        hasRelationsEnabled = function (data) {\r\n            var name;\r\n\r\n            for (name in data.argument) {\r\n                if (\r\n                    data.solutionsElements[name] &&\r\n                    isSolutionEnabled(data.solutionsElements[name], data.enableButton)\r\n                ) {\r\n                    return true;\r\n                }\r\n            }\r\n\r\n            return false;\r\n        },\r\n\r\n        /**\r\n         * Set solution select-enabler to certain option\r\n         *\r\n         * @param {*} solution\r\n         * @param {String} enabler\r\n         * @param {Boolean} enabled\r\n         */\r\n        setSolutionSelectEnabled = function (solution, enabler, enabled) {\r\n            enabled = !(enabled || typeof enabled === 'undefined') ? '0' : '1';\r\n\r\n            solution.find(enabler + ' option[value=' + enabled + ']')\r\n            .prop('selected', true);\r\n        },\r\n\r\n        /**\r\n         * Set solution property 'disabled' value\r\n         *\r\n         * @param {*} solution\r\n         * @param {String} enabler\r\n         * @param {Boolean} enabled\r\n         */\r\n        setSolutionPropEnabled = function (solution, enabler, enabled) {\r\n            enabled = !(enabled || typeof enabled === 'undefined');\r\n\r\n            solution.find(enabler).prop('disabled', enabled);\r\n        },\r\n\r\n        /**\r\n         * Set/unset solution select-enabler label\r\n         *\r\n         * @param {*} solution\r\n         * @param {String} enabler\r\n         * @param {Boolean} enabled\r\n         */\r\n        setSolutionMarkEnabled = function (solution, enabler, enabled) {\r\n            var solutionEnabler = solution.find('label[for=\"' + solution.find(enabler).attr('id') + '\"]');\r\n\r\n            enabled || typeof enabled === 'undefined' ?\r\n                solutionEnabler.addClass('enabled') :\r\n                solutionEnabler.removeClass('enabled');\r\n        },\r\n\r\n        /**\r\n         * Set/unset solution section label\r\n         *\r\n         * @param {*} solution\r\n         * @param {Boolean} enabled\r\n         */\r\n        setSolutionSectionMarkEnabled = function (solution, enabled) {\r\n            var solutionSection = solution.find('.section-config');\r\n\r\n            enabled || typeof enabled === 'undefined' ?\r\n                solutionSection.addClass('enabled') :\r\n                solutionSection.removeClass('enabled');\r\n        },\r\n\r\n        /**\r\n         * Set/unset solution section inner labels\r\n         *\r\n         * @param {*} solution\r\n         * @param {Boolean} enabled\r\n         */\r\n        setSolutionLabelsMarkEnabled = function (solution, enabled) {\r\n            var solutionLabels = solution.find('label.enabled');\r\n\r\n            enabled || typeof enabled === 'undefined' ?\r\n                solutionLabels.addClass('enabled') :\r\n                solutionLabels.removeClass('enabled');\r\n        },\r\n\r\n        /**\r\n         * Set/unset solution usedefault checkbox\r\n         *\r\n         * @param {*} solution\r\n         * @param {String} enabler\r\n         * @param {Boolean} checked\r\n         */\r\n        setSolutionUsedefaultEnabled = function (solution, enabler, checked) {\r\n            checked = !(checked || typeof checked === 'undefined');\r\n\r\n            solution.find('input[id=\"' + solution.find(enabler).attr('id') + '_inherit\"]')\r\n            .prop('checked', checked);\r\n        },\r\n\r\n        /**\r\n         * Set solution as disabled\r\n         *\r\n         * @param {*} solution\r\n         * @param {String} enabler\r\n         */\r\n        disableSolution = function (solution, enabler) {\r\n            setSolutionUsedefaultEnabled(solution, enabler);\r\n            setSolutionMarkEnabled(solution, enabler, false);\r\n            setSolutionSelectEnabled(solution, enabler, false);\r\n            setSolutionPropEnabled(solution, enabler, false);\r\n        },\r\n\r\n        /**\r\n         * Set solution as enabled\r\n         *\r\n         * @param {*} solution\r\n         * @param {String} enabler\r\n         */\r\n        enableSolution = function (solution, enabler) {\r\n            setSolutionUsedefaultEnabled(solution, enabler);\r\n            setSolutionPropEnabled(solution, enabler);\r\n            setSolutionSelectEnabled(solution, enabler);\r\n            setSolutionMarkEnabled(solution, enabler);\r\n        },\r\n\r\n        /**\r\n         * Lock/unlock solution configuration button\r\n         *\r\n         * @param {*} solution\r\n         * @param {String} buttonConfiguration\r\n         * @param {Boolean} unlock\r\n         */\r\n        setSolutionConfigurationUnlock = function (solution, buttonConfiguration, unlock) {\r\n            var solutionConfiguration = solution.find(buttonConfiguration);\r\n\r\n            unlock || typeof unlock === 'undefined' ?\r\n                solutionConfiguration.removeClass('disabled').prop('disabled', false) :\r\n                solutionConfiguration.addClass('disabled').attr('disabled', 'disabled');\r\n        },\r\n\r\n        /**\r\n         * Forward solution select-enabler changes\r\n         *\r\n         * @param {*} solution\r\n         * @param {String} enabler\r\n         */\r\n        forwardSolutionChange = function (solution, enabler) {\r\n            solution.find(enabler).change();\r\n        },\r\n\r\n        /**\r\n         * Show/hide dependent fields\r\n         *\r\n         * @param {*} solution\r\n         * @param {String} identifier\r\n         * @param {Boolean} show\r\n         */\r\n        showDependsField = function (solution, identifier, show) {\r\n            show = show || typeof show === 'undefined';\r\n\r\n            solution.find(identifier).toggle(show);\r\n            solution.find(identifier).closest('tr').toggle(show);\r\n            solution.find(identifier).attr('disabled', !show);\r\n        };\r\n\r\n    return Class.extend({\r\n        defaults: {\r\n            /**\r\n             * Payment conflicts checker\r\n             */\r\n            executed: false\r\n        },\r\n\r\n        /**\r\n         * @param {*} $target\r\n         * @param {*} $owner\r\n         * @param {Object} data\r\n         */\r\n        simpleDisable: function ($target, $owner, data) {\r\n            setSolutionSelectEnabled($target, data.enableButton, false);\r\n            setSolutionLabelsMarkEnabled($target, false);\r\n            setSolutionSectionMarkEnabled($target, false);\r\n        },\r\n\r\n        /**\r\n         * @param {*} $target\r\n         */\r\n        simpleMarkEnable: function ($target) {\r\n            setSolutionSectionMarkEnabled($target);\r\n        },\r\n\r\n        /**\r\n         * @param {*} $target\r\n         * @param {*} $owner\r\n         * @param {Object} data\r\n         */\r\n        disable: function ($target, $owner, data) {\r\n            this.simpleDisable($target, $owner, data);\r\n            forwardSolutionChange($target, data.enableButton);\r\n        },\r\n\r\n        /**\r\n         * @param {*} $target\r\n         * @param {*} $owner\r\n         * @param {Object} data\r\n         */\r\n        paypalExpressDisable: function ($target, $owner, data) {\r\n            setSolutionSelectEnabled($target, data.enableButton, false);\r\n            setSolutionLabelsMarkEnabled($target, false);\r\n            forwardSolutionChange($target, data.enableButton);\r\n        },\r\n\r\n        /**\r\n         * @param {*} $target\r\n         * @param {*} $owner\r\n         * @param {Object} data\r\n         */\r\n        paypalExpressLockConfiguration: function ($target, $owner, data) {\r\n            setSolutionConfigurationUnlock($target, data.buttonConfiguration, false);\r\n        },\r\n\r\n        /**\r\n         * @param {*} $target\r\n         * @param {*} $owner\r\n         * @param {Object} data\r\n         */\r\n        paypalExpressLockConfigurationConditional: function ($target, $owner, data) {\r\n            if (\r\n                !isSolutionEnabled($target, data.enableInContextPayPal) &&\r\n                hasRelationsEnabled(data)\r\n            ) {\r\n                this.paypalExpressLockConfiguration($target, $owner, data);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @param {*} $target\r\n         * @param {*} $owner\r\n         * @param {Object} data\r\n         */\r\n        paypalExpressMarkDisable: function ($target, $owner, data) {\r\n            if (!hasRelationsEnabled(data)) {\r\n                this.simpleDisable($target, $owner, data);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @param {*} $target\r\n         * @param {*} $owner\r\n         * @param {Object} data\r\n         */\r\n        paypalExpressUnlockConfiguration: function ($target, $owner, data) {\r\n            if (!hasRelationsEnabled(data)) {\r\n                setSolutionConfigurationUnlock($target, data.buttonConfiguration);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @param {*} $target\r\n         * @param {*} $owner\r\n         * @param {Object} data\r\n         */\r\n        paypalBmlDisable: function ($target, $owner, data) {\r\n            disableSolution($target, data.enableBmlPayPal);\r\n        },\r\n\r\n        /**\r\n         * @param {*} $target\r\n         * @param {*} $owner\r\n         * @param {Object} data\r\n         */\r\n        paypalBmlDisableConditional: function ($target, $owner, data) {\r\n            if (!isSolutionEnabled($target, data.enableButton)) {\r\n                this.paypalBmlDisable($target, $owner, data);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @param {*} $target\r\n         * @param {*} $owner\r\n         * @param {Object} data\r\n         */\r\n        paypalBmlEnable: function ($target, $owner, data) {\r\n            enableSolution($target, data.enableBmlPayPal);\r\n        },\r\n\r\n        /**\r\n         * @param {*} $target\r\n         * @param {*} $owner\r\n         * @param {Object} data\r\n         */\r\n        payflowExpressDisable: function ($target, $owner, data) {\r\n            disableSolution($target, data.enableExpress);\r\n        },\r\n\r\n        /**\r\n         * @param {*} $target\r\n         * @param {*} $owner\r\n         * @param {Object} data\r\n         */\r\n        payflowExpressDisableConditional: function ($target, $owner, data) {\r\n            if (\r\n                !isSolutionEnabled($target, data.enableButton) ||\r\n                hasRelationsEnabled(data)\r\n            ) {\r\n                this.payflowExpressDisable($target, $owner, data);\r\n                forwardSolutionChange($target, data.enableExpress);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @param {*} $target\r\n         * @param {*} $owner\r\n         * @param {Object} data\r\n         */\r\n        payflowExpressEnable: function ($target, $owner, data) {\r\n            enableSolution($target, data.enableExpress);\r\n            forwardSolutionChange($target, data.enableExpress);\r\n        },\r\n\r\n        /**\r\n         * @param {*} $target\r\n         * @param {*} $owner\r\n         * @param {Object} data\r\n         */\r\n        payflowExpressEnableConditional: function ($target, $owner, data) {\r\n            if (hasRelationsEnabled(data)) {\r\n                setSolutionPropEnabled($target, data.enableExpress, false);\r\n                setSolutionSelectEnabled($target, data.enableExpress);\r\n                setSolutionMarkEnabled($target, data.enableExpress);\r\n            } else {\r\n                disableSolution($target, data.enableExpress);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @param {*} $target\r\n         * @param {*} $owner\r\n         * @param {Object} data\r\n         */\r\n        payflowExpressLockConditional: function ($target, $owner, data) {\r\n            if (!isSolutionEnabled($target, data.enableButton)) {\r\n                setSolutionPropEnabled($target, data.enableExpress, false);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @param {*} $target\r\n         * @param {*} $owner\r\n         * @param {Object} data\r\n         */\r\n        payflowExpressUsedefaultDisable: function ($target, $owner, data) {\r\n            setSolutionUsedefaultEnabled($target, data.enableExpress, false);\r\n            this.payflowExpressEnable($target, $owner, data);\r\n            forwardSolutionChange($target, data.enableExpress);\r\n        },\r\n\r\n        /**\r\n         * @param {*} $target\r\n         * @param {*} $owner\r\n         * @param {Object} data\r\n         */\r\n        payflowExpressUsedefaultEnable: function ($target, $owner, data) {\r\n            setSolutionUsedefaultEnabled($target, data.enableExpress);\r\n            this.payflowExpressDisable($target, $owner, data);\r\n            forwardSolutionChange($target, data.enableExpress);\r\n        },\r\n\r\n        /**\r\n         * @param {*} $target\r\n         * @param {*} $owner\r\n         * @param {Object} data\r\n         */\r\n        payflowBmlDisable: function ($target, $owner, data) {\r\n            disableSolution($target, data.enableBml);\r\n        },\r\n\r\n        /**\r\n         * @param {*} $target\r\n         * @param {*} $owner\r\n         * @param {Object} data\r\n         */\r\n        payflowBmlDisableConditional: function ($target, $owner, data) {\r\n            if (\r\n                !isSolutionEnabled($target, data.enableButton) ||\r\n                hasRelationsEnabled(data)\r\n            ) {\r\n                this.payflowBmlDisable($target, $owner, data);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @param {*} $target\r\n         * @param {*} $owner\r\n         * @param {Object} data\r\n         */\r\n        payflowBmlDisableConditionalExpress: function ($target, $owner, data) {\r\n            if (!isSolutionEnabled($target, data.enableExpress)) {\r\n                this.payflowBmlDisable($target, $owner, data);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @param {*} $target\r\n         * @param {*} $owner\r\n         * @param {Object} data\r\n         */\r\n        payflowBmlEnable: function ($target, $owner, data) {\r\n            enableSolution($target, data.enableBml);\r\n        },\r\n\r\n        /**\r\n         * @param {*} $target\r\n         * @param {*} $owner\r\n         * @param {Object} data\r\n         */\r\n        payflowBmlEnableConditional: function ($target, $owner, data) {\r\n            if (hasRelationsEnabled(data)) {\r\n                setSolutionPropEnabled($target, data.enableBml, false);\r\n                setSolutionSelectEnabled($target, data.enableBml);\r\n                setSolutionMarkEnabled($target, data.enableBml);\r\n            } else {\r\n                disableSolution($target, data.enableBml);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @param {*} $target\r\n         * @param {*} $owner\r\n         * @param {Object} data\r\n         */\r\n        payflowBmlLockConditional: function ($target, $owner, data) {\r\n            if (!isSolutionEnabled($target, data.enableButton)) {\r\n                setSolutionPropEnabled($target, data.enableBml, false);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @param {*} $target\r\n         * @param {*} $owner\r\n         * @param {Object} data\r\n         */\r\n        inContextEnable: function ($target, $owner, data) {\r\n            enableSolution($target, data.enableInContextPayPal);\r\n        },\r\n\r\n        /**\r\n         * @param {*} $target\r\n         * @param {*} $owner\r\n         * @param {Object} data\r\n         */\r\n        inContextDisable: function ($target, $owner, data) {\r\n            disableSolution($target, data.enableInContextPayPal);\r\n        },\r\n\r\n        /**\r\n         * @param {*} $target\r\n         * @param {*} $owner\r\n         * @param {Object} data\r\n         */\r\n        inContextShowMerchantId: function ($target, $owner, data) {\r\n            showDependsField($target, data.dependsMerchantId);\r\n        },\r\n\r\n        /**\r\n         * @param {*} $target\r\n         * @param {*} $owner\r\n         * @param {Object} data\r\n         */\r\n        inContextHideMerchantId: function ($target, $owner, data) {\r\n            showDependsField($target, data.dependsMerchantId, false);\r\n        },\r\n\r\n        /**\r\n         * @param {*} $target\r\n         * @param {*} $owner\r\n         * @param {Object} data\r\n         */\r\n        payflowShowSortOrder: function ($target, $owner, data) {\r\n            showDependsField($target, data.dependsBmlSortOrder);\r\n        },\r\n\r\n        /**\r\n         * @param {*} $target\r\n         * @param {*} $owner\r\n         * @param {Object} data\r\n         */\r\n        payflowHideSortOrder: function ($target, $owner, data) {\r\n            showDependsField($target, data.dependsBmlSortOrder, false);\r\n        },\r\n\r\n        /**\r\n         * @param {*} $target\r\n         * @param {*} $owner\r\n         * @param {Object} data\r\n         */\r\n        paypalShowSortOrder: function ($target, $owner, data) {\r\n            showDependsField($target, data.dependsBmlApiSortOrder);\r\n        },\r\n\r\n        /**\r\n         * @param {*} $target\r\n         * @param {*} $owner\r\n         * @param {Object} data\r\n         */\r\n        paypalHideSortOrder: function ($target, $owner, data) {\r\n            showDependsField($target, data.dependsBmlApiSortOrder, false);\r\n        },\r\n\r\n        /**\r\n         * @param {*} $target\r\n         * @param {*} $owner\r\n         * @param {Object} data\r\n         */\r\n        inContextActivate: function ($target, $owner, data) {\r\n            setSolutionMarkEnabled($target, data.enableInContextPayPal);\r\n        },\r\n\r\n        /**\r\n         * @param {*} $target\r\n         * @param {*} $owner\r\n         * @param {Object} data\r\n         */\r\n        inContextDeactivate: function ($target, $owner, data) {\r\n            setSolutionMarkEnabled($target, data.enableInContextPayPal, false);\r\n        },\r\n\r\n        /**\r\n         * @param {*} $target\r\n         * @param {*} $owner\r\n         * @param {Object} data\r\n         */\r\n        inContextDisableConditional: function ($target, $owner, data) {\r\n            if (!isSolutionEnabled($target, data.enableButton)) {\r\n                this.inContextDisable($target, $owner, data);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @param {*} $target\r\n         * @param {*} $owner\r\n         * @param {Object} data\r\n         */\r\n        conflict: function ($target, $owner, data) {\r\n            var newLine = String.fromCharCode(10, 13);\r\n\r\n            if (\r\n                isSolutionEnabled($owner, data.enableButton) &&\r\n                hasRelationsEnabled(data) &&\r\n                !this.executed\r\n            ) {\r\n                this.executed = true;\r\n                alert({\r\n                    content: 'The following error(s) occurred:' +\r\n                    newLine +\r\n                    'Some PayPal solutions conflict.' +\r\n                    newLine +\r\n                    'Please re-enable the previously enabled payment solutions.'\r\n                });\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @param {*} $target\r\n         * @param {*} $owner\r\n         * @param {Object} data\r\n         */\r\n        removeCreditOption: function ($target, $owner, data) {\r\n            if ($target.find(data.dependsButtonLabel + ' option[value=\"credit\"]').length > 0) {\r\n                $target.find(data.dependsButtonLabel + ' option[value=\"credit\"]').remove();\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @param {*} $target\r\n         * @param {*} $owner\r\n         * @param {Object} data\r\n         */\r\n        addCreditOption: function ($target, $owner, data) {\r\n            if ($target.find(data.dependsButtonLabel + ' option[value=\"credit\"]').length === 0) {\r\n                $target.find(data.dependsButtonLabel).append('<option value=\"credit\">Credit</option>');\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @param {*} $target\r\n         * @param {*} $owner\r\n         * @param {Object} data\r\n         */\r\n        removeCreditOptionConditional: function ($target, $owner, data) {\r\n            if ($target.find(data.dependsDisableFundingOptions + ' option[value=\"CREDIT\"]').length === 0 ||\r\n                $target.find(data.dependsDisableFundingOptions + ' option[value=\"CREDIT\"]:selected').length > 0\r\n            ) {\r\n                this.removeCreditOption($target, $owner, data);\r\n            }\r\n        }\r\n    });\r\n});\r\n","Magento_Paypal/js/solution.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\ndefine([\r\n    'jquery',\r\n    'uiClass',\r\n    'Magento_Paypal/js/rule',\r\n    'mageUtils',\r\n    'underscore'\r\n], function ($, Class, Rule, utils, _) {\r\n    'use strict';\r\n\r\n    return Class.extend({\r\n        defaults: {\r\n\r\n            /**\r\n             * The event corresponding to the state change\r\n             */\r\n            systemEvent: 'change',\r\n\r\n            /**\r\n             * The rules applied after the page is loaded\r\n             */\r\n            afterLoadRules: [],\r\n\r\n            /**\r\n             * An attribute of the element responsible for the activation of the payment method (data attribute)\r\n             */\r\n            enableButton:   '[data-enable=\"payment\"]',\r\n\r\n            /**\r\n             * An attribute of the element responsible for the activation of the Payflow Express (data attribute)\r\n             */\r\n            enableExpress:  '[data-enable=\"express\"]',\r\n\r\n            /**\r\n             * An attribute of the element responsible for the activation of the\r\n             * PayPal Express In-Context Checkout Experience (data attribute)\r\n             */\r\n            enableInContextPayPal: '[data-enable=\"in-context-api\"]',\r\n\r\n            /**\r\n             * An attribute of the element responsible for the activation of the Payflow Bml (data attribute)\r\n             */\r\n            enableBml:      '[data-enable=\"bml\"]',\r\n\r\n            /**\r\n             * An attribute of the element responsible for the activation of the PayPal Bml (data attribute)\r\n             */\r\n            enableBmlPayPal:      '[data-enable=\"bml-api\"]',\r\n\r\n            /**\r\n             * An attribute of the element responsible for the visibility of the PayPal Merchant Id (data attribute)\r\n             */\r\n            dependsMerchantId:  '[data-enable=\"merchant-id\"]',\r\n\r\n            /**\r\n             * An attribute of the element responsible for the visibility of the Payflow Bml Sort Order (data attribute)\r\n             */\r\n            dependsBmlSortOrder:    '[data-enable=\"bml-sort-order\"]',\r\n\r\n            /**\r\n             * An attribute of the element responsible for the visibility of the PayPal Bml Sort Order (data attribute)\r\n             */\r\n            dependsBmlApiSortOrder:    '[data-enable=\"bml-api-sort-order\"]',\r\n\r\n            /**\r\n             * An attribute of the element responsible for the visibility of the\r\n             * button Label credit option (data attribute)\r\n             */\r\n            dependsButtonLabel: '[data-enable=\"button-label\"]',\r\n\r\n            /**\r\n             * An attribute of the element responsible for the visibility of the\r\n             * button Label credit option on load (data attribute)\r\n             */\r\n            dependsDisableFundingOptions: '[data-enable=\"disable-funding-options\"]',\r\n\r\n            /**\r\n             * Templates element selectors\r\n             */\r\n            templates: {\r\n                elementSelector: 'div.section-config tr[id$=\"${ $.identifier }\"]:first'\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Constructor\r\n         *\r\n         * @param {Object} config\r\n         * @param {String} identifier\r\n         * @returns {exports.initialize}\r\n         */\r\n        initialize: function (config, identifier) {\r\n            this.initConfig(config);\r\n            this.$self = this.createElement(identifier);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Initialization events\r\n         *\r\n         * @returns {exports.initEvents}\r\n         */\r\n        initEvents: function () {\r\n            _.each(this.config.events, function (elementEvents, selector) {\r\n\r\n                var solution = this,\r\n                    selectorButton = solution.$self.find(selector),\r\n                    $self = solution.$self,\r\n                    events = elementEvents;\r\n\r\n                selectorButton.on(solution.systemEvent, function () {\r\n                    _.each(events, function (elementEvent, name) {\r\n\r\n                        var predicate = elementEvent.predicate,\r\n                            result = true,\r\n\r\n                            /**\r\n                             * @param {Function} functionPredicate\r\n                             */\r\n                            predicateCallback = function (functionPredicate) {\r\n                                result = functionPredicate(solution, predicate.message, predicate.argument);\r\n\r\n                                if (result) {\r\n                                    $self.trigger(name);\r\n                                } else {\r\n                                    $self.trigger(predicate.event);\r\n                                }\r\n                            };\r\n\r\n                        if (solution.getValue($(this)) === elementEvent.value ||\r\n                            $(this).prop('multiple') && solution.checkMultiselectValue($(this), elementEvent)\r\n                        ) {\r\n                            if (predicate.name) {\r\n                                require([\r\n                                    'Magento_Paypal/js/predicate/' + predicate.name\r\n                                ], predicateCallback);\r\n                            } else {\r\n                                $self.trigger(name);\r\n                            }\r\n                        }\r\n                    }, this);\r\n                });\r\n            }, this);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * @param {Object} $element\r\n         * @returns {*}\r\n         */\r\n        getValue: function ($element) {\r\n            if ($element.is(':checkbox')) {\r\n                return $element.prop('checked') ? '1' : '0';\r\n            }\r\n\r\n            return $element.val();\r\n        },\r\n\r\n        /**\r\n         * Check multiselect value based on include value\r\n         *\r\n         * @param {Object} $element\r\n         * @param {Object} elementEvent\r\n         * @returns {Boolean}\r\n         */\r\n        checkMultiselectValue: function ($element, elementEvent) {\r\n            var isValueSelected = $.inArray(elementEvent.value, $element.val()) >= 0;\r\n\r\n            if (elementEvent.include) {\r\n                isValueSelected = (isValueSelected ? 'true' : 'false') === elementEvent.include;\r\n            }\r\n\r\n            return isValueSelected;\r\n        },\r\n\r\n        /**\r\n         * Adding event listeners\r\n         *\r\n         * @returns {exports.addListeners}\r\n         */\r\n        addListeners: function () {\r\n\r\n            _.each(this.config.relations, function (rules, targetName) {\r\n\r\n                var $target = this.createElement(targetName);\r\n\r\n                _.each(rules, function (instances, instanceName) {\r\n\r\n                    _.each(instances, function (instance) {\r\n                        var handler = new Rule({\r\n                            name: instanceName,\r\n                            $target: $target,\r\n                            $owner: this.$self,\r\n                            data: {\r\n                                buttonConfiguration: this.buttonConfiguration,\r\n                                enableButton: this.enableButton,\r\n                                enableExpress: this.enableExpress,\r\n                                enableInContextPayPal: this.enableInContextPayPal,\r\n                                enableBml: this.enableBml,\r\n                                enableBmlPayPal: this.enableBmlPayPal,\r\n                                dependsMerchantId: this.dependsMerchantId,\r\n                                dependsBmlSortOrder: this.dependsBmlSortOrder,\r\n                                dependsBmlApiSortOrder: this.dependsBmlApiSortOrder,\r\n                                dependsButtonLabel: this.dependsButtonLabel,\r\n                                dependsDisableFundingOptions: this.dependsDisableFundingOptions,\r\n                                solutionsElements: this.solutionsElements,\r\n                                argument: instance.argument\r\n                            }\r\n                        });\r\n\r\n                        if (instance.event === ':load') {\r\n                            this.afterLoadRules.push(handler);\r\n\r\n                            return;\r\n                        }\r\n\r\n                        this.$self.on(instance.event, _.bind(handler.apply, handler));\r\n                    }, this);\r\n                }, this);\r\n            }, this);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Create a jQuery element according to selector\r\n         *\r\n         * @param {String} identifier\r\n         * @returns {*}\r\n         */\r\n        createElement: function (identifier) {\r\n            if (identifier === ':self') {\r\n                return this.$self;\r\n            }\r\n\r\n            return $(utils.template(this.templates.elementSelector, {\r\n                'identifier': identifier\r\n            }));\r\n        },\r\n\r\n        /**\r\n         * Assign solutions elements\r\n         *\r\n         * @param {Object} elements\r\n         * @returns {exports.setSolutionsElements}\r\n         */\r\n        setSolutionsElements: function (elements) {\r\n            this.solutionsElements = elements;\r\n\r\n            return this;\r\n        }\r\n    });\r\n});\r\n","Magento_Paypal/js/solutions.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\ndefine([\r\n    'jquery',\r\n    'uiClass',\r\n    'Magento_Paypal/js/solution',\r\n    'underscore'\r\n], function ($, Class, Solution, _) {\r\n    'use strict';\r\n\r\n    return Class.extend({\r\n        defaults: {\r\n\r\n            /**\r\n             * Initialized solutions\r\n             */\r\n            solutions: {},\r\n\r\n            /**\r\n             * The elements of created solutions\r\n             */\r\n            solutionsElements: {},\r\n\r\n            /**\r\n             * The selector element responsible for configuration of payment method (CSS class)\r\n             */\r\n            buttonConfiguration: '.button.action-configure'\r\n        },\r\n\r\n        /**\r\n         * Constructor\r\n         *\r\n         * @param {Object} config\r\n         * @returns {exports.initialize}\r\n         */\r\n        initialize: function (config) {\r\n            this.initConfig(config)\r\n                .initSolutions();\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Initialization and configuration solutions\r\n         *\r\n         * @returns {exports.initSolutions}\r\n         */\r\n        initSolutions: function () {\r\n            _.each(this.config.solutions, this.addSolution, this);\r\n            this.initializeSolutions()\r\n                .wipeButtonsConfiguration();\r\n            _.each(this.solutions, this.applicationRules);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * The creation and addition of the solution according to the configuration\r\n         *\r\n         * @param {Object} solution\r\n         * @param {String} identifier\r\n         */\r\n        addSolution: function (solution, identifier) {\r\n            this.solutions[identifier] = new Solution({\r\n                config: solution,\r\n                buttonConfiguration: this.buttonConfiguration\r\n            }, identifier);\r\n            this.solutionsElements[identifier] = this.solutions[identifier].$self;\r\n        },\r\n\r\n        /**\r\n         * Wiping buttons configuration of the payment method\r\n         */\r\n        wipeButtonsConfiguration: function () {\r\n            $(this.buttonConfiguration).removeClass('disabled')\r\n                .prop('disabled', false);\r\n        },\r\n\r\n        /**\r\n         * Application of the rules\r\n         *\r\n         * @param {Object} solution\r\n         */\r\n        applicationRules: function (solution) {\r\n            _.each(solution.afterLoadRules, function (rule) {\r\n                rule.apply();\r\n            });\r\n        },\r\n\r\n        /**\r\n         * Initialize solutions\r\n         *\r\n         * @returns {exports.initializeSolutions}\r\n         */\r\n        initializeSolutions: function () {\r\n            _.each(this.solutions, function (solution) {\r\n                solution.setSolutionsElements(this.solutionsElements)\r\n                    .initEvents()\r\n                    .addListeners();\r\n            }, this);\r\n\r\n            return this;\r\n        }\r\n    });\r\n});\r\n","Magento_Paypal/js/payflowpro/vault.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n/*browser:true*/\r\n\r\ndefine([\r\n    'jquery',\r\n    'uiComponent'\r\n], function ($, Class) {\r\n    'use strict';\r\n\r\n    return Class.extend({\r\n        defaults: {\r\n            $selector: null,\r\n            selector: 'edit_form'\r\n        },\r\n\r\n        /**\r\n         * Set list of observable attributes\r\n         * @returns {exports.initObservable}\r\n         */\r\n        initObservable: function () {\r\n            var self = this;\r\n\r\n            self.$selector = $('#' + self.selector);\r\n            this._super();\r\n\r\n            this.initEventHandlers();\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Get payment code\r\n         * @returns {String}\r\n         */\r\n        getCode: function () {\r\n            return 'payflowpro';\r\n        },\r\n\r\n        /**\r\n         * Init event handlers\r\n         */\r\n        initEventHandlers: function () {\r\n            $('#' + this.container).find('[name=\"payment[token_switcher]\"]')\r\n                .on('click', this.setPaymentDetails.bind(this));\r\n        },\r\n\r\n        /**\r\n         * Store payment details\r\n         */\r\n        setPaymentDetails: function () {\r\n            this.$selector.find('[name=\"payment[public_hash]\"]').val(this.publicHash);\r\n        }\r\n    });\r\n});\r\n","Magento_Paypal/js/predicate/confirm.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\ndefine(['underscore'], function (_) {\r\n    'use strict';\r\n\r\n    return function (solution, message, argument) {\r\n        var isConfirm = false;\r\n\r\n        _.every(argument, function (name) {\r\n            if (solution.solutionsElements[name] &&\r\n                solution.solutionsElements[name].find(solution.enableButton).val() == 1 //eslint-disable-line eqeqeq\r\n            ) {\r\n                isConfirm = true;\r\n\r\n                return !isConfirm;\r\n            }\r\n\r\n            return !isConfirm;\r\n        }, this);\r\n\r\n        if (isConfirm) {\r\n            return confirm(message); //eslint-disable-line no-alert\r\n        }\r\n\r\n        return true;\r\n    };\r\n});\r\n","Magento_ProductVideo/js/get-video-information.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\ndefine([\r\n    'jquery',\r\n    'Magento_Ui/js/modal/alert',\r\n    'jquery/ui',\r\n    'mage/translate'\r\n], function ($, alert) {\r\n        'use strict';\r\n\r\n        var videoRegister = {\r\n            _register: {},\r\n\r\n            /**\r\n             * Checks, if api is already registered\r\n             *\r\n             * @param {String} api\r\n             * @returns {bool}\r\n             */\r\n            isRegistered: function (api) {\r\n                return this._register[api] !== undefined;\r\n            },\r\n\r\n            /**\r\n             * Checks, if api is loaded\r\n             *\r\n             * @param {String} api\r\n             * @returns {bool}\r\n             */\r\n            isLoaded: function (api) {\r\n                return this._register[api] !== undefined && this._register[api] === true;\r\n            },\r\n\r\n            /**\r\n             * Register new video api\r\n             * @param {String} api\r\n             * @param {bool} loaded\r\n             */\r\n            register: function (api, loaded) {\r\n                loaded = loaded || false;\r\n                this._register[api] = loaded;\r\n            }\r\n        };\r\n\r\n        $.widget('mage.productVideoLoader', {\r\n\r\n            /**\r\n             * @private\r\n             */\r\n            _create: function () {\r\n                switch (this.element.data('type')) {\r\n                    case 'youtube':\r\n                        this.element.videoYoutube();\r\n                        this._player = this.element.data('mageVideoYoutube');\r\n                        break;\r\n\r\n                    case 'vimeo':\r\n                        this.element.videoVimeo();\r\n                        this._player = this.element.data('mageVideoVimeo');\r\n                        break;\r\n                    default:\r\n                        throw {\r\n                            name: $.mage.__('Video Error'),\r\n                            message: $.mage.__('Unknown video type'),\r\n\r\n                            /**\r\n                             * Return string\r\n                             */\r\n                            toString: function () {\r\n                                return this.name + ': ' + this.message;\r\n                            }\r\n                        };\r\n                }\r\n            },\r\n\r\n            /**\r\n             * Initializes variables\r\n             * @private\r\n             */\r\n            _initialize: function () {\r\n                this._params = this.element.data('params') || {};\r\n                this._code = this.element.data('code');\r\n                this._width = this.element.data('width');\r\n                this._height = this.element.data('height');\r\n                this._autoplay = !!this.element.data('autoplay');\r\n                this._playing = this._autoplay || false;\r\n                this.useYoutubeNocookie = this.element.data('youtubenocookie') || false;\r\n\r\n                this._responsive = this.element.data('responsive') !== false;\r\n\r\n                if (this._responsive === true) {\r\n                    this.element.addClass('responsive');\r\n                }\r\n\r\n                this._calculateRatio();\r\n            },\r\n\r\n            /**\r\n             * Abstract play command\r\n             */\r\n            play: function () {\r\n                this._player.play();\r\n            },\r\n\r\n            /**\r\n             * Abstract pause command\r\n             */\r\n            pause: function () {\r\n                this._player.pause();\r\n            },\r\n\r\n            /**\r\n             * Abstract stop command\r\n             */\r\n            stop: function () {\r\n                this._player.stop();\r\n            },\r\n\r\n            /**\r\n             * Abstract playing command\r\n             */\r\n            playing: function () {\r\n                return this._player.playing();\r\n            },\r\n\r\n            /**\r\n             * Abstract destroying command\r\n             */\r\n            destroy: function () {\r\n                if (this._player) {\r\n                    this._player.destroy();\r\n                }\r\n            },\r\n\r\n            /**\r\n             * Calculates ratio for responsive videos\r\n             * @private\r\n             */\r\n            _calculateRatio: function () {\r\n                if (!this._responsive) {\r\n                    return;\r\n                }\r\n                this.element.css('paddingBottom', this._height / this._width * 100 + '%');\r\n            }\r\n        });\r\n\r\n        $.widget('mage.videoYoutube', $.mage.productVideoLoader, {\r\n\r\n            /**\r\n             * Initialization of the Youtube widget\r\n             * @private\r\n             */\r\n            _create: function () {\r\n                var self = this;\r\n\r\n                this._initialize();\r\n\r\n                this.element.append('<div></div>');\r\n\r\n                this._on(window, {\r\n\r\n                    /**\r\n                     * Youtube state check\r\n                     * @private\r\n                     */\r\n                    'youtubeapiready': function () {\r\n                        var host = 'https://www.youtube.com';\r\n\r\n                        if (self.useYoutubeNocookie) {\r\n                            host = 'https://www.youtube-nocookie.com';\r\n                        }\r\n\r\n                        if (self._player !== undefined) {\r\n                            return;\r\n                        }\r\n\r\n                        if (self._autoplay) {\r\n                            self._params.autoplay = 1;\r\n                        }\r\n                        self._params.rel = 0;\r\n\r\n                        self._player = new window.YT.Player(self.element.children(':first')[0], {\r\n                            height: self._height,\r\n                            width: self._width,\r\n                            videoId: self._code,\r\n                            playerVars: self._params,\r\n                            host: host,\r\n                            events: {\r\n\r\n                                /**\r\n                                 * @private\r\n                                 */\r\n                                'onReady': function onPlayerReady() {\r\n                                    self._player.getDuration();\r\n                                },\r\n\r\n                                /**\r\n                                 * State change flag init\r\n                                 */\r\n                                onStateChange: function (data) {\r\n                                    switch (window.parseInt(data.data, 10)) {\r\n                                        case 1:\r\n                                            self._playing = true;\r\n                                            break;\r\n                                        default:\r\n                                            self._playing = false;\r\n                                            break;\r\n                                    }\r\n\r\n                                    self._trigger('statechange', {}, data);\r\n                                }\r\n                            }\r\n\r\n                        });\r\n                    }\r\n                });\r\n\r\n                this._loadApi();\r\n            },\r\n\r\n            /**\r\n             * Loads Youtube API and triggers event, when loaded\r\n             * @private\r\n             */\r\n            _loadApi: function () {\r\n                var element,\r\n                    scriptTag;\r\n\r\n                if (videoRegister.isRegistered('youtube')) {\r\n                    if (videoRegister.isLoaded('youtube')) {\r\n                        $(window).trigger('youtubeapiready');\r\n                    }\r\n\r\n                    return;\r\n                }\r\n                videoRegister.register('youtube');\r\n\r\n                element = document.createElement('script');\r\n                scriptTag = document.getElementsByTagName('script')[0];\r\n\r\n                element.async = true;\r\n                element.src = 'https://www.youtube.com/iframe_api';\r\n                scriptTag.parentNode.insertBefore(element, scriptTag);\r\n\r\n                /**\r\n                 * Trigger youtube api ready event\r\n                 */\r\n                window.onYouTubeIframeAPIReady = function () {\r\n                    $(window).trigger('youtubeapiready');\r\n                    videoRegister.register('youtube', true);\r\n                };\r\n            },\r\n\r\n            /**\r\n             * Play command for Youtube\r\n             */\r\n            play: function () {\r\n                this._player.playVideo();\r\n                this._playing = true;\r\n            },\r\n\r\n            /**\r\n             * Pause command for Youtube\r\n             */\r\n            pause: function () {\r\n                this._player.pauseVideo();\r\n                this._playing = false;\r\n            },\r\n\r\n            /**\r\n             * Stop command for Youtube\r\n             */\r\n            stop: function () {\r\n                this._player.stopVideo();\r\n                this._playing = false;\r\n            },\r\n\r\n            /**\r\n             * Playing command for Youtube\r\n             */\r\n            playing: function () {\r\n                return this._playing;\r\n            },\r\n\r\n            /**\r\n             * stops and unloads player\r\n             * @private\r\n             */\r\n            destroy: function () {\r\n                if (this._player) {\r\n                    this.stop();\r\n                    this._player.destroy();\r\n                    this._player = undefined;\r\n                }\r\n            }\r\n        });\r\n\r\n        $.widget('mage.videoVimeo', $.mage.productVideoLoader, {\r\n\r\n            /**\r\n             * Initialize the Vimeo widget\r\n             * @private\r\n             */\r\n            _create: function () {\r\n                var timestamp,\r\n                    src,\r\n                    additionalParams;\r\n\r\n                this._initialize();\r\n                timestamp = new Date().getTime();\r\n\r\n                if (this._autoplay) {\r\n                    additionalParams += '&autoplay=1';\r\n                }\r\n\r\n                src = 'https://player.vimeo.com/video/' +\r\n                    this._code + '?api=1&player_id=vimeo' +\r\n                    this._code +\r\n                    timestamp +\r\n                    additionalParams;\r\n                this.element.append(\r\n                    $('<iframe></iframe>')\r\n                        .attr('frameborder', 0)\r\n                        .attr('id', 'vimeo' + this._code + timestamp)\r\n                        .attr('width', this._width)\r\n                        .attr('height', this._height)\r\n                        .attr('src', src)\r\n                );\r\n\r\n            }\r\n        });\r\n\r\n        $.widget('mage.videoData', {\r\n            options: {\r\n                youtubeKey: '',\r\n                eventSource: '' //where is data going from - focus out or click on button\r\n            },\r\n\r\n            _REQUEST_VIDEO_INFORMATION_TRIGGER: 'request_video_information',\r\n\r\n            _UPDATE_VIDEO_INFORMATION_TRIGGER: 'updated_video_information',\r\n\r\n            _START_UPDATE_INFORMATION_TRIGGER: 'update_video_information',\r\n\r\n            _ERROR_UPDATE_INFORMATION_TRIGGER: 'error_updated_information',\r\n\r\n            _FINISH_UPDATE_INFORMATION_TRIGGER: 'finish_update_information',\r\n\r\n            _VIDEO_URL_VALIDATE_TRIGGER: 'validate_video_url',\r\n\r\n            _videoInformation: null,\r\n\r\n            _currentVideoUrl: null,\r\n\r\n            /**\r\n             * @private\r\n             */\r\n            _init: function () {\r\n                this.element.on(this._START_UPDATE_INFORMATION_TRIGGER, $.proxy(this._onRequestHandler, this));\r\n                this.element.on(this._ERROR_UPDATE_INFORMATION_TRIGGER, $.proxy(this._onVideoInvalid, this));\r\n                this.element.on(this._FINISH_UPDATE_INFORMATION_TRIGGER, $.proxy(\r\n                    function () {\r\n                        this._currentVideoUrl = null;\r\n                    }, this\r\n                ));\r\n                this.element.on(this._VIDEO_URL_VALIDATE_TRIGGER, $.proxy(this._onUrlValidateHandler, this));\r\n            },\r\n\r\n            /**\r\n             * @private\r\n             */\r\n            _onUrlValidateHandler: function (event, callback, forceVideo) {\r\n                var url = this.element.val(),\r\n                    videoInfo;\r\n\r\n                videoInfo = this._validateURL(url, forceVideo);\r\n\r\n                if (videoInfo) {\r\n                    callback();\r\n                } else {\r\n                    this._onRequestError($.mage.__('Invalid video url'));\r\n                }\r\n            },\r\n\r\n            /**\r\n             * @private\r\n             */\r\n            _onRequestHandler: function () {\r\n                var url = this.element.val(),\r\n                    self = this,\r\n                    videoInfo,\r\n                    type,\r\n                    id,\r\n                    googleapisUrl;\r\n\r\n                if (this._currentVideoUrl === url) {\r\n                    return;\r\n                }\r\n\r\n                this._currentVideoUrl = url;\r\n\r\n                this.element.trigger(this._REQUEST_VIDEO_INFORMATION_TRIGGER, {\r\n                    url: url\r\n                });\r\n\r\n                if (!url) {\r\n                    return;\r\n                }\r\n\r\n                videoInfo = this._validateURL(url);\r\n\r\n                if (!videoInfo) {\r\n                    this._onRequestError($.mage.__('Invalid video url'));\r\n\r\n                    return;\r\n                }\r\n\r\n                /**\r\n                 *\r\n                 * @param {Object} data\r\n                 * @private\r\n                 */\r\n                function _onYouTubeLoaded(data) {\r\n                    var tmp,\r\n                        uploadedFormatted,\r\n                        respData,\r\n                        createErrorMessage;\r\n\r\n                    /**\r\n                     * Create errors message\r\n                     *\r\n                     * @returns {String}\r\n                     */\r\n                    createErrorMessage = function () {\r\n                        var error = data.error,\r\n                            errors = error.errors,\r\n                            i,\r\n                            errLength = errors.length,\r\n                            tmpError,\r\n                            errReason,\r\n                            errorsMessage = [];\r\n\r\n                        for (i = 0; i < errLength; i++) {\r\n                            tmpError = errors[i];\r\n                            errReason = tmpError.reason;\r\n\r\n                            if (['keyInvalid'].indexOf(errReason) !== -1) {\r\n                                errorsMessage.push($.mage.__('Youtube API key is invalid'));\r\n\r\n                                break;\r\n                            }\r\n\r\n                            errorsMessage.push(tmpError.message);\r\n                        }\r\n\r\n                        return $.mage.__('Video cant be shown due to the following reason: ') +\r\n                            $.unique(errorsMessage).join(', ');\r\n                    };\r\n\r\n                    if (data.error && [400, 402, 403].indexOf(data.error.code) !== -1) {\r\n                        this._onRequestError(createErrorMessage());\r\n\r\n                        return;\r\n                    }\r\n\r\n                    if (!data.items || data.items.length < 1) {\r\n                        this._onRequestError($.mage.__('Video not found'));\r\n\r\n                        return;\r\n                    }\r\n\r\n                    tmp = data.items[0];\r\n                    uploadedFormatted = tmp.snippet.publishedAt.replace('T', ' ').replace(/\\..+/g, '');\r\n                    respData = {\r\n                        duration: this._formatYoutubeDuration(tmp.contentDetails.duration),\r\n                        channel: tmp.snippet.channelTitle,\r\n                        channelId: tmp.snippet.channelId,\r\n                        uploaded: uploadedFormatted,\r\n                        title: tmp.snippet.localized.title,\r\n                        description: tmp.snippet.description,\r\n                        thumbnail: tmp.snippet.thumbnails.high.url,\r\n                        videoId: videoInfo.id,\r\n                        videoProvider: videoInfo.type,\r\n                        useYoutubeNocookie: videoInfo.useYoutubeNocookie\r\n                    };\r\n                    this._videoInformation = respData;\r\n                    this.element.trigger(this._UPDATE_VIDEO_INFORMATION_TRIGGER, respData);\r\n                    this.element.trigger(this._FINISH_UPDATE_INFORMATION_TRIGGER, true);\r\n                }\r\n\r\n                /**\r\n                 * @private\r\n                 */\r\n                function _onVimeoLoaded(data) {\r\n                    var tmp,\r\n                        respData,\r\n                        videoDescription = '';\r\n\r\n                    if (!data) {\r\n                        this._onRequestError($.mage.__('Video not found'));\r\n\r\n                        return null;\r\n                    }\r\n                    tmp = data;\r\n\r\n                    if (tmp.description !== null) {\r\n                        videoDescription = tmp.description;\r\n                    }\r\n\r\n                    if (tmp.duration == null) {\r\n                        this._onRequestError(\r\n                            $.mage.__('Because of its privacy settings, this video cannot be played here.')\r\n                        );\r\n                    } else {\r\n                        respData = {\r\n                            duration: this._formatVimeoDuration(tmp.duration),\r\n                            channel: tmp['author_name'],\r\n                            channelId: tmp['author_url'],\r\n                            uploaded: tmp['upload_date'],\r\n                            title: tmp.title,\r\n                            description: videoDescription.replace(/(&nbsp;|<([^>]+)>)/ig, ''),\r\n                            thumbnail: tmp['thumbnail_url'],\r\n                            videoId: videoInfo.id,\r\n                            videoProvider: videoInfo.type\r\n                        };\r\n                        this._videoInformation = respData;\r\n                        this.element.trigger(this._UPDATE_VIDEO_INFORMATION_TRIGGER, respData);\r\n                        this.element.trigger(this._FINISH_UPDATE_INFORMATION_TRIGGER, true);\r\n                    }\r\n                }\r\n\r\n                type = videoInfo.type;\r\n                id = videoInfo.id;\r\n\r\n                if (type === 'youtube') {\r\n                    googleapisUrl = 'https://www.googleapis.com/youtube/v3/videos?id=' +\r\n                        id +\r\n                        '&part=snippet,contentDetails&key=' +\r\n                        this.options.youtubeKey + '&alt=json&callback=?';\r\n                    $.getJSON(googleapisUrl,\r\n                        {\r\n                            format: 'json'\r\n                        },\r\n                        $.proxy(_onYouTubeLoaded, self)\r\n                    ).fail(\r\n                        function () {\r\n                            self._onRequestError('Video not found');\r\n                        }\r\n                    );\r\n                } else if (type === 'vimeo') {\r\n                    $.ajax({\r\n                        url: 'https://vimeo.com/api/oembed.json',\r\n                        dataType: 'jsonp',\r\n                        data: {\r\n                            format: 'json',\r\n                            url: 'https://vimeo.com/' + id\r\n                        },\r\n                        timeout: 5000,\r\n                        success:  $.proxy(_onVimeoLoaded, self),\r\n\r\n                        /**\r\n                         * @private\r\n                         */\r\n                        error: function () {\r\n                            self._onRequestError($.mage.__('Video not found'));\r\n                        }\r\n                    });\r\n                }\r\n            },\r\n\r\n            /**\r\n             * @private\r\n             */\r\n            _onVideoInvalid: function (event, data) {\r\n                this._videoInformation = null;\r\n                this.element.val('');\r\n                alert({\r\n                    content: 'Error: \"' + data + '\"'\r\n                });\r\n            },\r\n\r\n            /**\r\n             * @private\r\n             */\r\n            _onRequestError: function (error) {\r\n                this.element.trigger(this._ERROR_UPDATE_INFORMATION_TRIGGER, error);\r\n                this.element.trigger(this._FINISH_UPDATE_INFORMATION_TRIGGER, false);\r\n                this._currentVideoUrl = null;\r\n            },\r\n\r\n            /**\r\n             * @private\r\n             */\r\n            _formatYoutubeDuration: function (duration) {\r\n                var match = duration.match(/PT(\\d+H)?(\\d+M)?(\\d+S)?/),\r\n                    hours = parseInt(match[1], 10) || 0,\r\n                    minutes = parseInt(match[2], 10) || 0,\r\n                    seconds = parseInt(match[3], 10) || 0;\r\n\r\n                return this._formatVimeoDuration(hours * 3600 + minutes * 60 + seconds);\r\n            },\r\n\r\n            /**\r\n             * @private\r\n             */\r\n            _formatVimeoDuration: function (seconds) {\r\n                return new Date(seconds * 1000).toUTCString().match(/(\\d\\d:\\d\\d:\\d\\d)/)[0];\r\n            },\r\n\r\n            /**\r\n             * @private\r\n             */\r\n            _parseHref: function (href) {\r\n                var a = document.createElement('a');\r\n\r\n                a.href = href;\r\n\r\n                return a;\r\n            },\r\n\r\n            /**\r\n             * @private\r\n             */\r\n            _validateURL: function (href, forceVideo) {\r\n                var id,\r\n                    type,\r\n                    ampersandPosition,\r\n                    vimeoRegex,\r\n                    useYoutubeNocookie = false;\r\n\r\n                if (typeof href !== 'string') {\r\n                    return href;\r\n                }\r\n                href = this._parseHref(href);\r\n\r\n                if (href.host.match(/youtube\\.com/) && href.search) {\r\n\r\n                    id = href.search.split('v=')[1];\r\n\r\n                    if (id) {\r\n                        ampersandPosition = id.indexOf('&');\r\n                        type = 'youtube';\r\n                    }\r\n\r\n                    if (id && ampersandPosition !== -1) {\r\n                        id = id.substring(0, ampersandPosition);\r\n                    }\r\n\r\n                } else if (href.host.match(/youtube\\.com|youtu\\.be|youtube-nocookie.com/)) {\r\n                    id = href.pathname.replace(/^\\/(embed\\/|v\\/)?/, '').replace(/\\/.*/, '');\r\n                    type = 'youtube';\r\n\r\n                    if (href.host.match(/youtube-nocookie.com/)) {\r\n                        useYoutubeNocookie = true;\r\n                    }\r\n                } else if (href.host.match(/vimeo\\.com/)) {\r\n                    type = 'vimeo';\r\n                    vimeoRegex = new RegExp(['https?:\\\\/\\\\/(?:www\\\\.|player\\\\.)?vimeo.com\\\\/(?:channels\\\\/(?:\\\\w+\\\\/)',\r\n                        '?|groups\\\\/([^\\\\/]*)\\\\/videos\\\\/|album\\\\/(\\\\d+)\\\\/video\\\\/|video\\\\/|)(\\\\d+)(?:$|\\\\/|\\\\?)'\r\n                    ].join(''));\r\n\r\n                    if (href.href.match(vimeoRegex) != null) {\r\n                        id = href.href.match(vimeoRegex)[3];\r\n                    }\r\n                }\r\n\r\n                if ((!id || !type) && forceVideo) {\r\n                    id = href.href;\r\n                    type = 'custom';\r\n                }\r\n\r\n                return id ? {\r\n                    id: id, type: type, s: href.search.replace(/^\\?/, ''), useYoutubeNocookie: useYoutubeNocookie\r\n                } : false;\r\n            }\r\n        });\r\n    });\r\n","Magento_ProductVideo/js/new-video-dialog.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\ndefine([\r\n    'jquery',\r\n    'underscore',\r\n    'jquery/ui',\r\n    'Magento_Ui/js/modal/modal',\r\n    'mage/translate',\r\n    'mage/backend/tree-suggest',\r\n    'mage/backend/validation',\r\n    'Magento_ProductVideo/js/get-video-information'\r\n], function ($, _) {\r\n    'use strict';\r\n\r\n    $.widget('mage.createVideoPlayer', {\r\n        options: {\r\n            videoId: '',\r\n            videoProvider: '',\r\n            container: '.video-player-container',\r\n            videoClass: 'product-video',\r\n            reset: false,\r\n            useYoutubeNocookie: false,\r\n            metaData: {\r\n                DOM: {\r\n                    title: '.video-information.title span',\r\n                    uploaded: '.video-information.uploaded span',\r\n                    uploader: '.video-information.uploader span',\r\n                    duration: '.video-information.duration span',\r\n                    all: '.video-information span',\r\n                    wrapper: '.video-information'\r\n                },\r\n                data: {\r\n                    title: '',\r\n                    uploaded: '',\r\n                    uploader: '',\r\n                    uploaderUrl: '',\r\n                    duration: ''\r\n                }\r\n            }\r\n        },\r\n\r\n        _FINISH_CREATE_VIDEO_TRIGGER: 'finish_create_video',\r\n\r\n        _FINISH_UPDATE_VIDEO_TRIGGER: 'finish_update_video',\r\n\r\n        /**\r\n         * @private\r\n         */\r\n        _init: function () {\r\n            if (this.options.reset) {\r\n                this.reset();\r\n            } else {\r\n                this.update();\r\n            }\r\n\r\n            this.element.on('reset', $.proxy(this.reset, this));\r\n\r\n        },\r\n\r\n        /**\r\n         * @returns {Boolean}\r\n         */\r\n        update: function () {\r\n            var checkVideoID =\r\n                this.element.find(this.options.container).find('.' + this.options.videoClass).data('code'),\r\n            eventVideoData = {\r\n                oldVideoId: checkVideoID ? checkVideoID.toString() : checkVideoID,\r\n                newVideoId: this.options.videoId ? this.options.videoId.toString() : this.options.videoId\r\n            };\r\n\r\n            if (checkVideoID && checkVideoID !== this.options.videoId) {\r\n                this._doUpdate();\r\n                this.element.trigger(this._FINISH_UPDATE_VIDEO_TRIGGER, eventVideoData);\r\n            } else if (checkVideoID && checkVideoID === this.options.videoId) {\r\n                return false;\r\n            } else if (!checkVideoID) {\r\n                this._doUpdate();\r\n                this.element.trigger(this._FINISH_CREATE_VIDEO_TRIGGER, eventVideoData);\r\n            }\r\n\r\n        },\r\n\r\n        /**\r\n         * @private\r\n         */\r\n        _doUpdate: function () {\r\n            var uploaderLinkUrl,\r\n                uploaderLink;\r\n\r\n            this.reset();\r\n            this.element.find(this.options.container).append(\r\n                '<div class=\"' +\r\n                this.options.videoClass +\r\n                '\" data-type=\"' +\r\n                this.options.videoProvider +\r\n                '\" data-code=\"' +\r\n                this.options.videoId +\r\n                '\" data-youtubenocookie=\"' +\r\n                this.options.useYoutubeNocookie +\r\n                '\" data-width=\"100%\" data-height=\"100%\"></div>'\r\n            );\r\n            this.element.find(this.options.metaData.DOM.wrapper).show();\r\n            this.element.find(this.options.metaData.DOM.title).text(this.options.metaData.data.title);\r\n            this.element.find(this.options.metaData.DOM.uploaded).text(this.options.metaData.data.uploaded);\r\n            this.element.find(this.options.metaData.DOM.duration).text(this.options.metaData.data.duration);\r\n\r\n            if (this.options.videoProvider === 'youtube') {\r\n                uploaderLinkUrl = 'https://youtube.com/channel/' + this.options.metaData.data.uploaderUrl;\r\n            } else if (this.options.videoProvider === 'vimeo') {\r\n                uploaderLinkUrl = this.options.metaData.data.uploaderUrl;\r\n            }\r\n            uploaderLink = document.createElement('a');\r\n            uploaderLink.setAttribute('href', uploaderLinkUrl);\r\n            uploaderLink.setAttribute('target', '_blank');\r\n            uploaderLink.innerText = this.options.metaData.data.uploader;\r\n            this.element.find(this.options.metaData.DOM.uploader)[0].appendChild(uploaderLink);\r\n            this.element.find('.' + this.options.videoClass).productVideoLoader();\r\n\r\n        },\r\n\r\n        /**\r\n         * Reset\r\n         */\r\n        reset: function () {\r\n            this.element.find(this.options.container).find('.' + this.options.videoClass).remove();\r\n            this.element.find(this.options.metaData.DOM.wrapper).hide();\r\n            this.element.find(this.options.metaData.DOM.all).text('');\r\n\r\n        }\r\n    });\r\n\r\n    $.widget('mage.updateInputFields', {\r\n        options: {\r\n            reset: false,\r\n            DOM: {\r\n                urlField: 'input[name=\"video_url\"]',\r\n                titleField: 'input[name=\"video_title\"]',\r\n                fileField: '#file_name',\r\n                descriptionField: 'textarea[name=\"video_description\"]',\r\n                thumbnailLocation: '.field-new_video_screenshot_preview .admin__field-control'\r\n            },\r\n            data: {\r\n                url: '',\r\n                title: '',\r\n                description: '',\r\n                thumbnail: ''\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @private\r\n         */\r\n        _init: function () {\r\n            if (this.options.reset) {\r\n                this.reset();\r\n            } else {\r\n                this.update();\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Update\r\n         */\r\n        update: function () {\r\n            $(this.options.DOM.titleField).val(this.options.data.title);\r\n            $(this.options.DOM.descriptionField).val(this.options.data.description);\r\n        },\r\n\r\n        /**\r\n         * Reset\r\n         */\r\n        reset: function () {\r\n            $(this.options.DOM.fileField).val('');\r\n            $(this.options.DOM.urlField).val('');\r\n            $(this.options.DOM.titleField).val('');\r\n            $(this.options.DOM.descriptionField).val('');\r\n        }\r\n    });\r\n\r\n    /**\r\n     */\r\n    $.widget('mage.newVideoDialog', {\r\n\r\n        _previewImage: null,\r\n\r\n        clickedElement: '',\r\n\r\n        _images: {},\r\n\r\n        _imageTypes: [\r\n            '.jpeg',\r\n            '.pjpeg',\r\n            '.jpeg',\r\n            '.jpg',\r\n            '.pjpeg',\r\n            '.png',\r\n            '.gif'\r\n        ],\r\n\r\n        _imageProductGalleryWrapperSelector: '#image-container',\r\n\r\n        _videoPreviewInputSelector: '#new_video_screenshot',\r\n\r\n        _videoPreviewRemoteSelector: '',\r\n\r\n        _videoDisableinputSelector: '#new_video_disabled',\r\n\r\n        _videoPreviewImagePointer: '#new_video_screenshot_preview',\r\n\r\n        _videoFormSelector: '#new_video_form',\r\n\r\n        _itemIdSelector: '#item_id',\r\n\r\n        _videoUrlSelector: '[name=\"video_url\"]',\r\n\r\n        _videoImageFilenameselector: '#file_name',\r\n\r\n        _videoUrlWidget: null,\r\n\r\n        _videoInformationBtnSelector: '[name=\"new_video_get\"]',\r\n\r\n        _editVideoBtnSelector: '.image',\r\n\r\n        _deleteGalleryVideoSelector: '[data-role=delete-button]',\r\n\r\n        _deleteGalleryVideoSelectorBtn: null,\r\n\r\n        _videoInformationGetBtn: null,\r\n\r\n        _videoInformationGetUrlField: null,\r\n\r\n        _videoInformationGetEditBtn: null,\r\n\r\n        _isEditPage: false,\r\n\r\n        _onlyVideoPlayer: false,\r\n\r\n        _tempPreviewImageData: null,\r\n\r\n        _videoPlayerSelector: '.mage-new-video-dialog',\r\n\r\n        _videoRequestComplete: null,\r\n\r\n        _gallery: null,\r\n\r\n        /**\r\n         * Bind events\r\n         * @private\r\n         */\r\n        _bind: function () {\r\n            var events = {\r\n                'setImage': '_onSetImage'\r\n            };\r\n\r\n            this._on(events);\r\n\r\n            this._videoUrlWidget = this.element.find(this._videoUrlSelector).videoData({\r\n                youtubeKey: this.options.youTubeApiKey,\r\n                eventSource: 'focusout'\r\n            });\r\n\r\n            this._videoInformationGetBtn = this.element.find(this._videoInformationBtnSelector);\r\n            this._videoInformationGetUrlField = this.element.find(this._videoUrlSelector);\r\n            this._videoInformationGetEditBtn = this._gallery.find(this._editVideoBtnSelector);\r\n\r\n            this._videoInformationGetBtn.on('click', $.proxy(this._onGetVideoInformationClick, this));\r\n            this._videoInformationGetUrlField.on('focusout', $.proxy(this._onGetVideoInformationFocusOut, this));\r\n\r\n            this._videoUrlWidget.on('updated_video_information', $.proxy(this._onGetVideoInformationSuccess, this));\r\n            this._videoUrlWidget.on('error_updated_information', $.proxy(this._onGetVideoInformationError, this));\r\n            this._videoUrlWidget.on(\r\n                'request_video_information',\r\n                $.proxy(this._onGetVideoInformationStartRequest, this)\r\n            );\r\n        },\r\n\r\n        /**\r\n         * Fired when user click on button \"Get video information\"\r\n         * @private\r\n         */\r\n        _onGetVideoInformationClick: function () {\r\n            var videoForm = this.element.find(this._videoFormSelector);\r\n\r\n            videoForm.validation();\r\n\r\n            if (this.element.find(this._videoUrlSelector).valid()) {\r\n                this._onlyVideoPlayer = false;\r\n                this._isEditPage = false;\r\n                this._videoUrlWidget.trigger('update_video_information');\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Fired when user do focus out from url field\r\n         * @private\r\n         */\r\n        _onGetVideoInformationFocusOut: function () {\r\n            this._videoUrlWidget.trigger('update_video_information');\r\n        },\r\n\r\n        /**\r\n         * @private\r\n         */\r\n        _onGetVideoInformationStartRequest: function () {\r\n            var videoForm = this.element.find(this._videoFormSelector);\r\n\r\n            try {\r\n                videoForm.validation('clearError');\r\n            } catch (e) {\r\n                // Do nothing\r\n            }\r\n\r\n            this._videoRequestComplete = false;\r\n        },\r\n\r\n        /**\r\n         * Fired when user click Edit Video button\r\n         * @private\r\n         */\r\n        _onGetVideoInformationEditClick: function () {\r\n            this._onlyVideoPlayer = true;\r\n            this._isEditPage = true;\r\n            this._videoUrlWidget.trigger('update_video_information');\r\n        },\r\n\r\n        /**\r\n         * Fired when successfully received information about the video.\r\n         * @param {Object} e\r\n         * @param {Object} data\r\n         * @private\r\n         */\r\n        _onGetVideoInformationSuccess: function (e, data) {\r\n            var self = this;\r\n\r\n            self.element.on('finish_update_video finish_create_video', $.proxy(function (element, playerData) {\r\n                if (!self._onlyVideoPlayer ||\r\n                    !self._isEditPage && playerData.oldVideoId !== playerData.newVideoId ||\r\n                    playerData.oldVideoId && playerData.oldVideoId !== playerData.newVideoId\r\n                ) {\r\n                    self.element.updateInputFields({\r\n                        reset: false,\r\n                        data: {\r\n                            title: data.title,\r\n                            description: data.description\r\n                        }\r\n                    });\r\n                    this._loadRemotePreview(data.thumbnail);\r\n                }\r\n                self._onlyVideoPlayer = true;\r\n            }, this))\r\n            .createVideoPlayer({\r\n                videoId: data.videoId,\r\n                videoProvider: data.videoProvider,\r\n                useYoutubeNocookie: data.useYoutubeNocookie,\r\n                reset: false,\r\n                metaData: {\r\n                    DOM: {\r\n                        title: '.video-information.title span',\r\n                        uploaded: '.video-information.uploaded span',\r\n                        uploader: '.video-information.uploader span',\r\n                        duration: '.video-information.duration span',\r\n                        all: '.video-information span',\r\n                        wrapper: '.video-information'\r\n                    },\r\n                    data: {\r\n                        title: data.title,\r\n                        uploaded: data.uploaded,\r\n                        uploader: data.channel,\r\n                        duration: data.duration,\r\n                        uploaderUrl: data.channelId\r\n                    }\r\n                }\r\n            })\r\n            .off('finish_update_video finish_create_video');\r\n\r\n            this._videoRequestComplete = true;\r\n        },\r\n\r\n        /**\r\n         * Load preview from youtube/vimeo\r\n         * @param {String} sourceUrl\r\n         * @private\r\n         */\r\n        _loadRemotePreview: function (sourceUrl) {\r\n            var url = this.options.saveRemoteVideoUrl,\r\n                self = this;\r\n\r\n            this._getPreviewImage().attr('src', sourceUrl).hide();\r\n            this._blockActionButtons(true, true);\r\n            $.ajax({\r\n                url: url,\r\n                data: 'remote_image=' + sourceUrl,\r\n                type: 'post',\r\n                success: $.proxy(function (result) {\r\n                    this._tempPreviewImageData = result;\r\n                    this._getPreviewImage().attr('src', sourceUrl).show();\r\n                    this._blockActionButtons(false, true);\r\n                }, self)\r\n            });\r\n        },\r\n\r\n        /**\r\n         * Fired when receiving information about the video ended with error\r\n         * @private\r\n         */\r\n        _onGetVideoInformationError: function () {\r\n        },\r\n\r\n        /**\r\n         * Remove \".tmp\"\r\n         * @param {String} name\r\n         * @returns {*}\r\n         * @private\r\n         */\r\n        __prepareFilename: function (name) {\r\n            var tmppost = '.tmp';\r\n\r\n            if (!name) {\r\n                return name;\r\n            }\r\n\r\n            if (name.endsWith(tmppost)) {\r\n                name = name.slice(0, name.length - tmppost.length);\r\n            }\r\n\r\n            return name;\r\n        },\r\n\r\n        /**\r\n         * Set image data\r\n         * @param {String} file\r\n         * @param {Object} imageData\r\n         * @private\r\n         */\r\n        _setImage: function (file, imageData) {\r\n            file = this.__prepareFilename(file);\r\n            this._images[file] = imageData;\r\n            this._gallery.trigger('addItem', imageData);\r\n            this.element.trigger('setImage', imageData);\r\n            this._addVideoClass(imageData.url);\r\n        },\r\n\r\n        /**\r\n         * Get image data\r\n         *\r\n         * @param {String} file\r\n         * @returns {*}\r\n         * @private\r\n         */\r\n        _getImage: function (file) {\r\n            file = this.__prepareFilename(file);\r\n\r\n            return this._images[file];\r\n        },\r\n\r\n        /**\r\n         * Replace image (update)\r\n         * @param {String} oldFile\r\n         * @param {String} newFile\r\n         * @param {Object} imageData\r\n         * @private\r\n         */\r\n        _replaceImage: function (oldFile, newFile, imageData) {\r\n            var tmpNewFile = newFile,\r\n                tmpOldImage,\r\n                newImageId,\r\n                oldNewFilePosition,\r\n                fc,\r\n                suff,\r\n                searchsuff,\r\n                key,\r\n                oldValIdElem;\r\n\r\n            oldFile = this.__prepareFilename(oldFile);\r\n            newFile = this.__prepareFilename(newFile);\r\n            tmpOldImage = this._images[oldFile];\r\n\r\n            if (newFile === oldFile) {\r\n                this._images[newFile] = imageData;\r\n                this.saveImageRoles(imageData);\r\n                this._updateVisibility(imageData);\r\n                this._updateImageTitle(imageData);\r\n\r\n                return null;\r\n            }\r\n\r\n            this._removeImage(oldFile);\r\n            this._setImage(newFile, imageData);\r\n\r\n            if (!oldFile || !imageData.oldFile) {\r\n                return null;\r\n            }\r\n\r\n            newImageId = this.findElementId(tmpNewFile);\r\n            fc = this.element.find(this._itemIdSelector).val();\r\n\r\n            suff = 'product[media_gallery][images]' + fc;\r\n\r\n            searchsuff = 'input[name=\"' + suff + '[value_id]\"]';\r\n            key = this._gallery.find(searchsuff).val();\r\n\r\n            if (!key) {\r\n                return null;\r\n            }\r\n\r\n            oldValIdElem = document.createElement('input');\r\n            this._gallery.find('form[data-form=\"edit-product\"]').append(oldValIdElem);\r\n            $(oldValIdElem).attr({\r\n                type: 'hidden',\r\n                name: 'product[media_gallery][images][' + newImageId + '][save_data_from]'\r\n            }).val(key);\r\n\r\n            oldNewFilePosition = parseInt(tmpOldImage.position, 10);\r\n            imageData.position = oldNewFilePosition;\r\n\r\n            this._gallery.trigger('setPosition', {\r\n                imageData: imageData,\r\n                position: oldNewFilePosition\r\n            });\r\n        },\r\n\r\n        /**\r\n         * Remove image data\r\n         * @param {String} file\r\n         * @private\r\n         */\r\n        _removeImage: function (file) {\r\n            var imageData = this._getImage(file);\r\n\r\n            if (!imageData) {\r\n                return null;\r\n            }\r\n\r\n            this._gallery.trigger('removeItem', imageData);\r\n            this.element.trigger('removeImage', imageData);\r\n            delete this._images[file];\r\n        },\r\n\r\n        /**\r\n         * Fired when image setted\r\n         * @param {Event} event\r\n         * @param {Object} imageData\r\n         * @private\r\n         */\r\n        _onSetImage: function (event, imageData) {\r\n            this.saveImageRoles(imageData);\r\n        },\r\n\r\n        /**\r\n         *\r\n         * Wrap _uploadFile\r\n         * @param {String} file\r\n         * @param {String} oldFile\r\n         * @param {Function} callback\r\n         * @private\r\n         */\r\n        _uploadImage: function (file, oldFile, callback) {\r\n            var url = this.options.saveVideoUrl,\r\n            data = {\r\n                files: file,\r\n                url: url\r\n            };\r\n\r\n            this._blockActionButtons(true, true);\r\n            this._uploadFile(data, $.proxy(function (result) {\r\n                this._onImageLoaded(result, file, oldFile, callback);\r\n                this._blockActionButtons(false);\r\n            }, this));\r\n\r\n        },\r\n\r\n        /**\r\n         * @param {String} result\r\n         * @param {String} file\r\n         * @param {String} oldFile\r\n         * @param {Function} callback\r\n         * @private\r\n         */\r\n        _onImageLoaded: function (result, file, oldFile, callback) {\r\n            var data;\r\n\r\n            try {\r\n                data = JSON.parse(result);\r\n            } catch (e) {\r\n                data = result;\r\n            }\r\n\r\n            if (this.element.find('#video_url').parent().find('.image-upload-error').length > 0) {\r\n                this.element.find('.image-upload-error').remove();\r\n            }\r\n\r\n            if (data.errorcode || data.error) {\r\n                this.element.find('#video_url').parent().append('<div class=\"image-upload-error\">' +\r\n                '<div class=\"image-upload-error-cross\"></div><span>' + data.error + '</span></div>');\r\n\r\n                return;\r\n            }\r\n            $.each(this.element.find(this._videoFormSelector).serializeArray(), function (i, field) {\r\n                data[field.name] = field.value;\r\n            });\r\n            data.disabled = this.element.find(this._videoDisableinputSelector).prop('checked') ? 1 : 0;\r\n            data['media_type'] = 'external-video';\r\n            data.oldFile = oldFile;\r\n\r\n            oldFile ?\r\n                this._replaceImage(oldFile, data.file, data) :\r\n                this._setImage(data.file, data);\r\n            callback.call(0, data);\r\n        },\r\n\r\n        /**\r\n         * File uploader\r\n         * @private\r\n         */\r\n        _uploadFile: function (data, callback) {\r\n            var fu = this.element.find(this._videoPreviewInputSelector),\r\n                tmpInput = document.createElement('input'),\r\n                fileUploader = null;\r\n\r\n            $(tmpInput).attr({\r\n                'name': fu.attr('name'),\r\n                'value': fu.val(),\r\n                'type': 'file',\r\n                'data-ui-ud': fu.attr('data-ui-ud')\r\n            }).css('display', 'none');\r\n            fu.parent().append(tmpInput);\r\n            fileUploader = $(tmpInput).fileupload();\r\n            fileUploader.fileupload('send', data).done(function (result, textStatus, jqXHR) {\r\n                tmpInput.remove();\r\n                callback.call(null, result, textStatus, jqXHR);\r\n            });\r\n        },\r\n\r\n        /**\r\n         * Update style\r\n         * @param {String} url\r\n         * @private\r\n         */\r\n        _addVideoClass: function (url) {\r\n            var classVideo = 'video-item';\r\n\r\n            this._gallery.find('img[src=\"' + url + '\"]').addClass(classVideo);\r\n        },\r\n\r\n        /**\r\n         * Build widget\r\n         * @private\r\n         */\r\n        _create: function () {\r\n            var imgs = _.values(this.element.closest(this.options.videoSelector).data('images')) || [],\r\n                widget,\r\n                uploader,\r\n                tmp,\r\n                i;\r\n\r\n            this._gallery =  this.element.closest(this.options.videoSelector);\r\n\r\n            for (i = 0; i < imgs.length; i++) {\r\n                tmp = imgs[i];\r\n                this._images[tmp.file] = tmp;\r\n\r\n                if (tmp['media_type'] === 'external-video') {\r\n                    tmp.subclass = 'video-item';\r\n                    this._addVideoClass(tmp.url);\r\n                }\r\n            }\r\n\r\n            this._gallery.on('openDialog', $.proxy(this._onOpenDialog, this));\r\n            this._bind();\r\n            this.createVideoItemIcons();\r\n            widget = this;\r\n            uploader = this.element.find(this._videoPreviewInputSelector);\r\n            uploader.on('change', this._onImageInputChange.bind(this));\r\n            uploader.attr('accept', this._imageTypes.join(','));\r\n\r\n            this.element.modal({\r\n                type: 'slide',\r\n                //appendTo: this._gallery,\r\n                modalClass: 'mage-new-video-dialog form-inline',\r\n                title: $.mage.__('New Video'),\r\n                buttons: [\r\n                {\r\n                    text: $.mage.__('Save'),\r\n                    class: 'action-primary video-create-button',\r\n                    click: $.proxy(widget._onCreate, widget)\r\n                },\r\n                {\r\n                    text: $.mage.__('Cancel'),\r\n                    class: 'video-cancel-button',\r\n                    click: $.proxy(widget._onCancel, widget)\r\n                },\r\n                {\r\n                    text: $.mage.__('Delete'),\r\n                    class: 'video-delete-button',\r\n                    click: $.proxy(widget._onDelete, widget)\r\n                },\r\n                {\r\n                    text: $.mage.__('Save'),\r\n                    class: 'action-primary video-edit',\r\n                    click: $.proxy(widget._onUpdate, widget)\r\n                }\r\n                ],\r\n\r\n                /**\r\n                 * @returns {null}\r\n                 */\r\n                opened: function () {\r\n                    var roles,\r\n                        file,\r\n                        modalTitleElement,\r\n                        imageData,\r\n                        modal = widget.element.closest('.mage-new-video-dialog');\r\n\r\n                    widget.element.find('#video_url').focus();\r\n                    roles = widget.element.find('.video_image_role');\r\n                    roles.prop('disabled', false);\r\n                    file = widget.element.find('#file_name').val();\r\n                    widget._onGetVideoInformationEditClick();\r\n                    modalTitleElement = modal.find('.modal-title');\r\n\r\n                    if (!file) {\r\n                        widget._blockActionButtons(true);\r\n\r\n                        modal.find('.video-delete-button').hide();\r\n                        modal.find('.video-edit').hide();\r\n                        modal.find('.video-create-button').show();\r\n                        roles.prop('checked', widget._gallery.find('.image.item:not(.removed)').length < 1);\r\n                        modalTitleElement.text($.mage.__('New Video'));\r\n                        widget._isEditPage = false;\r\n\r\n                        return null;\r\n                    }\r\n                    widget._blockActionButtons(false);\r\n                    modalTitleElement.text($.mage.__('Edit Video'));\r\n                    widget._isEditPage = true;\r\n                    imageData = widget._getImage(file);\r\n\r\n                    if (!imageData) {\r\n                        imageData = {\r\n                            url: _.find(widget._gallery.find('.product-image'), function (image) {\r\n                                return image.src.indexOf(file) > -1;\r\n                            }).src\r\n                        };\r\n                    }\r\n\r\n                    widget._onPreview(null, imageData.url, false);\r\n                },\r\n\r\n                /**\r\n                 * Closed\r\n                 */\r\n                closed: function () {\r\n                    widget._onClose();\r\n                    widget.createVideoItemIcons();\r\n                }\r\n            });\r\n            this.toggleButtons();\r\n        },\r\n\r\n        /**\r\n         * @param {String} status\r\n         * @private\r\n         */\r\n        _blockActionButtons: function (status) {\r\n            this.element\r\n                .closest('.mage-new-video-dialog')\r\n                .find('.page-actions-buttons button.video-create-button, .page-actions-buttons button.video-edit')\r\n                .attr('disabled', status);\r\n        },\r\n\r\n        /**\r\n         * Check form\r\n         * @param {Function} callback\r\n         */\r\n        isValid: function (callback) {\r\n            var videoForm = this.element.find(this._videoFormSelector),\r\n                videoLoaded = true;\r\n\r\n            this._blockActionButtons(true);\r\n\r\n            this._videoUrlWidget.trigger('validate_video_url', $.proxy(function () {\r\n\r\n                videoForm.mage('validation', {\r\n\r\n                    /**\r\n                     * @param {jQuery} error\r\n                     * @param {jQuery} element\r\n                     */\r\n                    errorPlacement: function (error, element) {\r\n                        error.insertAfter(element);\r\n                    }\r\n                }).on('highlight.validate', function () {\r\n                    $(this).validation('option');\r\n                });\r\n\r\n                videoForm.validation();\r\n\r\n                if (this._videoRequestComplete === false) {\r\n                    videoLoaded = false;\r\n                }\r\n\r\n                callback(videoForm.valid() && videoLoaded);\r\n            }, this));\r\n\r\n            this._blockActionButtons(false);\r\n        },\r\n\r\n        /**\r\n         * Create video item icons\r\n         */\r\n        createVideoItemIcons: function () {\r\n            var $imageWidget = this._gallery.find('.product-image.video-item'),\r\n                $productGalleryWrapper = $(this._imageProductGalleryWrapperSelector).find('.product-image.video-item');\r\n\r\n            $imageWidget.parent().addClass('video-item');\r\n            $productGalleryWrapper.parent().addClass('video-item');\r\n            $imageWidget.removeClass('video-item');\r\n            $productGalleryWrapper.removeClass('video-item');\r\n            $('.video-item .action-delete').attr('title', $.mage.__('Delete video'));\r\n            $('.video-item .action-delete span').html($.mage.__('Delete video'));\r\n        },\r\n\r\n        /**\r\n         * Fired when click on create video\r\n         * @private\r\n         */\r\n        _onCreate: function () {\r\n            var nvs = this.element.find(this._videoPreviewInputSelector),\r\n                file = nvs.get(0),\r\n                reqClass = 'required-entry _required';\r\n\r\n            if (file && file.files && file.files.length) {\r\n                file = file.files[0];\r\n            } else {\r\n                file = null;\r\n            }\r\n\r\n            if (!file && !this._tempPreviewImageData) {\r\n                nvs.addClass(reqClass);\r\n            }\r\n\r\n            this.isValid($.proxy(\r\n                function (videoValidStatus) {\r\n\r\n                    if (!videoValidStatus) {\r\n                        return;\r\n                    }\r\n\r\n                    if (this._tempPreviewImageData) {\r\n                        this._onImageLoaded(this._tempPreviewImageData, null, null, $.proxy(this.close, this));\r\n                    } else {\r\n                        this._uploadImage(file, null, $.proxy(function () {\r\n                            this.close();\r\n                        }, this));\r\n                    }\r\n\r\n                    nvs.removeClass(reqClass);\r\n                },\r\n                this\r\n            ));\r\n        },\r\n\r\n        /**\r\n         * Fired when click on update video\r\n         * @private\r\n         */\r\n        _onUpdate: function () {\r\n            var inputFile, itemId, _inputSelector, mediaFields, imageData, flagChecked, fileName, callback;\r\n\r\n            this.isValid($.proxy(\r\n                function (videoValidStatus) {\r\n\r\n                    if (!videoValidStatus) {\r\n                        return;\r\n                    }\r\n\r\n                    imageData = this.imageData || {};\r\n                    inputFile = this.element.find(this._videoPreviewInputSelector);\r\n                    itemId = this.element.find(this._itemIdSelector).val();\r\n                    itemId = itemId.slice(1, itemId.length - 1);\r\n                    _inputSelector = '[name*=\"[' + itemId + ']\"]';\r\n                    mediaFields = this._gallery.find('input' + _inputSelector);\r\n                    $.each(mediaFields, function (i, el) {\r\n                        var elName = el.name,\r\n                            start = elName.indexOf(itemId) + itemId.length + 2,\r\n                            fieldName = elName.substring(start, el.name.length - 1),\r\n                            _field = this.element.find('#' + fieldName),\r\n                            _tmp;\r\n\r\n                        if (_field.length > 0) {\r\n                            _tmp = _inputSelector.slice(0, _inputSelector.length - 2) + '[' + fieldName + ']\"]';\r\n                            this._gallery.find(_tmp).val(_field.val());\r\n                            imageData[fieldName] = _field.val();\r\n                        }\r\n                    }.bind(this));\r\n                    flagChecked = this.element.find(this._videoDisableinputSelector).prop('checked') ? 1 : 0;\r\n                    this._gallery.find('input[name*=\"' + itemId + '][disabled]\"]').val(flagChecked);\r\n                    this._gallery.find(_inputSelector).siblings('.image-fade').css(\r\n                        'visibility',\r\n                        flagChecked ? 'visible' : 'hidden'\r\n                    );\r\n                    imageData.disabled = flagChecked;\r\n\r\n                    if (this._tempPreviewImageData) {\r\n                        this._onImageLoaded(\r\n                            this._tempPreviewImageData,\r\n                            null,\r\n                            imageData.file,\r\n                            $.proxy(this.close, this)\r\n                        );\r\n\r\n                        return;\r\n                    }\r\n                    fileName = inputFile.get(0).files;\r\n\r\n                    if (!fileName || !fileName.length) {\r\n                        fileName = null;\r\n                    }\r\n                    inputFile.replaceWith(inputFile);\r\n\r\n                    callback = $.proxy(function () {\r\n                        this.close();\r\n                    }, this);\r\n\r\n                    if (fileName) {\r\n                        this._uploadImage(fileName, imageData.file, callback);\r\n                    } else {\r\n                        this._replaceImage(imageData.file, imageData.file, imageData);\r\n                        callback(0, imageData);\r\n                    }\r\n                },\r\n                this\r\n            ));\r\n        },\r\n\r\n        /**\r\n         * Delegates call to producwt gallery to update video visibility.\r\n         *\r\n         * @param {Object} imageData\r\n         */\r\n        _updateVisibility: function (imageData) {\r\n            this._gallery.trigger('updateVisibility', {\r\n                disabled: imageData.disabled,\r\n                imageData: imageData\r\n            });\r\n        },\r\n\r\n        /**\r\n         * Delegates call to product gallery to update video title.\r\n         *\r\n         * @param {Object} imageData\r\n         */\r\n        _updateImageTitle: function (imageData) {\r\n            this._gallery.trigger('updateImageTitle', {\r\n                imageData: imageData\r\n            });\r\n        },\r\n\r\n        /**\r\n         * Fired when clicked on cancel\r\n         * @private\r\n         */\r\n        _onCancel: function () {\r\n            this.close();\r\n        },\r\n\r\n        /**\r\n         * Fired when clicked on delete\r\n         * @private\r\n         */\r\n        _onDelete: function () {\r\n            var filename = this.element.find(this._videoImageFilenameselector).val();\r\n\r\n            this._removeImage(filename);\r\n            this.close();\r\n        },\r\n\r\n        /**\r\n         * @param {String} file\r\n         * @param {Function} callback\r\n         * @private\r\n         */\r\n        _readPreviewLocal: function (file, callback) {\r\n            var fr = new FileReader;\r\n\r\n            if (!window.FileReader) {\r\n                return;\r\n            }\r\n\r\n            /**\r\n             * On load end\r\n             */\r\n            fr.onloadend = function () {\r\n                callback(fr.result);\r\n            };\r\n            fr.readAsDataURL(file);\r\n        },\r\n\r\n        /**\r\n         *  Image file input handler\r\n         * @private\r\n         */\r\n        _onImageInputChange: function () {\r\n            var jFile = this.element.find(this._videoPreviewInputSelector),\r\n                file = jFile[0],\r\n                val = jFile.val(),\r\n                prev = this._getPreviewImage(),\r\n                ext = '.' + val.split('.').pop();\r\n\r\n            if (!val) {\r\n                return;\r\n            }\r\n            ext = ext ? ext.toLowerCase() : '';\r\n\r\n            if (\r\n                ext.length < 2 ||\r\n                this._imageTypes.indexOf(ext.toLowerCase()) === -1 || !file.files || !file.files.length\r\n            ) {\r\n                prev.remove();\r\n                this._previewImage = null;\r\n                jFile.val('');\r\n\r\n                return;\r\n            } // end if\r\n            file = file.files[0];\r\n            this._tempPreviewImageData = null;\r\n            this._onPreview(null, file, true);\r\n        },\r\n\r\n        /**\r\n         * Change Preview\r\n         * @param {String} error\r\n         * @param {String} src\r\n         * @param {Boolean} local\r\n         * @private\r\n         */\r\n        _onPreview: function (error, src, local) {\r\n            var img, renderImage;\r\n\r\n            img = this._getPreviewImage();\r\n\r\n            /**\r\n             * Callback\r\n             * @param {String} source\r\n             */\r\n            renderImage = function (source) {\r\n                img.attr({\r\n                    'src': source\r\n                }).show();\r\n            };\r\n\r\n            if (error) {\r\n                return;\r\n            }\r\n\r\n            if (!local) {\r\n                renderImage(src);\r\n            } else {\r\n                this._readPreviewLocal(src, renderImage);\r\n            }\r\n        },\r\n\r\n        /**\r\n         *\r\n         * Return preview image imstance\r\n         * @returns {null}\r\n         * @private\r\n         */\r\n        _getPreviewImage: function () {\r\n\r\n            if (!this._previewImage) {\r\n                this._previewImage = $(document.createElement('img')).css({\r\n                    'width': '100%',\r\n                    'display': 'none',\r\n                    'src': ''\r\n                });\r\n                $(this._previewImage).insertAfter(this.element.find(this._videoPreviewImagePointer));\r\n                $(this._previewImage).attr('data-role', 'video_preview_image');\r\n            }\r\n\r\n            return this._previewImage;\r\n        },\r\n\r\n        /**\r\n         * Close slideout dialog\r\n         */\r\n        close: function () {\r\n            this.element.modal('closeModal');\r\n        },\r\n\r\n        /**\r\n         * Close dialog wrap\r\n         * @private\r\n         */\r\n        _onClose: function () {\r\n            var newVideoForm;\r\n\r\n            this._isEditPage = true;\r\n            this.imageData = null;\r\n\r\n            if (this._previewImage) {\r\n                this._previewImage.remove();\r\n                this._previewImage = null;\r\n            }\r\n            this._tempPreviewImageData = null;\r\n            this.element.trigger('reset');\r\n            newVideoForm = this.element.find(this._videoFormSelector);\r\n\r\n            $(newVideoForm).find('input[type=\"hidden\"][name!=\"form_key\"]').val('');\r\n            this._gallery.find(\r\n                'input[name*=\"' + this.element.find(this._itemIdSelector).val() + '\"]'\r\n            ).parent().removeClass('active');\r\n\r\n            try {\r\n                newVideoForm.validation('clearError');\r\n            } catch (e) {\r\n\r\n            }\r\n            newVideoForm.trigger('reset');\r\n        },\r\n\r\n        /**\r\n         * Find element by fileName\r\n         * @param {String} file\r\n         */\r\n        findElementId: function (file) {\r\n            var elem = this._gallery.find('.image.item').find('input[value=\"' + file + '\"]');\r\n\r\n            if (!elem.length) {\r\n                return null;\r\n            }\r\n\r\n            return $(elem).attr('name').replace('product[media_gallery][images][', '').replace('][file]', '');\r\n        },\r\n\r\n        /**\r\n         * Save image roles\r\n         * @param {Object} imageData\r\n         */\r\n        saveImageRoles: function (imageData) {\r\n            var data = imageData.file,\r\n                self = this,\r\n                containers;\r\n\r\n            if (data && data.length > 0) {\r\n                containers = this._gallery.find('.image-placeholder').siblings('input');\r\n                $.each(containers, function (i, el) {\r\n                    var start = el.name.indexOf('[') + 1,\r\n                        end = el.name.indexOf(']'),\r\n                        imageType = el.name.substring(start, end),\r\n                        imageCheckbox = self.element.find(\r\n                            self._videoFormSelector + ' input[value=\"' + imageType + '\"]'\r\n                        );\r\n\r\n                    self._changeRole(imageType, imageCheckbox.prop('checked'), imageData);\r\n                });\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Change image role\r\n         * @param {String} imageType - role name\r\n         * @param {bool} isEnabled - role active status\r\n         * @param {Object} imageData - image data object\r\n         * @private\r\n         */\r\n        _changeRole: function (imageType, isEnabled, imageData) {\r\n            var needCheked = true;\r\n\r\n            if (!isEnabled) {\r\n                needCheked = this._gallery.find('input[name=\"product[' + imageType + ']\"]').val() === imageData.file;\r\n            }\r\n\r\n            if (!needCheked) {\r\n                return null;\r\n            }\r\n\r\n            this._gallery.trigger('setImageType', {\r\n                type: imageType,\r\n                imageData: isEnabled ? imageData : null\r\n            });\r\n        },\r\n\r\n        /**\r\n         * On open dialog\r\n         * @param {Object} e\r\n         * @param {Object} imageData\r\n         * @private\r\n         */\r\n        _onOpenDialog: function (e, imageData) {\r\n            var formFields, flagChecked, file,\r\n                modal = this.element.closest('.mage-new-video-dialog');\r\n\r\n            if (imageData['media_type'] === 'external-video') {\r\n                this.imageData = imageData;\r\n                modal.find('.video-create-button').hide();\r\n                modal.find('.video-delete-button').show();\r\n                modal.find('.video-edit').show();\r\n                modal.createVideoPlayer({\r\n                    reset: true\r\n                }).createVideoPlayer('reset');\r\n\r\n                formFields = modal.find(this._videoFormSelector).find('.edited-data');\r\n\r\n                $.each(formFields, function (i, field) {\r\n                    $(field).val(imageData[field.name]);\r\n                });\r\n\r\n                flagChecked = imageData.disabled > 0;\r\n                modal.find(this._videoDisableinputSelector).prop('checked', flagChecked);\r\n\r\n                file = modal.find('#file_name').val(imageData.file);\r\n\r\n                $.each(modal.find('.video_image_role'), function () {\r\n                    $(this).prop('checked', false).prop('disabled', false);\r\n                });\r\n\r\n                $.each(this._gallery.find('.image-placeholder').siblings('input:hidden'), function () {\r\n                    var start, end, imageRole;\r\n\r\n                    if ($(this).val() === file.val()) {\r\n                        start = this.name.indexOf('[') + 1;\r\n                        end = this.name.length - 1;\r\n                        imageRole = this.name.substring(start, end);\r\n                        modal.find('#new_video_form input[value=\"' + imageRole + '\"]').prop('checked', true);\r\n                    }\r\n                });\r\n            }\r\n\r\n        },\r\n\r\n        /**\r\n         * Toggle buttons\r\n         */\r\n        toggleButtons: function () {\r\n            var self = this,\r\n                modal = this.element.closest('.mage-new-video-dialog');\r\n\r\n            modal.find('.video-placeholder, .add-video-button-container > button').click(function () {\r\n                modal.find('.video-create-button').show();\r\n                modal.find('.video-delete-button').hide();\r\n                modal.find('.video-edit').hide();\r\n                modal.createVideoPlayer({\r\n                    reset: true\r\n                }).createVideoPlayer('reset').updateInputFields({\r\n                    reset: true\r\n                }).updateInputFields('reset');\r\n            });\r\n            this._gallery.on('click', '.item.video-item', function () {\r\n                modal.find('.video-create-button').hide();\r\n                modal.find('.video-delete-button').show();\r\n                modal.find('.video-edit').show();\r\n                modal.find('.mage-new-video-dialog').createVideoPlayer({\r\n                    reset: true\r\n                }).createVideoPlayer('reset');\r\n            });\r\n            this._gallery.on('click', '.item.video-item:not(.removed)', function () {\r\n                var flagChecked,\r\n                    file,\r\n                    formFields = modal.find('.edited-data'),\r\n                    container = $(this);\r\n\r\n                $.each(formFields, function (i, field) {\r\n                    $(field).val(container.find('input[name*=\"' + field.name + '\"]').val());\r\n                });\r\n\r\n                flagChecked = container.find('input[name*=\"disabled\"]').val() > 0;\r\n                self._gallery.find(self._videoDisableinputSelector).prop('checked', flagChecked);\r\n\r\n                file = self._gallery.find('#file_name').val(container.find('input[name*=\"file\"]').val());\r\n\r\n                $.each(self._gallery.find('.video_image_role'), function () {\r\n                    $(this).prop('checked', false).prop('disabled', false);\r\n                });\r\n\r\n                $.each(self._gallery.find('.image-placeholder').siblings('input:hidden'), function () {\r\n                    var start, end, imageRole;\r\n\r\n                    if ($(this).val() !== file.val()) {\r\n                        return null;\r\n                    }\r\n\r\n                    start = this.name.indexOf('[') + 1;\r\n                    end = this.name.length - 1;\r\n                    imageRole = this.name.substring(start, end);\r\n                    self._gallery.find('input[value=\"' + imageRole + '\"]').prop('checked', true);\r\n                });\r\n            });\r\n        }\r\n    });\r\n\r\n    $('#group-fields-image-management > legend > span').text($.mage.__('Images and Videos'));\r\n\r\n    return $.mage.newVideoDialog;\r\n});\r\n","Magento_ProductVideo/js/video-modal.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\ndefine([\r\n    'jquery',\r\n    'productGallery',\r\n    'jquery/ui',\r\n    'Magento_Ui/js/modal/modal',\r\n    'mage/translate',\r\n    'mage/backend/tree-suggest',\r\n    'mage/backend/validation',\r\n    'newVideoDialog'\r\n], function ($, productGallery) {\r\n    'use strict';\r\n\r\n    $.widget('mage.productGallery', productGallery, {\r\n\r\n        /**\r\n         * Bind events\r\n         * @private\r\n         */\r\n        _bind: function () {\r\n            var events = {},\r\n                itemId;\r\n\r\n            this._super();\r\n\r\n            /**\r\n             * Add item_id value to opened modal\r\n             * @param {Object} event\r\n             */\r\n            events['click ' + this.options.imageSelector] = function (event) {\r\n                if (!$(event.currentTarget).is('.ui-sortable-helper')) {\r\n                    itemId = $(event.currentTarget).find('input')[0].name.match(/\\[([^\\]]*)\\]/g)[2];\r\n                    this.videoDialog.find('#item_id').val(itemId);\r\n                }\r\n            };\r\n            this._on(events);\r\n            this.element.prev().find('[data-role=\"add-video-button\"]').on('click', this.showModal.bind(this));\r\n            this.element.on('openDialog', '.gallery.ui-sortable', $.proxy(this._onOpenDialog, this));\r\n        },\r\n\r\n        /**\r\n         * @private\r\n         */\r\n        _create: function () {\r\n            this._super();\r\n            this.videoDialog = this.element.find('#new-video');\r\n            this.videoDialog.mage('newVideoDialog', this.videoDialog.data('modalInfo'));\r\n        },\r\n\r\n        /**\r\n         * Open dialog for external video\r\n         * @private\r\n         */\r\n        _onOpenDialog: function (e, imageData) {\r\n\r\n            if (imageData['media_type'] !== 'external-video') {\r\n                this._superApply(arguments);\r\n            } else {\r\n                this.showModal();\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Fired on trigger \"openModal\"\r\n         */\r\n        showModal: function () {\r\n            this.videoDialog.modal('openModal');\r\n        }\r\n    });\r\n\r\n    return $.mage.productGallery;\r\n});\r\n","Magento_ReleaseNotification/js/modal/component.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\ndefine([\r\n    'jquery',\r\n    'Magento_Ui/js/modal/modal-component',\r\n    'Magento_Ui/js/modal/alert',\r\n    'mage/translate'\r\n], function ($, Modal, alert, $t) {\r\n    'use strict';\r\n\r\n    return Modal.extend({\r\n        defaults: {\r\n            imports: {\r\n                logAction:  '${ $.provider }:data.logAction'\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Error handler.\r\n         *\r\n         * @param {Object} xhr - request result.\r\n         */\r\n        onError: function (xhr) {\r\n            if (xhr.statusText === 'abort') {\r\n                return;\r\n            }\r\n\r\n            alert({\r\n                content: xhr.message || $t('An error occurred while logging process.')\r\n            });\r\n        },\r\n\r\n        /**\r\n         * Log release notes show\r\n         */\r\n        logReleaseNotesShow: function () {\r\n            var self = this,\r\n                data = {\r\n                    'form_key': window.FORM_KEY\r\n                };\r\n\r\n            $.ajax({\r\n                type: 'POST',\r\n                url: this.logAction,\r\n                data: data,\r\n                showLoader: true\r\n            }).done(function (xhr) {\r\n                if (xhr.error) {\r\n                    self.onError(xhr);\r\n                }\r\n            }).fail(this.onError);\r\n        },\r\n\r\n        /**\r\n         * Close release notes\r\n         */\r\n        closeReleaseNotes: function () {\r\n            this.logReleaseNotesShow();\r\n            this.closeModal();\r\n        }\r\n    });\r\n});\r\n","Magento_Review/js/rating.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\ndefine([\r\n    'jquery',\r\n    'jquery/ui'\r\n], function ($) {\r\n    'use strict';\r\n\r\n    $.widget('marketing.ratingControl', {\r\n        options: {\r\n            colorFilled: '#333',\r\n            colorUnfilled: '#CCCCCC',\r\n            colorHover: '#f30'\r\n        },\r\n\r\n        /** @inheritdoc */\r\n        _create: function () {\r\n            this._labels = this.element.find('label');\r\n            this._bind();\r\n        },\r\n\r\n        /**\r\n         * @private\r\n         */\r\n        _bind: function () {\r\n            this._labels.on({\r\n                click: $.proxy(function (e) {\r\n                    $(e.currentTarget).prev().prop('checked', true);\r\n                    this._updateRating();\r\n                }, this),\r\n\r\n                hover: $.proxy(function (e) {\r\n                    this._updateHover($(e.currentTarget), this.options.colorHover);\r\n                }, this),\r\n\r\n                mouseleave: $.proxy(function (e) {\r\n                    this._updateHover($(e.currentTarget), this.options.colorUnfilled);\r\n                }, this)\r\n            });\r\n\r\n            this._updateRating();\r\n        },\r\n\r\n        /**\r\n         * @param {jQuery} elem\r\n         * @param {String} color\r\n         * @private\r\n         */\r\n        _updateHover: function (elem, color) {\r\n            elem.nextAll('label').addBack().filter(function () {\r\n                return !$(this).data('checked');\r\n            }).css('color', color);\r\n        },\r\n\r\n        /**\r\n         * @private\r\n         */\r\n        _updateRating: function () {\r\n            var checkedInputs = this.element.find('input[type=\"radio\"]:checked');\r\n\r\n            checkedInputs.nextAll('label').addBack().css('color', this.options.colorFilled).data('checked', true);\r\n            checkedInputs.prevAll('label').css('color', this.options.colorUnfilled).data('checked', false);\r\n        },\r\n\r\n        /**\r\n         * Remove rating when form reset\r\n         */\r\n        removeRating: function () {\r\n            var checkedInputs = this.element.find('input[type=\"radio\"]');\r\n\r\n            checkedInputs.nextAll('label').css('color', this.options.colorUnfilled).data('checked', false);\r\n        }\r\n    });\r\n\r\n});\r\n","Magento_Rule/conditions-data-normalizer.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\ndefine([\r\n    'jquery',\r\n    'underscore'\r\n], function ($, _) {\r\n    'use strict';\r\n\r\n    /**\r\n     * @constructor\r\n     */\r\n    var ConditionsDataNormalizer = function () {\r\n        this.patterns = {\r\n            validate: /^[a-z0-9_.-][a-z0-9_.-]*(?:\\[(?:\\d*|[a-z0-9_.-]+)\\])*$/i,\r\n            key: /[a-z0-9_.-]+|(?=\\[\\])/gi,\r\n            push: /^$/,\r\n            fixed: /^\\d+$/,\r\n            named: /^[a-z0-9_.-]+$/i\r\n        };\r\n    };\r\n\r\n    ConditionsDataNormalizer.prototype = {\r\n        /**\r\n         * Will convert an object:\r\n         * {\r\n         *   \"foo[bar][1][baz]\": 123,\r\n         *   \"foo[bar][1][blah]\": 321\r\n         *   \"foo[bar][1--1][ah]\": 456\r\n         * }\r\n         *\r\n         * to\r\n         * {\r\n         *   \"foo\": {\r\n         *     \"bar\": {\r\n         *       \"1\": {\r\n         *         \"baz\": 123,\r\n         *         \"blah\": 321\r\n         *       },\r\n         *       \"1--1\": {\r\n         *         \"ah\": 456\r\n         *       }\r\n         *     }\r\n         *   }\r\n         * }\r\n         */\r\n        normalize: function normalize(value) {\r\n            var el, _this = this;\r\n\r\n            this.pushes = {};\r\n            this.data = {};\r\n\r\n            _.each(value, function (e, i) {\r\n                el = {};\r\n                el[i] = e;\r\n\r\n                _this._addPair({\r\n                    name: i,\r\n                    value: e\r\n                });\r\n            });\r\n\r\n            return this.data;\r\n        },\r\n\r\n        /**\r\n         * @param {Object} base\r\n         * @param {String} key\r\n         * @param {String} value\r\n         * @return {Object}\r\n         * @private\r\n         */\r\n        _build: function build(base, key, value) {\r\n            base[key] = value;\r\n\r\n            return base;\r\n        },\r\n\r\n        /**\r\n         * @param {Object} root\r\n         * @param {String} value\r\n         * @return {*}\r\n         * @private\r\n         */\r\n        _makeObject: function makeObject(root, value) {\r\n            var keys = root.match(this.patterns.key),\r\n                k, idx; // nest, nest, ..., nest\r\n\r\n            while ((k = keys.pop()) !== undefined) {\r\n                // foo[]\r\n                if (this.patterns.push.test(k)) {\r\n                    idx = this._incrementPush(root.replace(/\\[\\]$/, ''));\r\n                    value = this._build([], idx, value);\r\n                } // foo[n]\r\n                else if (this.patterns.fixed.test(k)) {\r\n                    value = this._build({}, k, value);\r\n                } // foo; foo[bar]\r\n                else if (this.patterns.named.test(k)) {\r\n                    value = this._build({}, k, value);\r\n                }\r\n            }\r\n\r\n            return value;\r\n        },\r\n\r\n        /**\r\n         * @param {String} key\r\n         * @return {Number}\r\n         * @private\r\n         */\r\n        _incrementPush: function incrementPush(key) {\r\n            if (this.pushes[key] === undefined) {\r\n                this.pushes[key] = 0;\r\n            }\r\n\r\n            return this.pushes[key]++;\r\n        },\r\n\r\n        /**\r\n         * @param {Object} pair\r\n         * @return {Object}\r\n         * @private\r\n         */\r\n        _addPair: function addPair(pair) {\r\n            var obj = this._makeObject(pair.name, pair.value);\r\n\r\n            if (!this.patterns.validate.test(pair.name)) {\r\n                return this;\r\n            }\r\n\r\n            this.data = $.extend(true, this.data, obj);\r\n\r\n            return this;\r\n        }\r\n    };\r\n\r\n    return ConditionsDataNormalizer;\r\n});\r\n","Magento_Rule/rules.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\n/**\r\n * @api\r\n */\r\n\r\ndefine([\r\n    'jquery',\r\n    'Magento_Ui/js/modal/alert',\r\n    'mage/translate',\r\n    'prototype'\r\n], function (jQuery) {\r\n    'use strict';\r\n\r\n    var VarienRulesForm = new Class.create();\r\n\r\n    VarienRulesForm.prototype = {\r\n        initialize: function (parent, newChildUrl) {\r\n            this.parent = $(parent);\r\n            this.newChildUrl  = newChildUrl;\r\n            this.shownElement = null;\r\n            this.updateElement = null;\r\n            this.chooserSelectedItems = $H({});\r\n            this.readOnly = false;\r\n\r\n            var elems = this.parent.getElementsByClassName('rule-param');\r\n\r\n            for (var i = 0; i < elems.length; i++) {\r\n                this.initParam(elems[i]);\r\n            }\r\n        },\r\n\r\n        setReadonly: function (readonly) {\r\n            this.readOnly = readonly;\r\n            var elems = this.parent.getElementsByClassName('rule-param-remove');\r\n\r\n            for (var i = 0; i < elems.length; i++) {\r\n                var element = elems[i];\r\n\r\n                if (this.readOnly) {\r\n                    element.hide();\r\n                } else {\r\n                    element.show();\r\n                }\r\n            }\r\n\r\n            var elems = this.parent.getElementsByClassName('rule-param-new-child');\r\n\r\n            for (var i = 0; i < elems.length; i++) {\r\n                var element = elems[i];\r\n\r\n                if (this.readOnly) {\r\n                    element.hide();\r\n                } else {\r\n                    element.show();\r\n                }\r\n            }\r\n\r\n            var elems = this.parent.getElementsByClassName('rule-param');\r\n\r\n            for (var i = 0; i < elems.length; i++) {\r\n                var container = elems[i];\r\n                var label = Element.down(container, '.label');\r\n\r\n                if (label) {\r\n                    if (this.readOnly) {\r\n                        label.addClassName('label-disabled');\r\n                    } else {\r\n                        label.removeClassName('label-disabled');\r\n                    }\r\n                }\r\n            }\r\n        },\r\n\r\n        initParam: function (container) {\r\n            container.rulesObject = this;\r\n            var label = Element.down(container, '.label');\r\n\r\n            if (label) {\r\n                Event.observe(label, 'click', this.showParamInputField.bind(this, container));\r\n            }\r\n\r\n            var elem = Element.down(container, '.element');\r\n\r\n            if (elem) {\r\n                var trig = elem.down('.rule-chooser-trigger');\r\n\r\n                if (trig) {\r\n                    Event.observe(trig, 'click', this.toggleChooser.bind(this, container));\r\n                }\r\n\r\n                var apply = elem.down('.rule-param-apply');\r\n\r\n                if (apply) {\r\n                    Event.observe(apply, 'click', this.hideParamInputField.bind(this, container));\r\n                } else {\r\n                    elem = elem.down('.element-value-changer');\r\n                    elem.container = container;\r\n\r\n                    if (!elem.multiple) {\r\n                        Event.observe(elem, 'change', this.hideParamInputField.bind(this, container));\r\n\r\n                        this.changeVisibilityForValueRuleParam(elem);\r\n\r\n                    }\r\n                    Event.observe(elem, 'blur', this.hideParamInputField.bind(this, container));\r\n                }\r\n            }\r\n\r\n            var remove = Element.down(container, '.rule-param-remove');\r\n\r\n            if (remove) {\r\n                Event.observe(remove, 'click', this.removeRuleEntry.bind(this, container));\r\n            }\r\n        },\r\n\r\n        showChooserElement: function (chooser) {\r\n            this.chooserSelectedItems = $H({});\r\n\r\n            if (chooser.hasClassName('no-split')) {\r\n                this.chooserSelectedItems.set(this.updateElement.value, 1);\r\n            } else {\r\n                var values = this.updateElement.value.split(','),\r\n s = '';\r\n\r\n                for (var i = 0; i < values.length; i++) {\r\n                    s = values[i].strip();\r\n\r\n                    if (s != '') {\r\n                        this.chooserSelectedItems.set(s, 1);\r\n                    }\r\n                }\r\n            }\r\n            new Ajax.Request(chooser.getAttribute('url'), {\r\n                evalScripts: true,\r\n                parameters: {\r\n                    'form_key': FORM_KEY, 'selected[]': this.chooserSelectedItems.keys()\r\n                },\r\n                onSuccess: function (transport) {\r\n                    if (this._processSuccess(transport)) {\r\n                        jQuery(chooser).html(transport.responseText);\r\n                        this.showChooserLoaded(chooser, transport);\r\n                        jQuery(chooser).trigger('contentUpdated');\r\n                    }\r\n                }.bind(this),\r\n                onFailure: this._processFailure.bind(this)\r\n            });\r\n        },\r\n\r\n        showChooserLoaded: function (chooser, transport) {\r\n            chooser.style.display = 'block';\r\n        },\r\n\r\n        showChooser: function (container, event) {\r\n            var chooser = container.up('li');\r\n\r\n            if (!chooser) {\r\n                return;\r\n            }\r\n            chooser = chooser.down('.rule-chooser');\r\n\r\n            if (!chooser) {\r\n                return;\r\n            }\r\n            this.showChooserElement(chooser);\r\n        },\r\n\r\n        hideChooser: function (container, event) {\r\n            var chooser = container.up('li');\r\n\r\n            if (!chooser) {\r\n                return;\r\n            }\r\n            chooser = chooser.down('.rule-chooser');\r\n\r\n            if (!chooser) {\r\n                return;\r\n            }\r\n            chooser.style.display = 'none';\r\n        },\r\n\r\n        toggleChooser: function (container, event) {\r\n            if (this.readOnly) {\r\n                return false;\r\n            }\r\n\r\n            var chooser = container.up('li').down('.rule-chooser');\r\n\r\n            if (!chooser) {\r\n                return;\r\n            }\r\n\r\n            if (chooser.style.display == 'block') {\r\n                chooser.style.display = 'none';\r\n                this.cleanChooser(container, event);\r\n            } else {\r\n                this.showChooserElement(chooser);\r\n            }\r\n        },\r\n\r\n        cleanChooser: function (container, event) {\r\n            var chooser = container.up('li').down('.rule-chooser');\r\n\r\n            if (!chooser) {\r\n                return;\r\n            }\r\n            chooser.innerHTML = '';\r\n        },\r\n\r\n        showParamInputField: function (container, event) {\r\n            if (this.readOnly) {\r\n                return false;\r\n            }\r\n\r\n            if (this.shownElement) {\r\n                this.hideParamInputField(this.shownElement, event);\r\n            }\r\n\r\n            Element.addClassName(container, 'rule-param-edit');\r\n            var elemContainer = Element.down(container, '.element');\r\n\r\n            var elem = Element.down(elemContainer, 'input.input-text');\r\n\r\n            jQuery(elem).trigger('contentUpdated');\r\n\r\n            if (elem) {\r\n                elem.focus();\r\n\r\n                if (elem && elem.id && elem.id.match(/__value$/)) {\r\n                    this.updateElement = elem;\r\n                }\r\n\r\n            }\r\n\r\n            var elem = Element.down(elemContainer, '.element-value-changer');\r\n\r\n            if (elem) {\r\n                elem.focus();\r\n            }\r\n\r\n            this.shownElement = container;\r\n        },\r\n\r\n        hideParamInputField: function (container, event) {\r\n            Element.removeClassName(container, 'rule-param-edit');\r\n            var label = Element.down(container, '.label'),\r\n elem;\r\n\r\n            if (!container.hasClassName('rule-param-new-child')) {\r\n                elem = Element.down(container, '.element-value-changer');\r\n\r\n                if (elem && elem.options) {\r\n                    var selectedOptions = [];\r\n\r\n                    for (var i = 0; i < elem.options.length; i++) {\r\n                        if (elem.options[i].selected) {\r\n                            selectedOptions.push(elem.options[i].text);\r\n                        }\r\n                    }\r\n\r\n                    var str = selectedOptions.join(', ');\r\n\r\n                    label.innerHTML = str != '' ? str : '...';\r\n                }\r\n\r\n                this.changeVisibilityForValueRuleParam(elem);\r\n\r\n                elem = Element.down(container, 'input.input-text');\r\n\r\n                if (elem) {\r\n                    var str = elem.value.replace(/(^\\s+|\\s+$)/g, '');\r\n\r\n                    elem.value = str;\r\n\r\n                    if (str == '') {\r\n                        str = '...';\r\n                    } else if (str.length > 30) {\r\n                        str = str.substr(0, 30) + '...';\r\n                    }\r\n                    label.innerHTML = str.escapeHTML();\r\n                }\r\n            } else {\r\n                elem = container.down('.element-value-changer');\r\n\r\n                if (elem.value) {\r\n                    this.addRuleNewChild(elem);\r\n                }\r\n                elem.value = '';\r\n            }\r\n\r\n            if (elem && elem.id && elem.id.match(/__value$/)) {\r\n                this.hideChooser(container, event);\r\n                this.updateElement = null;\r\n            }\r\n\r\n            this.shownElement = null;\r\n        },\r\n\r\n        changeVisibilityForValueRuleParam: function(elem) {\r\n            var parsedElementId = elem.id.split('__');\r\n            if (parsedElementId[2] !== 'operator') {\r\n                return false;\r\n            }\r\n\r\n            var valueElement = jQuery('#' + parsedElementId[0] + '__' + parsedElementId[1] + '__value');\r\n\r\n            if(elem.value === '<=>') {\r\n                valueElement.closest('.rule-param').hide();\r\n            } else {\r\n                valueElement.closest('.rule-param').show();\r\n            }\r\n\r\n            return true;\r\n        },\r\n\r\n        addRuleNewChild: function (elem) {\r\n            var parent_id = elem.id.replace(/^.*__(.*)__.*$/, '$1');\r\n            var children_ul_id = elem.id.replace(/__/g, ':').replace(/[^:]*$/, 'children').replace(/:/g, '__');\r\n            var children_ul = $(this.parent).select('#' + children_ul_id)[0];\r\n            var max_id = 0,\r\n i;\r\n            var children_inputs = Selector.findChildElements(children_ul, $A(['input.hidden']));\r\n\r\n            if (children_inputs.length) {\r\n                children_inputs.each(function (el) {\r\n                    if (el.id.match(/__type$/)) {\r\n                        i = 1 * el.id.replace(/^.*__.*?([0-9]+)__.*$/, '$1');\r\n                        max_id = i > max_id ? i : max_id;\r\n                    }\r\n                });\r\n            }\r\n            var new_id = parent_id + '--' + (max_id + 1);\r\n            var new_type = elem.value;\r\n            var new_elem = document.createElement('LI');\r\n\r\n            new_elem.className = 'rule-param-wait';\r\n            new_elem.innerHTML = jQuery.mage.__('This won\\'t take long . . .');\r\n            children_ul.insertBefore(new_elem, $(elem).up('li'));\r\n\r\n            new Ajax.Request(this.newChildUrl, {\r\n                evalScripts: true,\r\n                parameters: {\r\n                    form_key: FORM_KEY, type: new_type.replace('/', '-'), id: new_id\r\n                },\r\n                onComplete: this.onAddNewChildComplete.bind(this, new_elem),\r\n                onSuccess: function (transport) {\r\n                    if (this._processSuccess(transport)) {\r\n                        $(new_elem).update(transport.responseText);\r\n                    }\r\n                }.bind(this),\r\n                onFailure: this._processFailure.bind(this)\r\n            });\r\n        },\r\n\r\n        _processSuccess: function (transport) {\r\n            if (transport.responseText.isJSON()) {\r\n                var response = transport.responseText.evalJSON();\r\n\r\n                if (response.error) {\r\n                    alert(response.message);\r\n                }\r\n\r\n                if (response.ajaxExpired && response.ajaxRedirect) {\r\n                    setLocation(response.ajaxRedirect);\r\n                }\r\n\r\n                return false;\r\n            }\r\n\r\n            return true;\r\n        },\r\n\r\n        _processFailure: function (transport) {\r\n            location.href = BASE_URL;\r\n        },\r\n\r\n        onAddNewChildComplete: function (new_elem) {\r\n            if (this.readOnly) {\r\n                return false;\r\n            }\r\n\r\n            $(new_elem).removeClassName('rule-param-wait');\r\n            var elems = new_elem.getElementsByClassName('rule-param');\r\n\r\n            for (var i = 0; i < elems.length; i++) {\r\n                this.initParam(elems[i]);\r\n            }\r\n        },\r\n\r\n        removeRuleEntry: function (container, event) {\r\n            var li = Element.up(container, 'li');\r\n\r\n            li.parentNode.removeChild(li);\r\n        },\r\n\r\n        chooserGridInit: function (grid) {\r\n            //grid.reloadParams = {'selected[]':this.chooserSelectedItems.keys()};\r\n        },\r\n\r\n        chooserGridRowInit: function (grid, row) {\r\n            if (!grid.reloadParams) {\r\n                grid.reloadParams = {\r\n                    'selected[]': this.chooserSelectedItems.keys()\r\n                };\r\n            }\r\n        },\r\n\r\n        chooserGridRowClick: function (grid, event) {\r\n            var trElement = Event.findElement(event, 'tr');\r\n            var isInput = Event.element(event).tagName == 'INPUT';\r\n\r\n            if (trElement) {\r\n                var checkbox = Element.select(trElement, 'input');\r\n\r\n                if (checkbox[0]) {\r\n                    var checked = isInput ? checkbox[0].checked : !checkbox[0].checked;\r\n\r\n                    grid.setCheckboxChecked(checkbox[0], checked);\r\n\r\n                }\r\n            }\r\n        },\r\n\r\n        chooserGridCheckboxCheck: function (grid, element, checked) {\r\n            if (checked) {\r\n                if (!element.up('th')) {\r\n                    this.chooserSelectedItems.set(element.value, 1);\r\n                }\r\n            } else {\r\n                this.chooserSelectedItems.unset(element.value);\r\n            }\r\n            grid.reloadParams = {\r\n                'selected[]': this.chooserSelectedItems.keys()\r\n            };\r\n            this.updateElement.value = this.chooserSelectedItems.keys().join(', ');\r\n        }\r\n    };\r\n\r\n    return VarienRulesForm;\r\n});\r\n","Magento_Sales/js/bootstrap/order-create-index.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\nrequire([\r\n    'Magento_Sales/order/create/giftmessage'\r\n]);\r\n","Magento_Sales/js/bootstrap/order-post-action.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\nrequire([\r\n    'Magento_Sales/order/view/post-wrapper'\r\n]);\r\n","Magento_Sales/js/grid/columns/multiselect.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\ndefine([\r\n    'Magento_Ui/js/grid/columns/multiselect'\r\n], function (Multiselect) {\r\n    'use strict';\r\n\r\n    return Multiselect.extend({\r\n        /**\r\n         * Prevent calling this.selectAll(); in parent\r\n         *\r\n         * @returns  {Object}\r\n         */\r\n        updateState: function () {\r\n            var selected = this.selected().length,\r\n                totalRecords = this.totalRecords();\r\n\r\n            if (totalRecords && selected === totalRecords && !this.preserveSelectionsOnFilter) {\r\n                return this;\r\n            }\r\n            return this._super();\r\n        }\r\n    });\r\n});\r\n","Magento_Sales/order/giftoptions_tooltip.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\ndefine([\r\n    'prototype'\r\n], function () {\r\n    'use strict';\r\n\r\n    var GiftOptionsTooltip = Class.create();\r\n\r\n    GiftOptionsTooltip.prototype = {\r\n        _tooltipLines: [],\r\n        _tooltipWindow: null,\r\n        _tooltipWindowContent: null,\r\n        _targetLinks: [],\r\n        _eventMouseOver: null,\r\n        _eventMouseOut: null,\r\n        _styleOptions: null,\r\n        _tooltipContentLoaderFunction: null,\r\n\r\n        /**\r\n         * Initialize tooltip object\r\n         */\r\n        initialize: function () {\r\n            var options = Object.extend({\r\n                'delta_x': 30,\r\n                'delta_y': 0,\r\n                zindex: 1000\r\n            });\r\n\r\n            this._styleOptions = options;\r\n            this._eventMouseOver = this.showTooltip.bindAsEventListener(this);\r\n            this._eventMouseOut = this.hideTooltip.bindAsEventListener(this);\r\n        },\r\n\r\n        /**\r\n         * Set gift options tooltip window\r\n         *\r\n         * @param {String} windowId\r\n         * @param {String} contentId\r\n         *\r\n         * @return boolean success\r\n         */\r\n        setTooltipWindow: function (windowId, contentId) {\r\n            if (!$(windowId) || !$(contentId)) {\r\n                return false;\r\n            }\r\n            this._tooltipWindow = $(windowId);\r\n            this._tooltipWindowContent = $(contentId);\r\n            $(document.body).insert({\r\n                bottom: this._tooltipWindow\r\n            });\r\n            this.hideTooltip();\r\n\r\n            return true;\r\n        },\r\n\r\n        /**\r\n         * Add tooltip to specified link\r\n         *\r\n         * @param {String} linkId\r\n         * @param {String} itemId - identifier of the item related to link\r\n         *\r\n         * @return boolean success\r\n         */\r\n        addTargetLink: function (linkId, itemId) {\r\n            if ($(linkId)) {\r\n                this._targetLinks[linkId] = [];\r\n                this._targetLinks[linkId].object = $(linkId);\r\n                this._targetLinks[linkId].itemId = itemId;\r\n                this._registerEvents(this._targetLinks[linkId].object);\r\n\r\n                return true;\r\n            }\r\n\r\n            return false;\r\n        },\r\n\r\n        /**\r\n         * Detach event listeners from target links when tooltip is destroyed\r\n         */\r\n        destroy: function () {\r\n            var linkId;\r\n\r\n            for (linkId in this._targetLinks) { //eslint-disable-line guard-for-in\r\n                Event.stopObserving(this._targetLinks[linkId].object, 'mouseover', this._eventMouseOver);\r\n                Event.stopObserving(this._targetLinks[linkId].object, 'mouseout', this._eventMouseOut);\r\n            }\r\n        },\r\n\r\n        /**\r\n         *  Register event listeners\r\n         *\r\n         *  @param {HTMLElement} element\r\n         */\r\n        _registerEvents: function (element) {\r\n            Event.observe(element, 'mouseover', this._eventMouseOver);\r\n            Event.observe(element, 'mouseout', this._eventMouseOut);\r\n        },\r\n\r\n        /**\r\n         * Move tooltip to mouse position\r\n         *\r\n         * @param {Prototype.Event} event\r\n         */\r\n        _moveTooltip: function (event) {\r\n            var mouseX, mouseY;\r\n\r\n            Event.stop(event);\r\n            mouseX = Event.pointerX(event);\r\n            mouseY = Event.pointerY(event);\r\n\r\n            this.setStyles(mouseX, mouseY);\r\n        },\r\n\r\n        /**\r\n         * Show tooltip\r\n         *\r\n         * @param {Object} event\r\n         *\r\n         * @return boolean success\r\n         */\r\n        showTooltip: function (event) {\r\n            var link, itemId, tooltipContent;\r\n\r\n            Event.stop(event);\r\n\r\n            if (this._tooltipWindow) {\r\n                link = Event.element(event);\r\n                itemId = this._targetLinks[link.id].itemId;\r\n                tooltipContent = '';\r\n\r\n                if (Object.isFunction(this._tooltipContentLoaderFunction)) {\r\n                    tooltipContent = this._tooltipContentLoaderFunction(itemId);\r\n                }\r\n\r\n                if (tooltipContent != '') { //eslint-disable-line eqeqeq\r\n                    this._updateTooltipWindowContent(tooltipContent);\r\n                    this._moveTooltip(event);\r\n                    new Element.show(this._tooltipWindow);\r\n\r\n                    return true;\r\n                }\r\n            }\r\n\r\n            return false;\r\n        },\r\n\r\n        /**\r\n         * Set tooltip window styles\r\n         *\r\n         * @param {Number} x\r\n         * @param {Number} y\r\n         */\r\n        setStyles: function (x, y) {\r\n            Element.setStyle(this._tooltipWindow, {\r\n                position: 'absolute',\r\n                top: y + this._styleOptions['delta_y'] + 'px',\r\n                left: x + this._styleOptions['delta_x'] + 'px',\r\n                zindex: this._styleOptions.zindex\r\n            });\r\n        },\r\n\r\n        /**\r\n         * Hide tooltip\r\n         */\r\n        hideTooltip: function () {\r\n            if (this._tooltipWindow) {\r\n                new Element.hide(this._tooltipWindow);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Set gift options tooltip content loader function\r\n         * This function should accept at least one parameter that will serve as an item ID\r\n         *\r\n         * @param {Function} loaderFunction - loader function\r\n         */\r\n        setTooltipContentLoaderFunction: function (loaderFunction) {\r\n            this._tooltipContentLoaderFunction = loaderFunction;\r\n        },\r\n\r\n        /**\r\n         * Update tooltip window content\r\n         *\r\n         * @param {String} content\r\n         */\r\n        _updateTooltipWindowContent: function (content) {\r\n            this._tooltipWindowContent.update(content);\r\n        }\r\n    };\r\n\r\n    window.giftOptionsTooltip = new GiftOptionsTooltip();\r\n});\r\n","Magento_Sales/order/create/form.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\n/* global AdminOrder */\r\ndefine([\r\n    'jquery',\r\n    'Magento_Sales/order/create/scripts'\r\n], function (jQuery) {\r\n    'use strict';\r\n\r\n    var $el = jQuery('#edit_form'),\r\n        config,\r\n        baseUrl,\r\n        order,\r\n        payment;\r\n\r\n    if (!$el.length || !$el.data('order-config')) {\r\n        return;\r\n    }\r\n\r\n    config = $el.data('order-config');\r\n    baseUrl = $el.data('load-base-url');\r\n\r\n    order = new AdminOrder(config);\r\n    order.setLoadBaseUrl(baseUrl);\r\n\r\n    payment = {\r\n        switchMethod: order.switchPaymentMethod.bind(order)\r\n    };\r\n\r\n    window.order = order;\r\n    window.payment = payment;\r\n});\r\n","Magento_Sales/order/create/giftmessage.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n/********************* GIFT OPTIONS POPUP ***********************/\r\n/********************* GIFT OPTIONS SET ***********************/\r\n\r\ndefine([\r\n    'jquery',\r\n    'jquery/ui',\r\n    'mage/translate',\r\n    'mage/validation',\r\n    'prototype'\r\n], function (jQuery) {\r\n\r\n    window.giftMessagesController = {\r\n        toogleRequired: function (source, objects) {\r\n            if (!$(source).value.blank()) {\r\n                objects.each(function (item) {\r\n                    $(item).addClassName('required-entry');\r\n                    var label = findFieldLabel($(item));\r\n\r\n                    if (label) {\r\n                        var span = label.down('span');\r\n\r\n                        if (!span) {\r\n                            Element.insert(label, {\r\n                                bottom: '&nbsp;<span class=\"required\">*</span>'\r\n                            });\r\n                        }\r\n                    }\r\n                });\r\n            } else {\r\n                objects.each(function (item) {\r\n                    if ($(source).formObj && $(source).formObj.validator) {\r\n                        $(source).formObj.validator.reset(item);\r\n                    }\r\n                    $(item).removeClassName('required-entry');\r\n                    var label = findFieldLabel($(item));\r\n\r\n                    if (label) {\r\n                        var span = label.down('span');\r\n\r\n                        if (span) {\r\n                            Element.remove(span);\r\n                        }\r\n                    }\r\n                    // Hide validation advices if exist\r\n                    if ($(item) && $(item).advices) {\r\n                        $(item).advices.each(function (pair) {\r\n                            if (pair.value != null) pair.value.hide();\r\n                        });\r\n                    }\r\n                });\r\n            }\r\n        },\r\n        toogleGiftMessage: function (container) {\r\n            if (!$(container).toogleGiftMessage) {\r\n                $(container).toogleGiftMessage = true;\r\n                $(this.getFieldId(container, 'edit')).show();\r\n                $(container).down('.action-link').addClassName('open');\r\n                $(container).down('.default-text').hide();\r\n                $(container).down('.close-text').show();\r\n            } else {\r\n                $(container).toogleGiftMessage = false;\r\n                $(this.getFieldId(container, 'message')).formObj = $(this.getFieldId(container, 'form'));\r\n                var form = jQuery('#' + this.getFieldId(container, 'form'));\r\n\r\n                jQuery('#' + this.getFieldId(container, 'form')).validate({\r\n                    errorClass: 'mage-error'\r\n                });\r\n\r\n                if (!form.valid()) {\r\n                    return false;\r\n                }\r\n\r\n                new Ajax.Request($(this.getFieldId(container, 'form')).action, {\r\n                    parameters: Form.serialize($(this.getFieldId(container, 'form')), true),\r\n                    loaderArea: container,\r\n                    onComplete: function (transport) {\r\n\r\n                        $(container).down('.action-link').removeClassName('open');\r\n                        $(container).down('.default-text').show();\r\n                        $(container).down('.close-text').hide();\r\n                        $(this.getFieldId(container, 'edit')).hide();\r\n\r\n                        if (transport.responseText.match(/YES/g)) {\r\n                            $(container).down('.default-text').down('.edit').show();\r\n                            $(container).down('.default-text').down('.add').hide();\r\n                        } else {\r\n                            $(container).down('.default-text').down('.add').show();\r\n                            $(container).down('.default-text').down('.edit').hide();\r\n                        }\r\n\r\n                    }.bind(this)\r\n                });\r\n            }\r\n\r\n            return false;\r\n        },\r\n        saveGiftMessage: function (container) {\r\n            $(this.getFieldId(container, 'message')).formObj = $(this.getFieldId(container, 'form'));\r\n\r\n            var form = jQuery('#' + this.getFieldId(container, 'form'));\r\n\r\n            form.validate({\r\n                errorClass: 'mage-error'\r\n            });\r\n\r\n            if (!form.valid()) {\r\n                return;\r\n            }\r\n\r\n            new Ajax.Request($(this.getFieldId(container, 'form')).action, {\r\n                parameters: Form.serialize($(this.getFieldId(container, 'form')), true),\r\n                loaderArea: container,\r\n                onSuccess: function (response) {\r\n                    var message = '<div class=\"messages\"><div class=\"message message-success success\">' +\r\n                        response.responseText +\r\n                        '<div data-ui-id=\"messages-message-success\"></div></div></div>';\r\n\r\n                    jQuery('#messages').html(message);\r\n                    jQuery(document).scrollTop(0);\r\n                }\r\n            });\r\n        },\r\n        getFieldId: function (container, name) {\r\n            return container + '_' + name;\r\n        }\r\n    };\r\n\r\n    function findFieldLabel(field) {\r\n        var tdField = $(field).up('td');\r\n\r\n        if (tdField) {\r\n            var tdLabel = tdField.previous('td');\r\n\r\n            if (tdLabel) {\r\n                var label = tdLabel.down('label');\r\n\r\n                if (label) {\r\n                    return label;\r\n                }\r\n            }\r\n        }\r\n\r\n        return false;\r\n    }\r\n\r\n    window.findFieldLabel = findFieldLabel;\r\n\r\n    window.GiftOptionsPopup = Class.create();\r\n    GiftOptionsPopup.prototype = {\r\n        //giftOptionsWindowMask: null,\r\n        giftOptionsWindow: null,\r\n\r\n        initialize: function () {\r\n            $$('.action-link').each(function (el) {\r\n                Event.observe(el, 'click', this.showItemGiftOptions.bind(this));\r\n            }, this);\r\n\r\n            // Move gift options popup to start of body, because soon it will contain FORM tag that can break DOM layout if within other FORM\r\n            var oldPopupContainer = $('gift_options_configure');\r\n\r\n            if (oldPopupContainer) {\r\n                oldPopupContainer.remove();\r\n            }\r\n\r\n            var newPopupContainer = $('gift_options_configure_new');\r\n\r\n            $(document.body).insert({\r\n                top: newPopupContainer\r\n            });\r\n            newPopupContainer.id = 'gift_options_configure';\r\n\r\n            // Put controls container inside a FORM tag so we can use Validator\r\n            var form = new Element('form', {\r\n                action: '#', id: 'gift_options_configuration_form', method: 'post'\r\n            });\r\n            var formContents = $('gift_options_form_contents');\r\n\r\n            if (formContents) {\r\n                formContents.parentNode.appendChild(form);\r\n                form.appendChild(formContents);\r\n            }\r\n\r\n            this.giftOptionsWindow = $('gift_options_configure');\r\n\r\n            jQuery(this.giftOptionsWindow).dialog({\r\n                autoOpen:   false,\r\n                modal:      true,\r\n                resizable:  false,\r\n                dialogClass: 'gift-options-popup',\r\n                minWidth:   500,\r\n                width:      '75%',\r\n                position: {\r\n                    my: 'left+12.5% top',\r\n                    at: 'center top',\r\n                    of: 'body'\r\n                },\r\n                open: function () {\r\n                    jQuery(this).closest('.ui-dialog').addClass('ui-dialog-active');\r\n\r\n                    var topMargin = jQuery(this).closest('.ui-dialog').children('.ui-dialog-titlebar').outerHeight() + 30;\r\n\r\n                    jQuery(this).closest('.ui-dialog').css({\r\n                        'margin-top' : topMargin,\r\n                        'z-index': 1000\r\n                    });\r\n                    jQuery(this).closest('.ui-dialog').nextAll('.ui-widget-overlay').css('z-index', 999);\r\n                },\r\n                close: function () {\r\n                    jQuery(this).closest('.ui-dialog').removeClass('ui-dialog-active');\r\n                }\r\n            });\r\n        },\r\n\r\n        showItemGiftOptions: function (event) {\r\n            var element = Event.element(event).id;\r\n            var itemId = element.sub('gift_options_link_', '');\r\n\r\n            jQuery(this.giftOptionsWindow).dialog('open');\r\n\r\n            this.setTitle(itemId);\r\n\r\n            Event.observe($('gift_options_cancel_button'), 'click', this.onCloseButton.bind(this));\r\n            Event.observe($('gift_options_ok_button'), 'click', this.onOkButton.bind(this));\r\n            Event.stop(event);\r\n        },\r\n\r\n        setTitle: function (itemId) {\r\n            var productTitleElement = $('order_item_' + itemId + '_title');\r\n            var productTitle = '';\r\n\r\n            if (productTitleElement) {\r\n                productTitle = productTitleElement.innerHTML;\r\n            }\r\n            jQuery(this.giftOptionsWindow).dialog({\r\n                title: jQuery.mage.__('Gift Options for ') + productTitle\r\n            });\r\n        },\r\n\r\n        onOkButton: function () {\r\n            var giftOptionsForm = jQuery('#gift_options_configuration_form');\r\n\r\n            if (!giftOptionsForm.validate({\r\n                errorClass: 'mage-error'\r\n            }).valid()) {\r\n                return false;\r\n            }\r\n\r\n            if (typeof (giftOptionsForm[0].reset) === 'function') {\r\n                giftOptionsForm[0].reset();\r\n            }\r\n            this.closeWindow();\r\n\r\n            return true;\r\n        },\r\n\r\n        onCloseButton: function () {\r\n            this.closeWindow();\r\n        },\r\n\r\n        closeWindow: function () {\r\n            jQuery(this.giftOptionsWindow).dialog('close');\r\n        }\r\n    };\r\n\r\n    window.GiftMessageSet = Class.create();\r\n\r\n    GiftMessageSet.prototype = {\r\n        destPrefix: 'current_item_giftmessage_',\r\n        sourcePrefix: 'giftmessage_',\r\n        fields: ['sender', 'recipient', 'message'],\r\n        isObserved: false,\r\n        callback: null,\r\n\r\n        initialize: function () {\r\n            $$('.action-link').each(function (el) {\r\n                Event.observe(el, 'click', this.setData.bind(this));\r\n            }, this);\r\n        },\r\n\r\n        setData: function (event) {\r\n            var element = Event.element(event).id;\r\n\r\n            this.id = element.sub('gift_options_link_', '');\r\n\r\n            if ($('gift-message-form-data-' + this.id)) {\r\n                this.fields.each(function (el) {\r\n                    if ($(this.sourcePrefix + this.id + '_' + el) && $(this.destPrefix + el)) {\r\n                        $(this.destPrefix + el).value = $(this.sourcePrefix + this.id + '_' + el).value;\r\n                    }\r\n                }, this);\r\n                $('gift_options_giftmessage').show();\r\n            } else if ($('gift_options_giftmessage')) {\r\n                $('gift_options_giftmessage').hide();\r\n            }\r\n\r\n            if (!this.isObserved) {\r\n                Event.observe('gift_options_ok_button', 'click', this.saveData.bind(this));\r\n                this.isObserved = true;\r\n            }\r\n        },\r\n\r\n        prepareSaveData: function () {\r\n            var hash = $H();\r\n\r\n            $$('div[id^=gift_options_data_]').each(function (el) {\r\n                var fields = el.select('input', 'select', 'textarea');\r\n                var data = Form.serializeElements(fields, true);\r\n\r\n                hash.update(data);\r\n            });\r\n\r\n            return hash;\r\n        },\r\n\r\n        setSaveCallback: function (callback) {\r\n            if (typeof callback == 'function') {\r\n                this.callback = callback;\r\n            }\r\n        },\r\n\r\n        saveData: function (event) {\r\n            this.fields.each(function (el) {\r\n                if ($(this.sourcePrefix + this.id + '_' + el) && $(this.destPrefix + el)) {\r\n                    $(this.sourcePrefix + this.id + '_' + el).value = $(this.destPrefix + el).value;\r\n                }\r\n            }, this);\r\n\r\n            if ($(this.sourcePrefix + this.id + '_form')) {\r\n                $(this.sourcePrefix + this.id + '_form').request();\r\n            } else if (typeof order != 'undefined') {\r\n                var data = this.prepareSaveData();\r\n                var self = this;\r\n\r\n                jQuery.when(order.loadArea(['items'], true, data.toObject())).done(function () {\r\n                    if (self.callback !== null) {\r\n                        self.callback();\r\n                    }\r\n                });\r\n            }\r\n        }\r\n    };\r\n\r\n});\r\n","Magento_Sales/order/create/scripts.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\n define([\r\n    'jquery',\r\n    'Magento_Ui/js/modal/confirm',\r\n    'Magento_Ui/js/modal/alert',\r\n    'mage/template',\r\n    'text!Magento_Sales/templates/order/create/shipping/reload.html',\r\n    'text!Magento_Sales/templates/order/create/payment/reload.html',\r\n    'mage/translate',\r\n    'prototype',\r\n    'Magento_Catalog/catalog/product/composite/configure',\r\n    'Magento_Ui/js/lib/view/utils/async'\r\n], function (jQuery, confirm, alert, template, shippingTemplate, paymentTemplate) {\r\n\r\n    window.AdminOrder = new Class.create();\r\n\r\n    AdminOrder.prototype = {\r\n        initialize: function (data) {\r\n            if (!data) data = {};\r\n            this.loadBaseUrl = false;\r\n            this.customerId = data.customer_id ? data.customer_id : false;\r\n            this.storeId = data.store_id ? data.store_id : false;\r\n            this.quoteId = data['quote_id'] ? data['quote_id'] : false;\r\n            this.currencyId = false;\r\n            this.currencySymbol = data.currency_symbol ? data.currency_symbol : '';\r\n            this.addresses = data.addresses ? data.addresses : $H({});\r\n            this.shippingAsBilling = data.shippingAsBilling ? data.shippingAsBilling : false;\r\n            this.gridProducts = $H({});\r\n            this.gridProductsGift = $H({});\r\n            this.billingAddressContainer = '';\r\n            this.shippingAddressContainer = '';\r\n            this.isShippingMethodReseted = data.shipping_method_reseted ? data.shipping_method_reseted : false;\r\n            this.overlayData = $H({});\r\n            this.giftMessageDataChanged = false;\r\n            this.productConfigureAddFields = {};\r\n            this.productPriceBase = {};\r\n            this.collectElementsValue = true;\r\n            this.isOnlyVirtualProduct = false;\r\n            this.excludedPaymentMethods = [];\r\n            this.summarizePrice = true;\r\n            this.selectAddressEvent = false;\r\n            this.shippingTemplate = template(shippingTemplate, {\r\n                data: {\r\n                    title: jQuery.mage.__('Shipping Method'),\r\n                    linkText: jQuery.mage.__('Get shipping methods and rates')\r\n                }\r\n            });\r\n            this.paymentTemplate = template(paymentTemplate, {\r\n                data: {\r\n                    title: jQuery.mage.__('Payment Method'),\r\n                    linkText: jQuery.mage.__('Get available payment methods')\r\n                }\r\n            });\r\n\r\n            jQuery.async('#order-items', (function () {\r\n                this.dataArea = new OrderFormArea('data', $(this.getAreaId('data')), this);\r\n                this.itemsArea = Object.extend(new OrderFormArea('items', $(this.getAreaId('items')), this), {\r\n                    addControlButton: function (button) {\r\n                        var controlButtonArea = $(this.node).select('.actions')[0];\r\n                        if (typeof controlButtonArea != 'undefined') {\r\n                            var buttons = controlButtonArea.childElements();\r\n                            for (var i = 0; i < buttons.length; i++) {\r\n                                if (buttons[i].innerHTML.include(button.getLabel())) {\r\n                                    return;\r\n                                }\r\n                            }\r\n                            button.insertIn(controlButtonArea, 'top');\r\n                        }\r\n                    }\r\n                });\r\n\r\n                var searchButtonId = 'add_products',\r\n                    searchButton = new ControlButton(jQuery.mage.__('Add Products'), searchButtonId),\r\n                    searchAreaId = this.getAreaId('search');\r\n                searchButton.onClick = function () {\r\n                    $(searchAreaId).show();\r\n                    var el = this;\r\n                    window.setTimeout(function () {\r\n                        el.remove();\r\n                    }, 10);\r\n                };\r\n\r\n                jQuery.async('#order-items .admin__page-section-title', (function () {\r\n                    this.dataArea.onLoad = this.dataArea.onLoad.wrap(function (proceed) {\r\n                        proceed();\r\n                        this._parent.itemsArea.setNode($(this._parent.getAreaId('items')));\r\n                        this._parent.itemsArea.onLoad();\r\n                    });\r\n\r\n                    this.itemsArea.onLoad = this.itemsArea.onLoad.wrap(function (proceed) {\r\n                        proceed();\r\n                        if ($(searchAreaId) && !jQuery('#' + searchAreaId).is(':visible') && !$(searchButtonId)) {\r\n                            this.addControlButton(searchButton);\r\n                        }\r\n                    });\r\n                    this.areasLoaded();\r\n                    this.itemsArea.onLoad();\r\n\r\n                }).bind(this));\r\n\r\n            }).bind(this));\r\n\r\n            jQuery('#edit_form')\r\n                .on('submitOrder', function () {\r\n                    jQuery(this).trigger('realOrder');\r\n                })\r\n                .on('realOrder', this._realSubmit.bind(this));\r\n        },\r\n\r\n        areasLoaded: function () {\r\n        },\r\n\r\n        itemsLoaded: function () {\r\n        },\r\n\r\n        dataLoaded: function () {\r\n            this.dataShow();\r\n        },\r\n\r\n        setLoadBaseUrl: function (url) {\r\n            this.loadBaseUrl = url;\r\n        },\r\n\r\n        setAddresses: function (addresses) {\r\n            this.addresses = addresses;\r\n        },\r\n\r\n        addExcludedPaymentMethod: function (method) {\r\n            this.excludedPaymentMethods.push(method);\r\n        },\r\n\r\n        setCustomerId: function (id) {\r\n            this.customerId = id;\r\n            this.loadArea('header', true);\r\n            $(this.getAreaId('header')).callback = 'setCustomerAfter';\r\n            $('back_order_top_button').hide();\r\n            $('reset_order_top_button').show();\r\n        },\r\n\r\n        setCustomerAfter: function () {\r\n            this.customerSelectorHide();\r\n            if (this.storeId) {\r\n                $(this.getAreaId('data')).callback = 'dataLoaded';\r\n                this.loadArea(['data'], true);\r\n            } else {\r\n                this.storeSelectorShow();\r\n            }\r\n        },\r\n\r\n        setStoreId: function (id) {\r\n            this.storeId = id;\r\n            this.storeSelectorHide();\r\n            this.sidebarShow();\r\n            //this.loadArea(['header', 'sidebar','data'], true);\r\n            this.dataShow();\r\n            this.loadArea(['header', 'data'], true);\r\n            location.reload();\r\n        },\r\n\r\n        setCurrencyId: function (id) {\r\n            this.currencyId = id;\r\n            //this.loadArea(['sidebar', 'data'], true);\r\n            this.loadArea(['data'], true);\r\n        },\r\n\r\n        setCurrencySymbol: function (symbol) {\r\n            this.currencySymbol = symbol;\r\n        },\r\n\r\n        selectAddress: function (el, container) {\r\n            var id = el.value;\r\n            if (id.length == 0) {\r\n                id = '0';\r\n            }\r\n\r\n            this.selectAddressEvent = true;\r\n            if (this.addresses[id]) {\r\n                this.fillAddressFields(container, this.addresses[id]);\r\n            } else {\r\n                this.fillAddressFields(container, {});\r\n            }\r\n            this.selectAddressEvent = false;\r\n\r\n            var data = this.serializeData(container);\r\n            data[el.name] = id;\r\n\r\n            this.resetPaymentMethod();\r\n            if (this.isShippingField(container) && !this.isShippingMethodReseted) {\r\n                this.resetShippingMethod(data);\r\n            } else {\r\n                this.saveData(data);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Checks if the field belongs to the shipping address.\r\n         *\r\n         * @param {String} fieldId\r\n         * @return {Boolean}\r\n         */\r\n        isShippingField: function (fieldId) {\r\n            if (this.shippingAsBilling) {\r\n                return fieldId.include('billing');\r\n            }\r\n\r\n            return fieldId.include('shipping');\r\n        },\r\n\r\n        /**\r\n         * Checks if the field belongs to the billing address.\r\n         *\r\n         * @param {String} fieldId\r\n         * @return {Boolean}\r\n         */\r\n        isBillingField: function (fieldId) {\r\n            return fieldId.include('billing');\r\n        },\r\n\r\n        /**\r\n         * Binds events on container form fields.\r\n         *\r\n         * @param {String} container\r\n         */\r\n        bindAddressFields: function (container) {\r\n            var fields = $(container).select('input', 'select', 'textarea'),\r\n                i;\r\n\r\n            for (i = 0; i < fields.length; i++) {\r\n                jQuery(fields[i]).change(this.changeAddressField.bind(this));\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Triggers on each form's element changes.\r\n         *\r\n         * @param {Event} event\r\n         */\r\n        changeAddressField: function (event) {\r\n            var field = Event.element(event),\r\n                re = /[^\\[]*\\[([^\\]]*)_address\\]\\[([^\\]]*)\\](\\[(\\d)\\])?/,\r\n                matchRes = field.name.match(re),\r\n                type,\r\n                name,\r\n                data,\r\n                resetShipping = false;\r\n\r\n            if (!matchRes) {\r\n                return;\r\n            }\r\n\r\n            type = matchRes[1];\r\n            name = matchRes[2];\r\n\r\n            if (this.isBillingField(field.id)) {\r\n                data = this.serializeData(this.billingAddressContainer);\r\n            } else {\r\n                data = this.serializeData(this.shippingAddressContainer);\r\n            }\r\n            data = data.toObject();\r\n\r\n            if (type === 'billing' && this.shippingAsBilling) {\r\n                this.syncAddressField(this.shippingAddressContainer, field.name, field);\r\n                resetShipping = true;\r\n            }\r\n\r\n            if (type === 'shipping' && !this.shippingAsBilling) {\r\n                resetShipping = true;\r\n            }\r\n\r\n            if (resetShipping) {\r\n                data['reset_shipping'] = true;\r\n            }\r\n\r\n            if (name !== 'customer_address_id' && this.selectAddressEvent === false) {\r\n                if (this.shippingAsBilling) {\r\n                    $('order-shipping_address_customer_address_id').value = '';\r\n                }\r\n\r\n                $('order-' + type + '_address_customer_address_id').value = '';\r\n            }\r\n\r\n            data['order[' + type + '_address][customer_address_id]'] = null;\r\n            data['shipping_as_billing'] = +this.shippingAsBilling;\r\n\r\n            if (name === 'customer_address_id') {\r\n                data['order[' + type + '_address][customer_address_id]'] =\r\n                    $('order-' + type + '_address_customer_address_id').value;\r\n            }\r\n\r\n            if (name === 'country_id' && this.selectAddressEvent === false) {\r\n                $('order-' + type + '_address_customer_address_id').value = '';\r\n            }\r\n\r\n            this.resetPaymentMethod();\r\n\r\n            if (data['reset_shipping']) {\r\n                this.resetShippingMethod();\r\n            } else {\r\n                this.saveData(data);\r\n\r\n                if (name === 'country_id' || name === 'customer_address_id') {\r\n                    this.loadArea(['shipping_method', 'billing_method', 'totals', 'items'], true, data);\r\n                }\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Set address container form field value.\r\n         *\r\n         * @param {String} container - container ID\r\n         * @param {String} fieldName - form field name\r\n         * @param {*} fieldValue - form field value\r\n         */\r\n        syncAddressField: function (container, fieldName, fieldValue) {\r\n            var syncName;\r\n\r\n            if (this.isBillingField(fieldName)) {\r\n                syncName = fieldName.replace('billing', 'shipping');\r\n            }\r\n\r\n            $(container).select('[name=\"' + syncName + '\"]').each(function (element) {\r\n                if (~['input', 'textarea', 'select'].indexOf(element.tagName.toLowerCase())) {\r\n                    if (element.type === \"checkbox\") {\r\n                        element.checked = fieldValue.checked;\r\n                    } else {\r\n                        element.value = fieldValue.value;\r\n                    }\r\n                }\r\n            });\r\n        },\r\n\r\n        fillAddressFields: function (container, data) {\r\n            var regionIdElem = false;\r\n            var regionIdElemValue = false;\r\n\r\n            var fields = $(container).select('input', 'select', 'textarea');\r\n            var re = /[^\\[]*\\[[^\\]]*\\]\\[([^\\]]*)\\](\\[(\\d)\\])?/;\r\n            for (var i = 0; i < fields.length; i++) {\r\n                // skip input type file @Security error code: 1000\r\n                if (fields[i].tagName.toLowerCase() == 'input' && fields[i].type.toLowerCase() == 'file') {\r\n                    continue;\r\n                }\r\n                var matchRes = fields[i].name.match(re);\r\n                if (matchRes === null) {\r\n                    continue;\r\n                }\r\n                var name = matchRes[1];\r\n                var index = matchRes[3];\r\n\r\n                if (index) {\r\n                    // multiply line\r\n                    if (data[name]) {\r\n                        var values = data[name].split(\"\\n\");\r\n                        fields[i].value = values[index] ? values[index] : '';\r\n                    } else {\r\n                        fields[i].value = '';\r\n                    }\r\n                } else if (fields[i].tagName.toLowerCase() == 'select' && fields[i].multiple) {\r\n                    // multiselect\r\n                    if (data[name]) {\r\n                        values = [''];\r\n                        if (Object.isString(data[name])) {\r\n                            values = data[name].split(',');\r\n                        } else if (Object.isArray(data[name])) {\r\n                            values = data[name];\r\n                        }\r\n                        fields[i].setValue(values);\r\n                    }\r\n                } else {\r\n                    fields[i].setValue(data[name] ? data[name] : '');\r\n                }\r\n\r\n                if (fields[i].changeUpdater) {\r\n                    fields[i].changeUpdater();\r\n                }\r\n\r\n                if (name == 'region' && data['region_id'] && !data['region']) {\r\n                    fields[i].value = data['region_id'];\r\n                }\r\n\r\n                jQuery(fields[i]).trigger('change');\r\n            }\r\n        },\r\n\r\n        disableShippingAddress: function (flag) {\r\n            this.shippingAsBilling = flag;\r\n            if ($('order-shipping_address_customer_address_id')) {\r\n                $('order-shipping_address_customer_address_id').disabled = flag;\r\n            }\r\n            if ($(this.shippingAddressContainer)) {\r\n                var dataFields = $(this.shippingAddressContainer).select('input', 'select', 'textarea');\r\n                for (var i = 0; i < dataFields.length; i++) {\r\n                    dataFields[i].disabled = flag;\r\n\r\n                    if (this.isOnlyVirtualProduct) {\r\n                        dataFields[i].setValue('');\r\n                    }\r\n                }\r\n                var buttons = $(this.shippingAddressContainer).select('button');\r\n                // Add corresponding class to buttons while disabling them\r\n                for (i = 0; i < buttons.length; i++) {\r\n                    buttons[i].disabled = flag;\r\n                    if (flag) {\r\n                        buttons[i].addClassName('disabled');\r\n                    } else {\r\n                        buttons[i].removeClassName('disabled');\r\n                    }\r\n                }\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Equals shipping and billing addresses.\r\n         *\r\n         * @param {Boolean} flag\r\n         */\r\n        setShippingAsBilling: function (flag) {\r\n            var data,\r\n                areasToLoad = ['billing_method', 'shipping_address', 'shipping_method', 'totals', 'giftmessage'];\r\n\r\n            this.disableShippingAddress(flag);\r\n            data = this.serializeData(flag ? this.billingAddressContainer : this.shippingAddressContainer);\r\n            data = data.toObject();\r\n            data['shipping_as_billing'] = flag ? 1 : 0;\r\n            data['reset_shipping'] = 1;\r\n            // set customer_address_id to null for shipping address in order to treat it as new from backend\r\n            // Checkbox(Same As Billing Address) uncheck event\r\n            data['order[shipping_address][customer_address_id]'] = null;\r\n            this.loadArea(areasToLoad, true, data);\r\n        },\r\n\r\n        /**\r\n         * Replace shipping method area.\r\n         */\r\n        resetShippingMethod: function () {\r\n            if (!this.isOnlyVirtualProduct) {\r\n                $(this.getAreaId('shipping_method')).update(this.shippingTemplate);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Replace payment method area.\r\n         */\r\n        resetPaymentMethod: function () {\r\n            $(this.getAreaId('billing_method')).update(this.paymentTemplate);\r\n        },\r\n\r\n        /**\r\n         * Loads shipping options according to address data.\r\n         *\r\n         * @return {Boolean}\r\n         */\r\n        loadShippingRates: function () {\r\n            var addressContainer = this.shippingAsBilling ?\r\n                'billingAddressContainer' :\r\n                'shippingAddressContainer',\r\n                data = this.serializeData(this[addressContainer]).toObject();\r\n\r\n            data['collect_shipping_rates'] = 1;\r\n            this.isShippingMethodReseted = false;\r\n            this.loadArea(['shipping_method', 'totals'], true, data);\r\n\r\n            return false;\r\n        },\r\n\r\n        setShippingMethod: function (method) {\r\n            var data = {};\r\n\r\n            data['order[shipping_method]'] = method;\r\n            this.loadArea([\r\n                'shipping_method',\r\n                'totals',\r\n                'billing_method'\r\n            ], true, data);\r\n        },\r\n\r\n        /**\r\n         * Updates available payment\r\n         * methods list according to order data.\r\n         *\r\n         * @return boolean\r\n         */\r\n        loadPaymentMethods: function () {\r\n            var data = this.serializeData(this.billingAddressContainer).toObject();\r\n\r\n            this.loadArea(['billing_method', 'totals'], true, data);\r\n\r\n            return false;\r\n        },\r\n\r\n        switchPaymentMethod: function(method){\r\n            if (this.paymentMethod !== method) {\r\n                jQuery('#edit_form')\r\n                    .off('submitOrder')\r\n                    .on('submitOrder', function(){\r\n                        jQuery(this).trigger('realOrder');\r\n                    });\r\n            }\r\n            jQuery('#edit_form').trigger('changePaymentMethod', [method]);\r\n            this.setPaymentMethod(method);\r\n            var data = {};\r\n            data['order[payment_method]'] = method;\r\n            this.loadArea(['card_validation'], true, data);\r\n        },\r\n\r\n        setPaymentMethod: function (method) {\r\n            if (this.paymentMethod && $('payment_form_' + this.paymentMethod)) {\r\n                var form = 'payment_form_' + this.paymentMethod;\r\n                [form + '_before', form, form + '_after'].each(function (el) {\r\n                    var block = $(el);\r\n                    if (block) {\r\n                        block.hide();\r\n                        block.select('input', 'select', 'textarea').each(function (field) {\r\n                            field.disabled = true;\r\n                        });\r\n                    }\r\n                });\r\n            }\r\n\r\n            if (!this.paymentMethod || method) {\r\n                $('order-billing_method_form').select('input', 'select', 'textarea').each(function (elem) {\r\n                    if (elem.type != 'radio') elem.disabled = true;\r\n                })\r\n            }\r\n\r\n            if ($('payment_form_' + method)) {\r\n                jQuery('#' + this.getAreaId('billing_method')).trigger('contentUpdated');\r\n                this.paymentMethod = method;\r\n                var form = 'payment_form_' + method;\r\n                [form + '_before', form, form + '_after'].each(function (el) {\r\n                    var block = $(el);\r\n                    if (block) {\r\n                        block.show();\r\n                        block.select('input', 'select', 'textarea').each(function (field) {\r\n                            field.disabled = false;\r\n                            if (!el.include('_before') && !el.include('_after') && !field.bindChange) {\r\n                                field.bindChange = true;\r\n                                field.paymentContainer = form;\r\n                                field.method = method;\r\n                                field.observe('change', this.changePaymentData.bind(this))\r\n                            }\r\n                        }, this);\r\n                    }\r\n                }, this);\r\n            }\r\n        },\r\n\r\n        changePaymentData: function (event) {\r\n            var elem = Event.element(event);\r\n            if (elem && elem.method) {\r\n                var data = this.getPaymentData(elem.method);\r\n                if (data) {\r\n                    this.loadArea(['card_validation'], true, data);\r\n                } else {\r\n                    return;\r\n                }\r\n            }\r\n        },\r\n\r\n        getPaymentData: function (currentMethod) {\r\n            if (typeof (currentMethod) == 'undefined') {\r\n                if (this.paymentMethod) {\r\n                    currentMethod = this.paymentMethod;\r\n                } else {\r\n                    return false;\r\n                }\r\n            }\r\n            if (this.isPaymentValidationAvailable() == false) {\r\n                return false;\r\n            }\r\n            var data = {};\r\n            var fields = $('payment_form_' + currentMethod).select('input', 'select');\r\n            for (var i = 0; i < fields.length; i++) {\r\n                data[fields[i].name] = fields[i].getValue();\r\n            }\r\n            if ((typeof data['payment[cc_type]']) != 'undefined' && (!data['payment[cc_type]'] || !data['payment[cc_number]'])) {\r\n                return false;\r\n            }\r\n            return data;\r\n        },\r\n\r\n        applyCoupon: function (code) {\r\n            this.loadArea(['items', 'shipping_method', 'totals', 'billing_method'], true, {\r\n                'order[coupon][code]': code,\r\n                reset_shipping: true\r\n            });\r\n            this.orderItemChanged = false;\r\n            jQuery('html, body').animate({\r\n                scrollTop: 0\r\n            });\r\n        },\r\n\r\n        addProduct: function (id) {\r\n            this.loadArea(['items', 'shipping_method', 'totals', 'billing_method'], true, {\r\n                add_product: id,\r\n                reset_shipping: true\r\n            });\r\n        },\r\n\r\n        removeQuoteItem: function (id) {\r\n            this.loadArea(['items', 'shipping_method', 'totals', 'billing_method'], true,\r\n                {remove_item: id, from: 'quote', reset_shipping: true});\r\n        },\r\n\r\n        moveQuoteItem: function (id, to) {\r\n            this.loadArea(['sidebar_' + to, 'items', 'shipping_method', 'totals', 'billing_method'], this.getAreaId('items'),\r\n                {move_item: id, to: to, reset_shipping: true});\r\n        },\r\n\r\n        productGridShow: function (buttonElement) {\r\n            this.productGridShowButton = buttonElement;\r\n            Element.hide(buttonElement);\r\n            this.showArea('search');\r\n        },\r\n\r\n        productGridRowInit: function (grid, row) {\r\n            var checkbox = $(row).select('.checkbox')[0];\r\n            var inputs = $(row).select('.input-text');\r\n            if (checkbox && inputs.length > 0) {\r\n                checkbox.inputElements = inputs;\r\n                for (var i = 0; i < inputs.length; i++) {\r\n                    var input = inputs[i];\r\n                    input.checkboxElement = checkbox;\r\n\r\n                    var product = this.gridProducts.get(checkbox.value);\r\n                    if (product) {\r\n                        var defaultValue = product[input.name];\r\n                        if (defaultValue) {\r\n                            if (input.name == 'giftmessage') {\r\n                                input.checked = true;\r\n                            } else {\r\n                                input.value = defaultValue;\r\n                            }\r\n                        }\r\n                    }\r\n\r\n                    input.disabled = !checkbox.checked || input.hasClassName('input-inactive');\r\n\r\n                    Event.observe(input, 'keyup', this.productGridRowInputChange.bind(this));\r\n                    Event.observe(input, 'change', this.productGridRowInputChange.bind(this));\r\n                }\r\n            }\r\n        },\r\n\r\n        productGridRowInputChange: function (event) {\r\n            var element = Event.element(event);\r\n            if (element && element.checkboxElement && element.checkboxElement.checked) {\r\n                if (element.name != 'giftmessage' || element.checked) {\r\n                    this.gridProducts.get(element.checkboxElement.value)[element.name] = element.value;\r\n                } else if (element.name == 'giftmessage' && this.gridProducts.get(element.checkboxElement.value)[element.name]) {\r\n                    delete (this.gridProducts.get(element.checkboxElement.value)[element.name]);\r\n                }\r\n            }\r\n        },\r\n\r\n        productGridRowClick: function (grid, event) {\r\n            var trElement = Event.findElement(event, 'tr');\r\n            var qtyElement = trElement.select('input[name=\"qty\"]')[0];\r\n            var eventElement = Event.element(event);\r\n\r\n            if (eventElement.tagName === 'LABEL'\r\n                && trElement.querySelector('#' + eventElement.htmlFor)\r\n                && trElement.querySelector('#' + eventElement.htmlFor).type === 'checkbox'\r\n            ) {\r\n                event.stopPropagation();\r\n                trElement.querySelector('#' + eventElement.htmlFor).trigger('click');\r\n                return;\r\n            }\r\n\r\n            var isInputCheckbox = (eventElement.tagName === 'INPUT' && eventElement.type === 'checkbox');\r\n            var isInputQty = grid.targetElement && grid.targetElement.tagName === 'INPUT' && grid.targetElement.name === 'qty';\r\n            if (trElement && !isInputQty) {\r\n                var checkbox = Element.select(trElement, 'input[type=\"checkbox\"]')[0];\r\n                var confLink = Element.select(trElement, 'a')[0];\r\n                var priceColl = Element.select(trElement, '.price')[0];\r\n                if (checkbox) {\r\n                    // processing non composite product\r\n                    if (confLink.readAttribute('disabled')) {\r\n                        var checked = isInputCheckbox ? checkbox.checked : !checkbox.checked;\r\n                        grid.setCheckboxChecked(checkbox, checked);\r\n                        // processing composite product\r\n                    } else if (isInputCheckbox && !checkbox.checked) {\r\n                        grid.setCheckboxChecked(checkbox, false);\r\n                        // processing composite product\r\n                    } else if (!isInputCheckbox || (isInputCheckbox && checkbox.checked)) {\r\n                        var listType = confLink.readAttribute('list_type');\r\n                        var productId = confLink.readAttribute('product_id');\r\n                        if (typeof this.productPriceBase[productId] == 'undefined') {\r\n                            var priceBase = priceColl.innerHTML.match(/.*?([\\d,]+\\.?\\d*)/);\r\n                            if (!priceBase) {\r\n                                this.productPriceBase[productId] = 0;\r\n                            } else {\r\n                                this.productPriceBase[productId] = parseFloat(priceBase[1].replace(/,/g, ''));\r\n                            }\r\n                        }\r\n                        productConfigure.setConfirmCallback(listType, function () {\r\n                            // sync qty of popup and qty of grid\r\n                            var confirmedCurrentQty = productConfigure.getCurrentConfirmedQtyElement();\r\n                            if (qtyElement && confirmedCurrentQty && !isNaN(confirmedCurrentQty.value)) {\r\n                                qtyElement.value = confirmedCurrentQty.value;\r\n                            }\r\n                            // calc and set product price\r\n                            var productPrice = this._calcProductPrice();\r\n                            if (this._isSummarizePrice()) {\r\n                                productPrice += this.productPriceBase[productId];\r\n                            }\r\n                            productPrice = parseFloat(Math.round(productPrice + \"e+2\") + \"e-2\");\r\n                            priceColl.innerHTML = this.currencySymbol + productPrice.toFixed(2);\r\n                            // and set checkbox checked\r\n                            grid.setCheckboxChecked(checkbox, true);\r\n                        }.bind(this));\r\n                        productConfigure.setCancelCallback(listType, function () {\r\n                            if (!$(productConfigure.confirmedCurrentId) || !$(productConfigure.confirmedCurrentId).innerHTML) {\r\n                                grid.setCheckboxChecked(checkbox, false);\r\n                            }\r\n                        });\r\n                        productConfigure.setShowWindowCallback(listType, function () {\r\n                            // sync qty of grid and qty of popup\r\n                            var formCurrentQty = productConfigure.getCurrentFormQtyElement();\r\n                            if (formCurrentQty && qtyElement && !isNaN(qtyElement.value)) {\r\n                                formCurrentQty.value = qtyElement.value;\r\n                            }\r\n                        }.bind(this));\r\n                        productConfigure.showItemConfiguration(listType, productId);\r\n                    }\r\n                }\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Is need to summarize price\r\n         */\r\n        _isSummarizePrice: function (elm) {\r\n            if (elm && elm.hasAttribute('summarizePrice')) {\r\n                this.summarizePrice = parseInt(elm.readAttribute('summarizePrice'));\r\n            }\r\n            return this.summarizePrice;\r\n        },\r\n        /**\r\n         * Calc product price through its options\r\n         */\r\n        _calcProductPrice: function () {\r\n            var productPrice = 0;\r\n            var getPriceFields = function (elms) {\r\n                var productPrice = 0;\r\n                var getPrice = function (elm) {\r\n                    var optQty = 1;\r\n                    if (elm.hasAttribute('qtyId')) {\r\n                        if (!$(elm.getAttribute('qtyId')).value) {\r\n                            return 0;\r\n                        } else {\r\n                            optQty = parseFloat($(elm.getAttribute('qtyId')).value);\r\n                        }\r\n                    }\r\n                    if (elm.hasAttribute('price') && !elm.disabled) {\r\n                        return parseFloat(elm.readAttribute('price')) * optQty;\r\n                    }\r\n                    return 0;\r\n                };\r\n                for (var i = 0; i < elms.length; i++) {\r\n                    if (elms[i].type == 'select-one' || elms[i].type == 'select-multiple') {\r\n                        for (var ii = 0; ii < elms[i].options.length; ii++) {\r\n                            if (elms[i].options[ii].selected) {\r\n                                if (this._isSummarizePrice(elms[i].options[ii])) {\r\n                                    productPrice += getPrice(elms[i].options[ii]);\r\n                                } else {\r\n                                    productPrice = getPrice(elms[i].options[ii]);\r\n                                }\r\n                            }\r\n                        }\r\n                    } else if (((elms[i].type == 'checkbox' || elms[i].type == 'radio') && elms[i].checked)\r\n                        || ((elms[i].type == 'file' || elms[i].type == 'text' || elms[i].type == 'textarea' || elms[i].type == 'hidden')\r\n                            && Form.Element.getValue(elms[i]))\r\n                    ) {\r\n                        if (this._isSummarizePrice(elms[i])) {\r\n                            productPrice += getPrice(elms[i]);\r\n                        } else {\r\n                            productPrice = getPrice(elms[i]);\r\n                        }\r\n                    }\r\n                }\r\n                return productPrice;\r\n            }.bind(this);\r\n            productPrice += getPriceFields($(productConfigure.confirmedCurrentId).getElementsByTagName('input'));\r\n            productPrice += getPriceFields($(productConfigure.confirmedCurrentId).getElementsByTagName('select'));\r\n            productPrice += getPriceFields($(productConfigure.confirmedCurrentId).getElementsByTagName('textarea'));\r\n            return productPrice;\r\n        },\r\n\r\n        productGridCheckboxCheck: function (grid, element, checked) {\r\n            if (checked) {\r\n                if (element.inputElements) {\r\n                    this.gridProducts.set(element.value, {});\r\n                    var product = this.gridProducts.get(element.value);\r\n                    for (var i = 0; i < element.inputElements.length; i++) {\r\n                        var input = element.inputElements[i];\r\n                        if (!input.hasClassName('input-inactive')) {\r\n                            input.disabled = false;\r\n                            if (input.name == 'qty' && !input.value) {\r\n                                input.value = 1;\r\n                            }\r\n                        }\r\n\r\n                        if (input.checked || input.name != 'giftmessage') {\r\n                            product[input.name] = input.value;\r\n                        } else if (product[input.name]) {\r\n                            delete (product[input.name]);\r\n                        }\r\n                    }\r\n                }\r\n            } else {\r\n                if (element.inputElements) {\r\n                    for (var i = 0; i < element.inputElements.length; i++) {\r\n                        element.inputElements[i].disabled = true;\r\n                    }\r\n                }\r\n                this.gridProducts.unset(element.value);\r\n            }\r\n            grid.reloadParams = {'products[]': this.gridProducts.keys()};\r\n        },\r\n\r\n        productGridFilterKeyPress: function (grid, event) {\r\n            var returnKey = parseInt(Event.KEY_RETURN || 13, 10);\r\n\r\n            if (event.keyCode === returnKey) {\r\n                if (typeof event.stopPropagation === 'function') {\r\n                    event.stopPropagation();\r\n                }\r\n\r\n                if (typeof event.preventDefault === 'function') {\r\n                    event.preventDefault();\r\n                }\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Submit configured products to quote\r\n         */\r\n        productGridAddSelected: function () {\r\n            if (this.productGridShowButton) Element.show(this.productGridShowButton);\r\n            var area = ['search', 'items', 'shipping_method', 'totals', 'giftmessage', 'billing_method'];\r\n            // prepare additional fields and filtered items of products\r\n            var fieldsPrepare = {};\r\n            var itemsFilter = [];\r\n            var products = this.gridProducts.toObject();\r\n            for (var productId in products) {\r\n                itemsFilter.push(productId);\r\n                var paramKey = 'item[' + productId + ']';\r\n                for (var productParamKey in products[productId]) {\r\n                    paramKey += '[' + productParamKey + ']';\r\n                    fieldsPrepare[paramKey] = products[productId][productParamKey];\r\n                }\r\n            }\r\n            this.productConfigureSubmit('product_to_add', area, fieldsPrepare, itemsFilter);\r\n            productConfigure.clean('quote_items');\r\n            this.hideArea('search');\r\n            this.gridProducts = $H({});\r\n        },\r\n\r\n        selectCustomer: function (grid, event) {\r\n            var element = Event.findElement(event, 'tr');\r\n            if (element.title) {\r\n                this.setCustomerId(element.title);\r\n            }\r\n        },\r\n\r\n        customerSelectorHide: function () {\r\n            this.hideArea('customer-selector');\r\n        },\r\n\r\n        customerSelectorShow: function () {\r\n            this.showArea('customer-selector');\r\n        },\r\n\r\n        storeSelectorHide: function () {\r\n            this.hideArea('store-selector');\r\n        },\r\n\r\n        storeSelectorShow: function () {\r\n            this.showArea('store-selector');\r\n        },\r\n\r\n        dataHide: function () {\r\n            this.hideArea('data');\r\n        },\r\n\r\n        dataShow: function () {\r\n            if ($('submit_order_top_button')) {\r\n                $('submit_order_top_button').show();\r\n            }\r\n            this.showArea('data');\r\n        },\r\n\r\n        clearShoppingCart: function (confirmMessage) {\r\n            var self = this;\r\n\r\n            confirm({\r\n                content: confirmMessage,\r\n                actions: {\r\n                    confirm: function () {\r\n                        self.collectElementsValue = false;\r\n                        order.sidebarApplyChanges({'sidebar[empty_customer_cart]': 1});\r\n                        self.collectElementsValue = true;\r\n                    }\r\n                }\r\n            });\r\n        },\r\n\r\n        sidebarApplyChanges: function (auxiliaryParams) {\r\n            if ($(this.getAreaId('sidebar'))) {\r\n                var data = {};\r\n                if (this.collectElementsValue) {\r\n                    var elems = $(this.getAreaId('sidebar')).select('input');\r\n                    for (var i = 0; i < elems.length; i++) {\r\n                        if (elems[i].getValue()) {\r\n                            data[elems[i].name] = elems[i].getValue();\r\n                        }\r\n                    }\r\n                }\r\n                if (auxiliaryParams instanceof Object) {\r\n                    for (var paramName in auxiliaryParams) {\r\n                        data[paramName] = String(auxiliaryParams[paramName]);\r\n                    }\r\n                }\r\n                data.reset_shipping = true;\r\n                this.loadArea(['sidebar', 'items', 'shipping_method', 'billing_method', 'totals', 'giftmessage'], true, data);\r\n            }\r\n        },\r\n\r\n        sidebarHide: function () {\r\n            if (this.storeId === false && $('page:left') && $('page:container')) {\r\n                $('page:left').hide();\r\n                $('page:container').removeClassName('container');\r\n                $('page:container').addClassName('container-collapsed');\r\n            }\r\n        },\r\n\r\n        sidebarShow: function () {\r\n            if ($('page:left') && $('page:container')) {\r\n                $('page:left').show();\r\n                $('page:container').removeClassName('container-collapsed');\r\n                $('page:container').addClassName('container');\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Show configuration of product and add handlers on submit form\r\n         *\r\n         * @param productId\r\n         */\r\n        sidebarConfigureProduct: function (listType, productId, itemId) {\r\n            // create additional fields\r\n            var params = {},\r\n                isWishlist = !!itemId;\r\n            params.reset_shipping = true;\r\n            params.add_product = productId;\r\n            this.prepareParams(params);\r\n            for (var i in params) {\r\n                if (params[i] === null) {\r\n                    unset(params[i]);\r\n                } else if (typeof (params[i]) == 'boolean') {\r\n                    params[i] = params[i] ? 1 : 0;\r\n                }\r\n            }\r\n            var fields = [];\r\n            for (var name in params) {\r\n                fields.push(new Element('input', {type: 'hidden', name: name, value: params[name]}));\r\n            }\r\n            // add additional fields before triggered submit\r\n            productConfigure.setBeforeSubmitCallback(listType, function () {\r\n                productConfigure.addFields(fields);\r\n            }.bind(this));\r\n            // response handler\r\n            productConfigure.setOnLoadIFrameCallback(listType, function (response) {\r\n                var areas = ['items', 'shipping_method', 'billing_method', 'totals', 'giftmessage'];\r\n\r\n                if (!response.ok) {\r\n                    return;\r\n                }\r\n                if (isWishlist) {\r\n                    this.removeSidebarItem(itemId, 'wishlist').done(function () {\r\n                        this.loadArea(areas, true);\r\n                    }.bind(this));\r\n                } else {\r\n                    this.loadArea(areas, true);\r\n                }\r\n            }.bind(this));\r\n            // show item configuration\r\n            itemId = itemId ? itemId : productId;\r\n            productConfigure.showItemConfiguration(listType, itemId);\r\n            return false;\r\n        },\r\n\r\n        removeSidebarItem: function (id, from) {\r\n            return this.loadArea(['sidebar_' + from], 'sidebar_data_' + from, {\r\n                remove_item: id,\r\n                from: from\r\n            });\r\n        },\r\n\r\n        itemsUpdate: function () {\r\n            var area = ['sidebar', 'items', 'shipping_method', 'billing_method', 'totals', 'giftmessage'];\r\n            // prepare additional fields\r\n            var fieldsPrepare = {update_items: 1};\r\n            var info = $('order-items_grid').select('input', 'select', 'textarea');\r\n            for (var i = 0; i < info.length; i++) {\r\n                if (!info[i].disabled && (info[i].type != 'checkbox' || info[i].checked)) {\r\n                    fieldsPrepare[info[i].name] = info[i].getValue();\r\n                }\r\n            }\r\n            fieldsPrepare = Object.extend(fieldsPrepare, this.productConfigureAddFields);\r\n            this.productConfigureSubmit('quote_items', area, fieldsPrepare);\r\n            this.orderItemChanged = false;\r\n        },\r\n\r\n        itemsOnchangeBind: function () {\r\n            var elems = $('order-items_grid').select('input', 'select', 'textarea');\r\n            for (var i = 0; i < elems.length; i++) {\r\n                if (!elems[i].bindOnchange) {\r\n                    elems[i].bindOnchange = true;\r\n                    elems[i].observe('change', this.itemChange.bind(this))\r\n                }\r\n            }\r\n        },\r\n\r\n        itemChange: function (event) {\r\n            this.giftmessageOnItemChange(event);\r\n            this.orderItemChanged = true;\r\n        },\r\n\r\n        /**\r\n         * Submit batch of configured products\r\n         *\r\n         * @param listType\r\n         * @param area\r\n         * @param fieldsPrepare\r\n         * @param itemsFilter\r\n         */\r\n        productConfigureSubmit: function (listType, area, fieldsPrepare, itemsFilter) {\r\n            // prepare loading areas and build url\r\n            area = this.prepareArea(area);\r\n            this.loadingAreas = area;\r\n            var url = this.loadBaseUrl + 'block/' + area + '?isAjax=true';\r\n\r\n            // prepare additional fields\r\n            fieldsPrepare = this.prepareParams(fieldsPrepare);\r\n            fieldsPrepare.reset_shipping = 1;\r\n            fieldsPrepare.json = 1;\r\n\r\n            // create fields\r\n            var fields = [];\r\n            for (var name in fieldsPrepare) {\r\n                fields.push(new Element('input', {type: 'hidden', name: name, value: fieldsPrepare[name]}));\r\n            }\r\n            productConfigure.addFields(fields);\r\n\r\n            // filter items\r\n            if (itemsFilter) {\r\n                productConfigure.addItemsFilter(listType, itemsFilter);\r\n            }\r\n\r\n            // prepare and do submit\r\n            productConfigure.addListType(listType, {urlSubmit: url});\r\n            productConfigure.setOnLoadIFrameCallback(listType, function (response) {\r\n                this.loadAreaResponseHandler(response);\r\n            }.bind(this));\r\n            productConfigure.submit(listType);\r\n            // clean\r\n            this.productConfigureAddFields = {};\r\n        },\r\n\r\n        /**\r\n         * Show configuration of quote item\r\n         *\r\n         * @param itemId\r\n         */\r\n        showQuoteItemConfiguration: function (itemId) {\r\n            var listType = 'quote_items';\r\n            var qtyElement = $('order-items_grid').select('input[name=\"item\\[' + itemId + '\\]\\[qty\\]\"]')[0];\r\n            productConfigure.setConfirmCallback(listType, function () {\r\n                // sync qty of popup and qty of grid\r\n                var confirmedCurrentQty = productConfigure.getCurrentConfirmedQtyElement();\r\n                if (qtyElement && confirmedCurrentQty && !isNaN(confirmedCurrentQty.value)) {\r\n                    qtyElement.value = confirmedCurrentQty.value;\r\n                }\r\n                this.productConfigureAddFields['item[' + itemId + '][configured]'] = 1;\r\n                this.itemsUpdate();\r\n\r\n            }.bind(this));\r\n            productConfigure.setShowWindowCallback(listType, function () {\r\n                // sync qty of grid and qty of popup\r\n                var formCurrentQty = productConfigure.getCurrentFormQtyElement();\r\n                if (formCurrentQty && qtyElement && !isNaN(qtyElement.value)) {\r\n                    formCurrentQty.value = qtyElement.value;\r\n                }\r\n            }.bind(this));\r\n            productConfigure.showItemConfiguration(listType, itemId);\r\n        },\r\n\r\n        accountFieldsBind: function (container) {\r\n            if ($(container)) {\r\n                var fields = $(container).select('input', 'select', 'textarea');\r\n                for (var i = 0; i < fields.length; i++) {\r\n                    if (fields[i].id == 'group_id') {\r\n                        fields[i].observe('change', this.accountGroupChange.bind(this))\r\n                    } else {\r\n                        fields[i].observe('change', this.accountFieldChange.bind(this))\r\n                    }\r\n                }\r\n            }\r\n        },\r\n\r\n        accountGroupChange: function () {\r\n            this.loadArea(['data'], true, this.serializeData('order-form_account').toObject());\r\n        },\r\n\r\n        accountFieldChange: function () {\r\n            this.saveData(this.serializeData('order-form_account'));\r\n        },\r\n\r\n        commentFieldsBind: function (container) {\r\n            if ($(container)) {\r\n                var fields = $(container).select('input', 'textarea');\r\n                for (var i = 0; i < fields.length; i++)\r\n                    fields[i].observe('change', this.commentFieldChange.bind(this))\r\n            }\r\n        },\r\n\r\n        commentFieldChange: function () {\r\n            this.saveData(this.serializeData('order-comment'));\r\n        },\r\n\r\n        giftmessageFieldsBind: function (container) {\r\n            if ($(container)) {\r\n                var fields = $(container).select('input', 'textarea');\r\n                for (var i = 0; i < fields.length; i++)\r\n                    fields[i].observe('change', this.giftmessageFieldChange.bind(this))\r\n            }\r\n        },\r\n\r\n        giftmessageFieldChange: function () {\r\n            this.giftMessageDataChanged = true;\r\n        },\r\n\r\n        giftmessageOnItemChange: function (event) {\r\n            var element = Event.element(event);\r\n            if (element.name.indexOf(\"giftmessage\") != -1 && element.type == \"checkbox\" && !element.checked) {\r\n                var messages = $(\"order-giftmessage\").select('textarea');\r\n                var name;\r\n                for (var i = 0; i < messages.length; i++) {\r\n                    name = messages[i].id.split(\"_\");\r\n                    if (name.length < 2) continue;\r\n                    if (element.name.indexOf(\"[\" + name[1] + \"]\") != -1 && messages[i].value != \"\") {\r\n                        alert({\r\n                            content: \"First, clean the Message field in Gift Message form\"\r\n                        });\r\n                        element.checked = true;\r\n                    }\r\n                }\r\n            }\r\n        },\r\n\r\n        loadArea: function (area, indicator, params) {\r\n            var deferred = new jQuery.Deferred();\r\n            var url = this.loadBaseUrl;\r\n            if (area) {\r\n                area = this.prepareArea(area);\r\n                url += 'block/' + area;\r\n            }\r\n            if (indicator === true) indicator = 'html-body';\r\n            params = this.prepareParams(params);\r\n            params.json = true;\r\n            if (!this.loadingAreas) this.loadingAreas = [];\r\n            if (indicator) {\r\n                this.loadingAreas = area;\r\n                new Ajax.Request(url, {\r\n                    parameters: params,\r\n                    loaderArea: indicator,\r\n                    onSuccess: function (transport) {\r\n                        var response = transport.responseText.evalJSON();\r\n                        this.loadAreaResponseHandler(response);\r\n                        deferred.resolve();\r\n                    }.bind(this)\r\n                });\r\n            } else {\r\n                new Ajax.Request(url, {\r\n                    parameters: params,\r\n                    loaderArea: indicator,\r\n                    onSuccess: function (transport) {\r\n                        deferred.resolve();\r\n                    }\r\n                });\r\n            }\r\n            if (typeof productConfigure != 'undefined' && area instanceof Array && area.indexOf('items') != -1) {\r\n                productConfigure.clean('quote_items');\r\n            }\r\n            return deferred.promise();\r\n        },\r\n\r\n        loadAreaResponseHandler: function (response) {\r\n            if (response.error) {\r\n                alert({\r\n                    content: response.message\r\n                });\r\n            }\r\n            if (response.ajaxExpired && response.ajaxRedirect) {\r\n                setLocation(response.ajaxRedirect);\r\n            }\r\n            if (!this.loadingAreas) {\r\n                this.loadingAreas = [];\r\n            }\r\n            if (typeof this.loadingAreas == 'string') {\r\n                this.loadingAreas = [this.loadingAreas];\r\n            }\r\n            if (this.loadingAreas.indexOf('message') == -1) {\r\n                this.loadingAreas.push('message');\r\n            }\r\n            if (response.header) {\r\n                jQuery('.page-actions-inner').attr('data-title', response.header);\r\n            }\r\n\r\n            for (var i = 0; i < this.loadingAreas.length; i++) {\r\n                var id = this.loadingAreas[i];\r\n                if ($(this.getAreaId(id))) {\r\n                    if ((id in response) && id !== 'message' || response[id]) {\r\n                        $(this.getAreaId(id)).update(response[id]);\r\n                    }\r\n                    if ($(this.getAreaId(id)).callback) {\r\n                        this[$(this.getAreaId(id)).callback]();\r\n                    }\r\n                }\r\n            }\r\n        },\r\n\r\n        prepareArea: function (area) {\r\n            if (this.giftMessageDataChanged) {\r\n                return area.without('giftmessage');\r\n            }\r\n            return area;\r\n        },\r\n\r\n        saveData: function (data) {\r\n            this.loadArea(false, false, data);\r\n        },\r\n\r\n        showArea: function (area) {\r\n            var id = this.getAreaId(area);\r\n            if ($(id)) {\r\n                $(id).show();\r\n                this.areaOverlay();\r\n            }\r\n        },\r\n\r\n        hideArea: function (area) {\r\n            var id = this.getAreaId(area);\r\n            if ($(id)) {\r\n                $(id).hide();\r\n                this.areaOverlay();\r\n            }\r\n        },\r\n\r\n        areaOverlay: function () {\r\n            $H(order.overlayData).each(function (e) {\r\n                e.value.fx();\r\n            });\r\n        },\r\n\r\n        getAreaId: function (area) {\r\n            return 'order-' + area;\r\n        },\r\n\r\n        prepareParams: function (params) {\r\n            if (!params) {\r\n                params = {};\r\n            }\r\n            if (!params.customer_id) {\r\n                params.customer_id = this.customerId;\r\n            }\r\n            if (!params.store_id) {\r\n                params.store_id = this.storeId;\r\n            }\r\n            if (!params.currency_id) {\r\n                params.currency_id = this.currencyId;\r\n            }\r\n            if (!params.form_key) {\r\n                params.form_key = FORM_KEY;\r\n            }\r\n\r\n            if (this.isPaymentValidationAvailable()) {\r\n                var data = this.serializeData('order-billing_method');\r\n                if (data) {\r\n                    data.each(function (value) {\r\n                        params[value[0]] = value[1];\r\n                    });\r\n                }\r\n            } else {\r\n                params['payment[method]'] = this.paymentMethod;\r\n            }\r\n            return params;\r\n        },\r\n\r\n        /**\r\n         * Prevent from sending credit card information to server for some payment methods\r\n         *\r\n         * @returns {boolean}\r\n         */\r\n        isPaymentValidationAvailable: function () {\r\n            return ((typeof this.paymentMethod) == 'undefined'\r\n                || this.excludedPaymentMethods.indexOf(this.paymentMethod) == -1);\r\n        },\r\n\r\n        /**\r\n         * Serializes container form elements data.\r\n         *\r\n         * @param {String} container\r\n         * @return {Object}\r\n         */\r\n        serializeData: function (container) {\r\n            var fields = $(container).select('input', 'select', 'textarea'),\r\n                data = Form.serializeElements(fields, true);\r\n\r\n            return $H(data);\r\n        },\r\n\r\n        toggleCustomPrice: function (checkbox, elemId, tierBlock) {\r\n            if (checkbox.checked) {\r\n                $(elemId).disabled = false;\r\n                $(elemId).show();\r\n                if ($(tierBlock)) $(tierBlock).hide();\r\n            } else {\r\n                $(elemId).disabled = true;\r\n                $(elemId).hide();\r\n                if ($(tierBlock)) $(tierBlock).show();\r\n            }\r\n        },\r\n\r\n        submit: function () {\r\n            var $editForm = jQuery('#edit_form'),\r\n                beforeSubmitOrderEvent;\r\n\r\n            if ($editForm.valid()) {\r\n                $editForm.trigger('processStart');\r\n                beforeSubmitOrderEvent = jQuery.Event('beforeSubmitOrder');\r\n                $editForm.trigger(beforeSubmitOrderEvent);\r\n                if (beforeSubmitOrderEvent.result !== false) {\r\n                    $editForm.trigger('submitOrder');\r\n                }\r\n            }\r\n        },\r\n\r\n        _realSubmit: function () {\r\n            var disableAndSave = function () {\r\n                disableElements('save');\r\n                jQuery('#edit_form').on('invalid-form.validate', function () {\r\n                    enableElements('save');\r\n                    jQuery('#edit_form').trigger('processStop');\r\n                    jQuery('#edit_form').off('invalid-form.validate');\r\n                });\r\n                jQuery('#edit_form').triggerHandler('save');\r\n            }\r\n            if (this.orderItemChanged) {\r\n                var self = this;\r\n\r\n                jQuery('#edit_form').trigger('processStop');\r\n\r\n                confirm({\r\n                    content: jQuery.mage.__('You have item changes'),\r\n                    actions: {\r\n                        confirm: function () {\r\n                            jQuery('#edit_form').trigger('processStart');\r\n                            disableAndSave();\r\n                        },\r\n                        cancel: function () {\r\n                            self.itemsUpdate();\r\n                        }\r\n                    }\r\n                });\r\n            } else {\r\n                disableAndSave();\r\n            }\r\n        },\r\n\r\n        overlay: function (elId, show, observe) {\r\n            if (typeof (show) == 'undefined') {\r\n                show = true;\r\n            }\r\n\r\n            var orderObj = this;\r\n            var obj = this.overlayData.get(elId);\r\n            if (!obj) {\r\n                obj = {\r\n                    show: show,\r\n                    el: elId,\r\n                    order: orderObj,\r\n                    fx: function (event) {\r\n                        this.order.processOverlay(this.el, this.show);\r\n                    }\r\n                };\r\n                obj.bfx = obj.fx.bindAsEventListener(obj);\r\n                this.overlayData.set(elId, obj);\r\n            } else {\r\n                obj.show = show;\r\n                Event.stopObserving(window, 'resize', obj.bfx);\r\n            }\r\n\r\n            Event.observe(window, 'resize', obj.bfx);\r\n\r\n            this.processOverlay(elId, show);\r\n        },\r\n\r\n        processOverlay: function (elId, show) {\r\n            var el = $(elId);\r\n\r\n            if (!el) {\r\n                return;\r\n            }\r\n\r\n            var parentEl = el.up(1);\r\n            if (show) {\r\n                parentEl.removeClassName('ignore-validate');\r\n            } else {\r\n                parentEl.addClassName('ignore-validate');\r\n            }\r\n\r\n            if (Prototype.Browser.IE) {\r\n                parentEl.select('select').each(function (elem) {\r\n                    if (show) {\r\n                        elem.needShowOnSuccess = false;\r\n                        elem.style.visibility = '';\r\n                    } else {\r\n                        elem.style.visibility = 'hidden';\r\n                        elem.needShowOnSuccess = true;\r\n                    }\r\n                });\r\n            }\r\n\r\n            parentEl.setStyle({position: 'relative'});\r\n            el.setStyle({\r\n                display: show ? 'none' : ''\r\n            });\r\n        },\r\n\r\n        validateVat: function (parameters) {\r\n            var params = {\r\n                country: $(parameters.countryElementId).value,\r\n                vat: $(parameters.vatElementId).value\r\n            };\r\n\r\n            if (this.storeId !== false) {\r\n                params.store_id = this.storeId;\r\n            }\r\n\r\n            var currentCustomerGroupId = $(parameters.groupIdHtmlId)\r\n                ? $(parameters.groupIdHtmlId).value : '';\r\n\r\n            new Ajax.Request(parameters.validateUrl, {\r\n                parameters: params,\r\n                onSuccess: function (response) {\r\n                    var message = '';\r\n                    var groupActionRequired = null;\r\n                    try {\r\n                        response = response.responseText.evalJSON();\r\n\r\n                        if (null === response.group) {\r\n                            if (true === response.valid) {\r\n                                message = parameters.vatValidMessage;\r\n                            } else if (true === response.success) {\r\n                                message = parameters.vatInvalidMessage.replace(/%s/, params.vat);\r\n                            } else {\r\n                                message = parameters.vatValidationFailedMessage;\r\n                            }\r\n                        } else {\r\n                            if (true === response.valid) {\r\n                                message = parameters.vatValidAndGroupValidMessage;\r\n                                if (0 === response.group) {\r\n                                    message = parameters.vatValidAndGroupInvalidMessage;\r\n                                    groupActionRequired = 'inform';\r\n                                } else if (currentCustomerGroupId != response.group) {\r\n                                    message = parameters.vatValidAndGroupChangeMessage;\r\n                                    groupActionRequired = 'change';\r\n                                }\r\n                            } else if (response.success) {\r\n                                message = parameters.vatInvalidMessage.replace(/%s/, params.vat);\r\n                                groupActionRequired = 'inform';\r\n                            } else {\r\n                                message = parameters.vatValidationFailedMessage;\r\n                                groupActionRequired = 'inform';\r\n                            }\r\n                        }\r\n                    } catch (e) {\r\n                        message = parameters.vatValidationFailedMessage;\r\n                    }\r\n                    if (null === groupActionRequired) {\r\n                        alert({\r\n                            content: message\r\n                        });\r\n                    } else {\r\n                        this.processCustomerGroupChange(\r\n                            parameters.groupIdHtmlId,\r\n                            message,\r\n                            parameters.vatCustomerGroupMessage,\r\n                            parameters.vatGroupErrorMessage,\r\n                            response.group,\r\n                            groupActionRequired\r\n                        );\r\n                    }\r\n                }.bind(this)\r\n            });\r\n        },\r\n\r\n        processCustomerGroupChange: function (groupIdHtmlId, message, customerGroupMessage, errorMessage, groupId, action) {\r\n            var groupMessage = '';\r\n            try {\r\n                var currentCustomerGroupId = $(groupIdHtmlId).value;\r\n                var currentCustomerGroupTitle =\r\n                    $$('#' + groupIdHtmlId + ' > option[value=' + currentCustomerGroupId + ']')[0].text;\r\n                var customerGroupOption = $$('#' + groupIdHtmlId + ' > option[value=' + groupId + ']')[0];\r\n                groupMessage = customerGroupMessage.replace(/%s/, customerGroupOption.text);\r\n            } catch (e) {\r\n                groupMessage = errorMessage;\r\n                if (action === 'change') {\r\n                    message = '';\r\n                    action = 'inform';\r\n                }\r\n            }\r\n\r\n            if (action === 'change') {\r\n                var confirmText = message.replace(/%s/, customerGroupOption.text);\r\n                confirmText = confirmText.replace(/%s/, currentCustomerGroupTitle);\r\n                confirm({\r\n                    content: confirmText,\r\n                    actions: {\r\n                        confirm: function() {\r\n                            $$('#' + groupIdHtmlId + ' option').each(function (o) {\r\n                                o.selected = o.readAttribute('value') == groupId;\r\n                            });\r\n                            this.accountGroupChange();\r\n                        }.bind(this)\r\n                    }\r\n                })\r\n            } else if (action === 'inform') {\r\n                alert({\r\n                    content: message + '\\n' + groupMessage\r\n                });\r\n            }\r\n        }\r\n    };\r\n\r\n    window.OrderFormArea = Class.create();\r\n    OrderFormArea.prototype = {\r\n        _name: null,\r\n        _node: null,\r\n        _parent: null,\r\n        _callbackName: null,\r\n\r\n        initialize: function (name, node, parent) {\r\n            if (!node)\r\n                return;\r\n            this._name = name;\r\n            this._parent = parent;\r\n            this._callbackName = node.callback;\r\n            if (typeof this._callbackName == 'undefined') {\r\n                this._callbackName = name + 'Loaded';\r\n                node.callback = this._callbackName;\r\n            }\r\n            parent[this._callbackName] = parent[this._callbackName].wrap((function (proceed) {\r\n                proceed();\r\n                this.onLoad();\r\n            }).bind(this));\r\n\r\n            this.setNode(node);\r\n        },\r\n\r\n        setNode: function (node) {\r\n            if (!node.callback) {\r\n                node.callback = this._callbackName;\r\n            }\r\n            this.node = node;\r\n        },\r\n\r\n        onLoad: function () {\r\n        }\r\n    };\r\n\r\n    window.ControlButton = Class.create();\r\n\r\n    ControlButton.prototype = {\r\n        _label: '',\r\n        _node: null,\r\n\r\n        initialize: function (label, id) {\r\n            this._label = label;\r\n            this._node = new Element('button', {\r\n                'class': 'action-secondary action-add',\r\n                'type': 'button'\r\n            });\r\n            if (typeof id !== 'undefined') {\r\n                this._node.setAttribute('id', id)\r\n            }\r\n        },\r\n\r\n        onClick: function () {\r\n        },\r\n\r\n        insertIn: function (element, position) {\r\n            var node = Object.extend(this._node),\r\n                content = {};\r\n            node.observe('click', this.onClick);\r\n            node.update('<span>' + this._label + '</span>');\r\n            content[position] = node;\r\n            Element.insert(element, content);\r\n        },\r\n\r\n        getLabel: function () {\r\n            return this._label;\r\n        }\r\n    };\r\n});\r\n","Magento_Sales/order/edit/message.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\ndefine([\r\n    'jquery',\r\n    'jquery/ui',\r\n    'Magento_Ui/js/modal/modal',\r\n    'mage/translate'\r\n], function ($) {\r\n    'use strict';\r\n\r\n    $.widget('mage.orderEditDialog', {\r\n        options: {\r\n            url:     null,\r\n            message: null,\r\n            modal:  null\r\n        },\r\n\r\n        /**\r\n         * @protected\r\n         */\r\n        _create: function () {\r\n            this._prepareDialog();\r\n        },\r\n\r\n        /**\r\n         * Show modal\r\n         */\r\n        showDialog: function () {\r\n            this.options.dialog.html(this.options.message).modal('openModal');\r\n        },\r\n\r\n        /**\r\n         * Redirect to edit page\r\n         */\r\n        redirect: function () {\r\n            window.location = this.options.url;\r\n        },\r\n\r\n        /**\r\n         * Prepare modal\r\n         * @protected\r\n         */\r\n        _prepareDialog: function () {\r\n            var self = this;\r\n\r\n            this.options.dialog = $('<div class=\"ui-dialog-content ui-widget-content\"></div>').modal({\r\n                type: 'popup',\r\n                modalClass: 'edit-order-popup',\r\n                title: $.mage.__('Edit Order'),\r\n                buttons: [{\r\n                    text: $.mage.__('Ok'),\r\n                    'class': 'action-primary',\r\n\r\n                    /** @inheritdoc */\r\n                    click: function () {\r\n                        self.redirect();\r\n                    }\r\n                }]\r\n            });\r\n        }\r\n    });\r\n\r\n    return $.mage.orderEditDialog;\r\n});\r\n","Magento_Sales/order/edit/address/form.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\ndefine([\r\n    'jquery'\r\n], function ($) {\r\n    'use strict';\r\n\r\n    /**\r\n     * Currently Magento App stores both  region_id and region (as text) values.\r\n     * To prevent missing region (as text) we need to copy it in hidden field.\r\n     * @param {Array} config\r\n     * @param {String} element\r\n     */\r\n    return function (config, element) {\r\n        var form = $(element),\r\n            regionId = form.find('#region_id'),\r\n\r\n            /**\r\n             * Set region callback\r\n             */\r\n            setRegion = function () {\r\n                form.find('#region').val(regionId.filter(':visible').find(':selected').text());\r\n            };\r\n\r\n        if (regionId.is('visible')) {\r\n            setRegion();\r\n        }\r\n\r\n        regionId.on('change', setRegion);\r\n        form.find('#country_id').on('change', setRegion);\r\n    };\r\n});\r\n","Magento_Sales/order/view/post-wrapper.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\ndefine([\r\n    'jquery',\r\n    'Magento_Ui/js/modal/confirm',\r\n    'mage/translate'\r\n], function ($, confirm) {\r\n    'use strict';\r\n\r\n    /**\r\n     * @param {String} url\r\n     * @returns {jQuery}\r\n     */\r\n    function getForm(url) {\r\n        return $('<form>', {\r\n            'action': url,\r\n            'method': 'POST'\r\n        }).append($('<input>', {\r\n            'name': 'form_key',\r\n            'value': window.FORM_KEY,\r\n            'type': 'hidden'\r\n        }));\r\n    }\r\n\r\n    $(document).on('click', '#order-view-cancel-button', function () {\r\n        var msg = $.mage.__('Are you sure you want to cancel this order?'),\r\n            url = $('#order-view-cancel-button').data('url');\r\n\r\n        confirm({\r\n            'content': msg,\r\n            'actions': {\r\n\r\n                /**\r\n                 * 'Confirm' action handler.\r\n                 */\r\n                confirm: function () {\r\n                    getForm(url).appendTo('body').trigger('submit');\r\n                }\r\n            }\r\n        });\r\n\r\n        return false;\r\n    });\r\n\r\n    $(document).on('click', '#order-view-hold-button', function () {\r\n        var url = $('#order-view-hold-button').data('url');\r\n\r\n        getForm(url).appendTo('body').trigger('submit');\r\n    });\r\n\r\n    $(document).on('click', '#order-view-unhold-button', function () {\r\n        var url = $('#order-view-unhold-button').data('url');\r\n\r\n        getForm(url).appendTo('body').trigger('submit');\r\n    });\r\n});\r\n","Magento_SalesRule/js/form/element/apply_to_shipping.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\ndefine([\r\n    'Magento_Ui/js/form/element/single-checkbox-toggle-notice'\r\n], function (Checkbox) {\r\n    'use strict';\r\n\r\n    return Checkbox.extend({\r\n        defaults: {\r\n            imports: {\r\n                toggleDisabled: '${ $.parentName }.simple_action:value'\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Toggle element disabled state according to simple action value.\r\n         *\r\n         * @param {String} action\r\n         */\r\n        toggleDisabled: function (action) {\r\n            switch (action) {\r\n                default:\r\n                    this.disabled(false);\r\n            }\r\n\r\n            if (this.disabled()) {\r\n                this.checked(false);\r\n            }\r\n        }\r\n    });\r\n});\r\n","Magento_SalesRule/js/form/element/coupon-type.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\ndefine([\r\n    'underscore',\r\n    'uiRegistry',\r\n    'Magento_Ui/js/form/element/select'\r\n], function (_, uiRegistry, select) {\r\n    'use strict';\r\n\r\n    return select.extend({\r\n\r\n        /**\r\n         * Hide fields on coupon tab\r\n         */\r\n        onUpdate: function () {\r\n\r\n            /* eslint-disable eqeqeq */\r\n            if (this.value() != this.displayOnlyForCouponType) {\r\n                uiRegistry.get('sales_rule_form.sales_rule_form.rule_information.use_auto_generation').checked(false);\r\n            }\r\n\r\n            this.enableDisableFields();\r\n        },\r\n\r\n        /**\r\n         * Enable/disable fields on Coupons tab\r\n         */\r\n        enableDisableFields: function () {\r\n            var selector,\r\n                isUseAutoGenerationChecked,\r\n                couponType,\r\n                disableAuto;\r\n\r\n            selector = '[id=sales-rule-form-tab-coupons] input, [id=sales-rule-form-tab-coupons] select, ' +\r\n                    '[id=sales-rule-form-tab-coupons] button';\r\n            isUseAutoGenerationChecked = uiRegistry\r\n                    .get('sales_rule_form.sales_rule_form.rule_information.use_auto_generation')\r\n                    .checked();\r\n            couponType = uiRegistry\r\n                .get('sales_rule_form.sales_rule_form.rule_information.coupon_type')\r\n                .value();\r\n            disableAuto = couponType === 3 || isUseAutoGenerationChecked;\r\n            _.each(\r\n                document.querySelectorAll(selector),\r\n                function (element) {\r\n                    element.disabled = !disableAuto;\r\n                }\r\n            );\r\n        }\r\n    });\r\n});\r\n","Magento_SalesRule/js/form/element/manage-coupon-codes.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\ndefine([\r\n    'underscore',\r\n    'uiRegistry',\r\n    'Magento_Ui/js/form/components/fieldset',\r\n    'Magento_Ui/js/lib/view/utils/async'\r\n], function (_, uiRegistry, fieldset, async) {\r\n    'use strict';\r\n\r\n    return fieldset.extend({\r\n\r\n        /*eslint-disable no-unused-vars*/\r\n        /**\r\n         * Initialize element\r\n         *\r\n         * @returns {Abstract} Chainable\r\n         */\r\n        initialize: function (elems, position) {\r\n            var obj = this;\r\n\r\n            this._super();\r\n\r\n            async.async('#sales-rule-form-tab-coupons', document.getElementById('container'), function (node) {\r\n                var useAutoGeneration = uiRegistry.get(\r\n                    'sales_rule_form.sales_rule_form.rule_information.use_auto_generation'\r\n                );\r\n\r\n                useAutoGeneration.on('checked', function () {\r\n                    obj.enableDisableFields();\r\n                });\r\n                obj.enableDisableFields();\r\n            });\r\n\r\n            return this;\r\n        },\r\n\r\n        /*eslint-enable no-unused-vars*/\r\n        /*eslint-disable lines-around-comment*/\r\n\r\n        /**\r\n         * Enable/disable fields on Coupons tab\r\n         */\r\n        enableDisableFields: function () {\r\n            var selector,\r\n                isUseAutoGenerationChecked,\r\n                couponType,\r\n                disableAuto;\r\n\r\n            selector = '[id=sales-rule-form-tab-coupons] input, [id=sales-rule-form-tab-coupons] select, ' +\r\n                    '[id=sales-rule-form-tab-coupons] button';\r\n            isUseAutoGenerationChecked = uiRegistry\r\n                    .get('sales_rule_form.sales_rule_form.rule_information.use_auto_generation')\r\n                    .checked();\r\n            couponType = uiRegistry\r\n                .get('sales_rule_form.sales_rule_form.rule_information.coupon_type')\r\n                .value();\r\n            /**\r\n             * \\Magento\\Rule\\Model\\AbstractModel::COUPON_TYPE_AUTO\r\n             */\r\n            disableAuto = couponType === 3 || isUseAutoGenerationChecked;\r\n            _.each(\r\n                document.querySelectorAll(selector),\r\n                function (element) {\r\n                    element.disabled = !disableAuto;\r\n                }\r\n            );\r\n        }\r\n    });\r\n});\r\n","Magento_Security/js/confirm-redirect.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n/*eslint-disable no-undef*/\r\ndefine(\r\n    ['jquery'],\r\n    function ($) {\r\n        'use strict';\r\n\r\n        return function (config, element) {\r\n            $(element).on('click', config, function () {\r\n                confirmSetLocation(config.message, config.url);\r\n            });\r\n        };\r\n    }\r\n);\r\n","Magento_Security/js/escaper.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\n/**\r\n * A loose JavaScript version of Magento\\Framework\\Escaper\r\n *\r\n * Due to differences in how XML/HTML is processed in PHP vs JS there are a couple of minor differences in behavior\r\n * from the PHP counterpart.\r\n *\r\n * The first difference is that the default invocation of escapeHtml without allowedTags will double-escape existing\r\n * entities as the intention of such an invocation is that the input isn't supposed to contain any HTML.\r\n *\r\n * The second difference is that escapeHtml will not escape quotes. Since the input is actually being processed by the\r\n * DOM there is no chance of quotes being mixed with HTML syntax. And, since escapeHtml is not\r\n * intended to be used with raw injection into a HTML attribute, this is acceptable.\r\n *\r\n * @api\r\n */\r\ndefine([], function () {\r\n    'use strict';\r\n\r\n    return {\r\n        neverAllowedElements: ['script', 'img', 'embed', 'iframe', 'video', 'source', 'object', 'audio'],\r\n        generallyAllowedAttributes: ['id', 'class', 'href', 'title', 'style'],\r\n        forbiddenAttributesByElement: {\r\n            a: ['style']\r\n        },\r\n\r\n        /**\r\n         * Escape a string for safe injection into HTML\r\n         *\r\n         * @param {String} data\r\n         * @param {Array|null} allowedTags\r\n         * @returns {String}\r\n         */\r\n        escapeHtml: function (data, allowedTags) {\r\n            var domParser = new DOMParser(),\r\n                fragment = domParser.parseFromString('<div></div>', 'text/html');\r\n\r\n            fragment = fragment.body.childNodes[0];\r\n            allowedTags = typeof allowedTags === 'object' && allowedTags.length ? allowedTags : null;\r\n\r\n            if (allowedTags) {\r\n                fragment.innerHTML = data || '';\r\n                allowedTags = this._filterProhibitedTags(allowedTags);\r\n\r\n                this._removeComments(fragment);\r\n                this._removeNotAllowedElements(fragment, allowedTags);\r\n                this._removeNotAllowedAttributes(fragment);\r\n\r\n                return fragment.innerHTML;\r\n            }\r\n\r\n            fragment.textContent = data || '';\r\n\r\n            return fragment.innerHTML;\r\n        },\r\n\r\n        /**\r\n         * Remove the always forbidden tags from a list of provided tags\r\n         *\r\n         * @param {Array} tags\r\n         * @returns {Array}\r\n         * @private\r\n         */\r\n        _filterProhibitedTags: function (tags) {\r\n            return tags.filter(function (n) {\r\n                return this.neverAllowedElements.indexOf(n) === -1;\r\n            }.bind(this));\r\n        },\r\n\r\n        /**\r\n         * Remove comment nodes from the given node\r\n         *\r\n         * @param {Node} node\r\n         * @private\r\n         */\r\n        _removeComments: function (node) {\r\n            var treeWalker = node.ownerDocument.createTreeWalker(\r\n                    node,\r\n                    NodeFilter.SHOW_COMMENT,\r\n                    function () {\r\n                        return NodeFilter.FILTER_ACCEPT;\r\n                    },\r\n                    false\r\n                ),\r\n                nodesToRemove = [];\r\n\r\n            while (treeWalker.nextNode()) {\r\n                nodesToRemove.push(treeWalker.currentNode);\r\n            }\r\n\r\n            nodesToRemove.forEach(function (nodeToRemove) {\r\n                nodeToRemove.parentNode.removeChild(nodeToRemove);\r\n            });\r\n        },\r\n\r\n        /**\r\n         * Strip the given node of all disallowed tags while permitting any nested text nodes\r\n         *\r\n         * @param {Node} node\r\n         * @param {Array|null} allowedTags\r\n         * @private\r\n         */\r\n        _removeNotAllowedElements: function (node, allowedTags) {\r\n            var treeWalker = node.ownerDocument.createTreeWalker(\r\n                    node,\r\n                    NodeFilter.SHOW_ELEMENT,\r\n                    function (currentNode) {\r\n                        return allowedTags.indexOf(currentNode.nodeName.toLowerCase()) === -1 ?\r\n                            NodeFilter.FILTER_ACCEPT\r\n                            // SKIP instead of REJECT because REJECT also rejects child nodes\r\n                            : NodeFilter.FILTER_SKIP;\r\n                    },\r\n                false\r\n                ),\r\n                nodesToRemove = [];\r\n\r\n            while (treeWalker.nextNode()) {\r\n                if (allowedTags.indexOf(treeWalker.currentNode.nodeName.toLowerCase()) === -1) {\r\n                    nodesToRemove.push(treeWalker.currentNode);\r\n                }\r\n            }\r\n\r\n            nodesToRemove.forEach(function (nodeToRemove) {\r\n                nodeToRemove.parentNode.replaceChild(\r\n                    node.ownerDocument.createTextNode(nodeToRemove.textContent),\r\n                    nodeToRemove\r\n                );\r\n            });\r\n        },\r\n\r\n        /**\r\n         * Remove any invalid attributes from the given node\r\n         *\r\n         * @param {Node} node\r\n         * @private\r\n         */\r\n        _removeNotAllowedAttributes: function (node) {\r\n            var treeWalker = node.ownerDocument.createTreeWalker(\r\n                    node,\r\n                    NodeFilter.SHOW_ELEMENT,\r\n                    function () {\r\n                        return NodeFilter.FILTER_ACCEPT;\r\n                    },\r\n                false\r\n                ),\r\n                i,\r\n                attribute,\r\n                nodeName,\r\n                attributesToRemove = [];\r\n\r\n            while (treeWalker.nextNode()) {\r\n                for (i = 0; i < treeWalker.currentNode.attributes.length; i++) {\r\n                    attribute = treeWalker.currentNode.attributes[i];\r\n                    nodeName = treeWalker.currentNode.nodeName.toLowerCase();\r\n\r\n                    if (this.generallyAllowedAttributes.indexOf(attribute.name) === -1  || // eslint-disable-line max-depth,max-len\r\n                        this._checkHrefValue(attribute) ||\r\n                        this.forbiddenAttributesByElement[nodeName] &&\r\n                        this.forbiddenAttributesByElement[nodeName].indexOf(attribute.name) !== -1\r\n                    ) {\r\n                        attributesToRemove.push(attribute);\r\n                    }\r\n                }\r\n            }\r\n\r\n            attributesToRemove.forEach(function (attributeToRemove) {\r\n                attributeToRemove.ownerElement.removeAttribute(attributeToRemove.name);\r\n            });\r\n        },\r\n\r\n        /**\r\n         * Check that attribute contains script content\r\n         *\r\n         * @param {Object} attribute\r\n         * @private\r\n         */\r\n        _checkHrefValue: function (attribute) {\r\n            return attribute.nodeName === 'href' && attribute.nodeValue.startsWith('javascript');\r\n        }\r\n    };\r\n});\r\n","Magento_Security/js/system/config/session-size.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\ndefine([\r\n    'jquery',\r\n    'mage/translate',\r\n    'Magento_Ui/js/modal/confirm',\r\n    'domReady!'\r\n], function ($, $t, confirm) {\r\n    'use strict';\r\n\r\n    return function (config, inputEl) {\r\n        var $inputEl = $(inputEl);\r\n\r\n        $inputEl.on('blur', function () {\r\n            var inputVal = parseInt($inputEl.val(), 10);\r\n\r\n            if (inputVal < 256000) {\r\n                confirm({\r\n                    title: $t(config.modalTitleText),\r\n                    content: $t(config.modalContentBody),\r\n                    buttons: [{\r\n                        text: $t('No'),\r\n                        class: 'action-secondary action-dismiss',\r\n\r\n                        /**\r\n                         * Close modal and trigger 'cancel' action on click\r\n                         */\r\n                        click: function (event) {\r\n                            this.closeModal(event);\r\n                        }\r\n                    }, {\r\n                        text: $t('Yes'),\r\n                        class: 'action-primary action-accept',\r\n\r\n                        /**\r\n                         * Close modal and trigger 'confirm' action on click\r\n                         */\r\n                        click: function (event) {\r\n                            this.closeModal(event, true);\r\n                        }\r\n                    }],\r\n                    actions: {\r\n\r\n                        /**\r\n                         * Revert back to original value\r\n                         */\r\n                        cancel: function () {\r\n                            $inputEl.val(256000);\r\n                        }\r\n                    }\r\n                });\r\n            }\r\n        });\r\n    };\r\n});\r\n","Magento_Shipping/js/packages.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\ndefine([\r\n    'jquery',\r\n    'Magento_Ui/js/modal/modal',\r\n    'mage/translate'\r\n], function ($, modal, $t) {\r\n    'use strict';\r\n\r\n    return function (config, element) {\r\n        config.buttons = [\r\n            {\r\n                text: $t('Print'),\r\n                'class': 'action action-primary',\r\n\r\n                /**\r\n                 * Click handler\r\n                 */\r\n                click: function () {\r\n                    window.location.href = this.options.url;\r\n                }\r\n            }, {\r\n                text: $t('Cancel'),\r\n                'class': 'action action-secondary',\r\n\r\n                /**\r\n                 * Click handler\r\n                 */\r\n                click: function () {\r\n                    this.closeModal();\r\n                }\r\n            }\r\n        ];\r\n        modal(config, element);\r\n    };\r\n});\r\n","Magento_Shipping/order/packaging.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\ndefine(['prototype'], function () {\r\n\r\n    window.Packaging = Class.create();\r\n    Packaging.prototype = {\r\n        /**\r\n         * Initialize object\r\n         */\r\n        initialize: function (params) {\r\n            this.packageIncrement = 0;\r\n            this.packages = [];\r\n            this.itemsAll = [];\r\n            this.createLabelUrl = params.createLabelUrl ? params.createLabelUrl : null;\r\n            this.itemsGridUrl = params.itemsGridUrl ? params.itemsGridUrl : null;\r\n            this.errorQtyOverLimit = params.errorQtyOverLimit;\r\n            this.titleDisabledSaveBtn = params.titleDisabledSaveBtn;\r\n            this.window = $('packaging_window');\r\n            this.messages = this.window.select('.message-warning')[0];\r\n            this.packagesContent = $('packages_content');\r\n            this.template = $('package_template');\r\n            this.paramsCreateLabelRequest = {};\r\n            this.validationErrorMsg = params.validationErrorMsg;\r\n\r\n            this.defaultItemsQty            = params.shipmentItemsQty ? params.shipmentItemsQty : null;\r\n            this.defaultItemsPrice          = params.shipmentItemsPrice ? params.shipmentItemsPrice : null;\r\n            this.defaultItemsName           = params.shipmentItemsName ? params.shipmentItemsName : null;\r\n            this.defaultItemsWeight         = params.shipmentItemsWeight ? params.shipmentItemsWeight : null;\r\n            this.defaultItemsProductId      = params.shipmentItemsProductId ? params.shipmentItemsProductId : null;\r\n            this.defaultItemsOrderItemId    = params.shipmentItemsOrderItemId ? params.shipmentItemsOrderItemId : null;\r\n\r\n            this.shippingInformation = params.shippingInformation ? params.shippingInformation : null;\r\n            this.thisPage           = params.thisPage ? params.thisPage : null;\r\n            this.customizableContainers = params.customizable ? params.customizable : [];\r\n\r\n            this.eps = 0.000001;\r\n        },\r\n\r\n        /**\r\n         * Get Package Id\r\n         */\r\n        getPackageId: function (packageBlock) {\r\n            return packageBlock.id.match(/\\d{0,}$/)[0];\r\n        },\r\n\r\n        //******************** Setters **********************************//\r\n        setLabelCreatedCallback: function (callback) {\r\n            this.labelCreatedCallback = callback;\r\n        },\r\n        setCancelCallback: function (callback) {\r\n            this.cancelCallback = callback;\r\n        },\r\n        setConfirmPackagingCallback: function (callback) {\r\n            this.confirmPackagingCallback = callback;\r\n        },\r\n        setItemQtyCallback: function (callback) {\r\n            this.itemQtyCallback = callback;\r\n        },\r\n        setCreateLabelUrl: function (url) {\r\n            this.createLabelUrl = url;\r\n        },\r\n        setParamsCreateLabelRequest: function (params) {\r\n            Object.extend(this.paramsCreateLabelRequest, params);\r\n        },\r\n        //******************** End Setters *******************************//\r\n\r\n        showWindow: function () {\r\n            if (this.packagesContent.childElements().length == 0) {\r\n                this.newPackage();\r\n            }\r\n            const allowedPackageTypes = [\"N\",\"D\"];\r\n\r\n            if (!Object.values(this.customizableContainers).some(packageType => allowedPackageTypes.includes(packageType))) {\r\n                $('packaging_window').select(\r\n                    'th.col-length,th.col-width,th.col-height'\r\n                ).forEach(element => {\r\n                    element.classList.remove('_required')\r\n                });\r\n            }\r\n            jQuery(this.window).modal('openModal');\r\n        },\r\n\r\n        cancelPackaging: function () {\r\n            if (Object.isFunction(this.cancelCallback)) {\r\n                this.cancelCallback();\r\n            }\r\n        },\r\n\r\n        confirmPackaging: function (params) {\r\n            if (Object.isFunction(this.confirmPackagingCallback)) {\r\n                this.confirmPackagingCallback();\r\n            }\r\n        },\r\n\r\n        checkAllItems: function (headCheckbox) {\r\n            $(headCheckbox).up('table').select('tbody input[type=\"checkbox\"]').each(function (checkbox) {\r\n                checkbox.checked = headCheckbox.checked;\r\n                this._observeQty.call(checkbox);\r\n            }.bind(this));\r\n        },\r\n\r\n        cleanPackages: function () {\r\n            this.packagesContent.update();\r\n            this.packages = [];\r\n            this.itemsAll = [];\r\n            this.packageIncrement = 0;\r\n            this._setAllItemsPackedState();\r\n            this.messages.hide().update();\r\n        },\r\n\r\n        sendCreateLabelRequest: function () {\r\n            var self = this;\r\n\r\n            if (!this.validate()) {\r\n                this.messages.show().update(this.validationErrorMsg);\r\n\r\n                return;\r\n            }\r\n            this.messages.hide().update();\r\n\r\n            if (this.createLabelUrl) {\r\n                var weight, length, width, height = null;\r\n                var packagesParams = [];\r\n\r\n                this.packagesContent.childElements().each(function (pack) {\r\n                    var packageId = this.getPackageId(pack);\r\n\r\n                    weight = parseFloat(pack.select('input[name=\"container_weight\"]')[0].value);\r\n                    length = parseFloat(pack.select('input[name=\"container_length\"]')[0].value);\r\n                    width = parseFloat(pack.select('input[name=\"container_width\"]')[0].value);\r\n                    height = parseFloat(pack.select('input[name=\"container_height\"]')[0].value);\r\n                    packagesParams[packageId] = {\r\n                        container:                  pack.select('select[name=\"package_container\"]')[0].value,\r\n                        customs_value:              parseFloat(pack.select('input[name=\"package_customs_value\"]')[0].value, 10),\r\n                        weight:                     isNaN(weight) ? '' : weight,\r\n                        length:                     isNaN(length) ? '' : length,\r\n                        width:                      isNaN(width) ? '' : width,\r\n                        height:                     isNaN(height) ? '' : height,\r\n                        weight_units:               pack.select('select[name=\"container_weight_units\"]')[0].value,\r\n                        dimension_units:            pack.select('select[name=\"container_dimension_units\"]')[0].value\r\n                    };\r\n\r\n                    if (isNaN(packagesParams[packageId]['customs_value'])) {\r\n                        packagesParams[packageId]['customs_value'] = 0;\r\n                    }\r\n\r\n                    if ('undefined' != typeof pack.select('select[name=\"package_size\"]')[0]) {\r\n                        if ('' != pack.select('select[name=\"package_size\"]')[0].value) {\r\n                            packagesParams[packageId]['size'] = pack.select('select[name=\"package_size\"]')[0].value;\r\n                        }\r\n                    }\r\n\r\n                    if ('undefined' != typeof pack.select('input[name=\"container_girth\"]')[0]) {\r\n                        if ('' != pack.select('input[name=\"container_girth\"]')[0].value) {\r\n                            packagesParams[packageId]['girth'] = pack.select('input[name=\"container_girth\"]')[0].value;\r\n                            packagesParams[packageId]['girth_dimension_units'] = pack.select('select[name=\"container_girth_dimension_units\"]')[0].value;\r\n                        }\r\n                    }\r\n\r\n                    if ('undefined' != typeof pack.select('select[name=\"content_type\"]')[0] && 'undefined' != typeof pack.select('input[name=\"content_type_other\"]')[0]) {\r\n                        packagesParams[packageId]['content_type'] = pack.select('select[name=\"content_type\"]')[0].value;\r\n                        packagesParams[packageId]['content_type_other'] = pack.select('input[name=\"content_type_other\"]')[0].value;\r\n                    } else {\r\n                        packagesParams[packageId]['content_type'] = '';\r\n                        packagesParams[packageId]['content_type_other'] = '';\r\n                    }\r\n                    var deliveryConfirmation = pack.select('select[name=\"delivery_confirmation_types\"]');\r\n\r\n                    if (deliveryConfirmation.length) {\r\n                        packagesParams[packageId]['delivery_confirmation'] =  deliveryConfirmation[0].value;\r\n                    }\r\n                }.bind(this));\r\n\r\n                for (var packageId in this.packages) {\r\n                    if (!isNaN(packageId)) {\r\n                        this.paramsCreateLabelRequest['packages[' + packageId + ']' + '[params]' + '[container]']              = packagesParams[packageId]['container'];\r\n                        this.paramsCreateLabelRequest['packages[' + packageId + ']' + '[params]' + '[weight]']                 = packagesParams[packageId]['weight'];\r\n                        this.paramsCreateLabelRequest['packages[' + packageId + ']' + '[params]' + '[customs_value]']          = packagesParams[packageId]['customs_value'];\r\n                        this.paramsCreateLabelRequest['packages[' + packageId + ']' + '[params]' + '[length]']                 = packagesParams[packageId]['length'];\r\n                        this.paramsCreateLabelRequest['packages[' + packageId + ']' + '[params]' + '[width]']                  = packagesParams[packageId]['width'];\r\n                        this.paramsCreateLabelRequest['packages[' + packageId + ']' + '[params]' + '[height]']                 = packagesParams[packageId]['height'];\r\n                        this.paramsCreateLabelRequest['packages[' + packageId + ']' + '[params]' + '[weight_units]']           = packagesParams[packageId]['weight_units'];\r\n                        this.paramsCreateLabelRequest['packages[' + packageId + ']' + '[params]' + '[dimension_units]']        = packagesParams[packageId]['dimension_units'];\r\n                        this.paramsCreateLabelRequest['packages[' + packageId + ']' + '[params]' + '[content_type]']           = packagesParams[packageId]['content_type'];\r\n                        this.paramsCreateLabelRequest['packages[' + packageId + ']' + '[params]' + '[content_type_other]']     = packagesParams[packageId]['content_type_other'];\r\n\r\n                        if ('undefined' != typeof packagesParams[packageId]['size']) {\r\n                            this.paramsCreateLabelRequest['packages[' + packageId + ']' + '[params]' + '[size]'] = packagesParams[packageId]['size'];\r\n                        }\r\n\r\n                        if ('undefined' != typeof packagesParams[packageId]['girth']) {\r\n                            this.paramsCreateLabelRequest['packages[' + packageId + ']' + '[params]' + '[girth]'] = packagesParams[packageId]['girth'];\r\n                            this.paramsCreateLabelRequest['packages[' + packageId + ']' + '[params]' + '[girth_dimension_units]'] = packagesParams[packageId]['girth_dimension_units'];\r\n                        }\r\n\r\n                        if ('undefined' != typeof packagesParams[packageId]['delivery_confirmation']) {\r\n                            this.paramsCreateLabelRequest['packages[' + packageId + ']' + '[params]' + '[delivery_confirmation]']  = packagesParams[packageId]['delivery_confirmation'];\r\n                        }\r\n\r\n                        for (var packedItemId in this.packages[packageId]['items']) {\r\n                            if (!isNaN(packedItemId)) {\r\n                                this.paramsCreateLabelRequest['packages[' + packageId + ']' + '[items]' + '[' + packedItemId + '][qty]']           = this.packages[packageId]['items'][packedItemId]['qty'];\r\n                                this.paramsCreateLabelRequest['packages[' + packageId + ']' + '[items]' + '[' + packedItemId + '][customs_value]'] = this.packages[packageId]['items'][packedItemId]['customs_value'];\r\n                                this.paramsCreateLabelRequest['packages[' + packageId + ']' + '[items]' + '[' + packedItemId + '][price]']         = self.defaultItemsPrice[packedItemId];\r\n                                this.paramsCreateLabelRequest['packages[' + packageId + ']' + '[items]' + '[' + packedItemId + '][name]']          = self.defaultItemsName[packedItemId];\r\n                                this.paramsCreateLabelRequest['packages[' + packageId + ']' + '[items]' + '[' + packedItemId + '][weight]']        = self.defaultItemsWeight[packedItemId];\r\n                                this.paramsCreateLabelRequest['packages[' + packageId + ']' + '[items]' + '[' + packedItemId + '][product_id]']    = self.defaultItemsProductId[packedItemId];\r\n                                this.paramsCreateLabelRequest['packages[' + packageId + ']' + '[items]' + '[' + packedItemId + '][order_item_id]'] = self.defaultItemsOrderItemId[packedItemId];\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n\r\n                new Ajax.Request(this.createLabelUrl, {\r\n                    parameters: this.paramsCreateLabelRequest,\r\n                    onSuccess: function (transport) {\r\n                        var response = transport.responseText;\r\n\r\n                        if (response.isJSON()) {\r\n                            response = response.evalJSON();\r\n\r\n                            if (response.error) {\r\n                                this.messages.show().innerHTML = response.message;\r\n                            } else if (response.ok && Object.isFunction(this.labelCreatedCallback)) {\r\n                                this.labelCreatedCallback(response);\r\n                            }\r\n                        }\r\n                    }.bind(this)\r\n                });\r\n\r\n                if (this.paramsCreateLabelRequest['code'] &&\r\n                    this.paramsCreateLabelRequest['carrier_title'] &&\r\n                    this.paramsCreateLabelRequest['method_title'] &&\r\n                    this.paramsCreateLabelRequest['price']\r\n                ) {\r\n                    var a = this.paramsCreateLabelRequest['code'];\r\n                    var b = this.paramsCreateLabelRequest['carrier_title'];\r\n                    var c = this.paramsCreateLabelRequest['method_title'];\r\n                    var d = this.paramsCreateLabelRequest['price'];\r\n\r\n                    this.paramsCreateLabelRequest = {};\r\n                    this.paramsCreateLabelRequest['code']           = a;\r\n                    this.paramsCreateLabelRequest['carrier_title']  = b;\r\n                    this.paramsCreateLabelRequest['method_title']   = c;\r\n                    this.paramsCreateLabelRequest['price']          = d;\r\n                } else {\r\n                    this.paramsCreateLabelRequest = {};\r\n                }\r\n            }\r\n        },\r\n\r\n        validate: function () {\r\n            var dimensionElements = $('packaging_window').select(\r\n                'input[name=container_length],input[name=container_width],input[name=container_height],input[name=container_girth]:not(\"._disabled\")'\r\n            );\r\n            var callback = null;\r\n\r\n            if (dimensionElements.any(function (element) {\r\n                return !!element.value;\r\n            })) {\r\n                callback = function (element) {\r\n                    $(element).addClassName('required-entry');\r\n                };\r\n            } else {\r\n                callback = function (element) {\r\n                    $(element).removeClassName('required-entry');\r\n                };\r\n            }\r\n            dimensionElements.each(callback);\r\n\r\n            const allowedPackageTypes = [\"N\",\"D\"];\r\n\r\n            if (Object.values(this.customizableContainers).some(packageType => allowedPackageTypes.includes(packageType))) {\r\n                dimensionElements.each(function(element) {\r\n                    $(element).addClassName('required-entry');\r\n                });\r\n            }\r\n\r\n            return result = $$('[id^=\"package_block_\"]      input').collect(function (element) {\r\n                return this.validateElement(element);\r\n            }, this).all();\r\n        },\r\n\r\n        validateElement: function (elm) {\r\n            var cn = $w(elm.className);\r\n\r\n            return result = cn.all(function (value) {\r\n                var v = Validation.get(value);\r\n\r\n                if (Validation.isVisible(elm) && !v.test($F(elm), elm)) {\r\n                    $(elm).addClassName('validation-failed');\r\n\r\n                    return false;\r\n                }\r\n                $(elm).removeClassName('validation-failed');\r\n\r\n                return true;\r\n\r\n            });\r\n        },\r\n\r\n        validateCustomsValue: function () {\r\n            var items = [];\r\n            var isValid = true;\r\n            var itemsPrepare = [];\r\n            var itemsPacked = [];\r\n\r\n            this.packagesContent.childElements().each(function (pack) {\r\n                itemsPrepare = pack.select('[data-role=\"package-items\"]')[0];\r\n\r\n                if (itemsPrepare) {\r\n                    items = items.concat(itemsPrepare.select('.grid tbody tr'));\r\n                }\r\n                itemsPacked = pack.select('.package_items')[0];\r\n\r\n                if (itemsPacked) {\r\n                    items = items.concat(itemsPacked.select('.grid tbody tr'));\r\n                }\r\n            });\r\n\r\n            items.each(function (item) {\r\n                var itemCustomsValue = item.select('[name=\"customs_value\"]')[0];\r\n\r\n                if (!this.validateElement(itemCustomsValue)) {\r\n                    isValid = false;\r\n                }\r\n            }.bind(this));\r\n\r\n            if (isValid) {\r\n                this.messages.hide().update();\r\n            } else {\r\n                this.messages.show().update(this.validationErrorMsg);\r\n            }\r\n\r\n            return isValid;\r\n        },\r\n\r\n        newPackage: function () {\r\n            var pack = this.template.cloneNode(true);\r\n\r\n            pack.id = 'package_block_' + ++this.packageIncrement;\r\n            pack.addClassName('package-block');\r\n            pack.select('[data-role=package-number]')[0].update(this.packageIncrement);\r\n            this.packagesContent.insert({\r\n                top: pack\r\n            });\r\n            pack.select('[data-action=package-save-items]')[0].hide();\r\n            pack.show();\r\n        },\r\n\r\n        deletePackage: function (obj) {\r\n            var pack = $(obj).up('[id^=\"package_block\"]');\r\n\r\n            var packItems = pack.select('.package_items')[0];\r\n            var packageId = this.getPackageId(pack);\r\n\r\n            delete this.packages[packageId];\r\n            pack.remove();\r\n            this.messages.hide().update();\r\n            this._setAllItemsPackedState();\r\n        },\r\n\r\n        deleteItem: function (obj) {\r\n            var item = $(obj).up('tr');\r\n            var itemId = item.select('[type=\"checkbox\"]')[0].value;\r\n            var pack = $(obj).up('[id^=\"package_block\"]');\r\n            var packItems = pack.select('.package_items')[0];\r\n            var packageId = this.getPackageId(pack);\r\n\r\n            delete this.packages[packageId]['items'][itemId];\r\n\r\n            if (item.offsetParent.rows.length <= 2) { /* head + this last row */\r\n                $(packItems).hide();\r\n            }\r\n            item.remove();\r\n            this.messages.hide().update();\r\n            this._recalcContainerWeightAndCustomsValue(packItems);\r\n            this._setAllItemsPackedState();\r\n        },\r\n\r\n        recalcContainerWeightAndCustomsValue: function (obj) {\r\n            var pack = $(obj).up('[id^=\"package_block\"]');\r\n            var packItems = pack.select('.package_items')[0];\r\n\r\n            if (packItems) {\r\n                if (!this.validateCustomsValue()) {\r\n                    return;\r\n                }\r\n                this._recalcContainerWeightAndCustomsValue(packItems);\r\n            }\r\n        },\r\n\r\n        getItemsForPack: function (obj) {\r\n            if (this.itemsGridUrl) {\r\n                var parameters = $H({\r\n                    'shipment_id': this.shipmentId\r\n                });\r\n                var packageBlock = $(obj).up('[id^=\"package_block\"]');\r\n                var packagePrapare = packageBlock.select('[data-role=package-items]')[0];\r\n                var packagePrapareGrid = packagePrapare.select('.grid_prepare')[0];\r\n\r\n                new Ajax.Request(this.itemsGridUrl, {\r\n                    parameters: parameters,\r\n                    onSuccess: function (transport) {\r\n                        var response = transport.responseText;\r\n\r\n                        if (response) {\r\n                            packagePrapareGrid.update(response);\r\n                            this.processPackagePrepare(packagePrapareGrid);\r\n\r\n                            if (packagePrapareGrid.select('.grid tbody tr').length) {\r\n                                packageBlock.select('[data-action=package-add-items]')[0].hide();\r\n                                packageBlock.select('[data-action=package-save-items]')[0].show();\r\n                                packagePrapare.show();\r\n                            } else {\r\n                                packagePrapareGrid.update();\r\n                            }\r\n                        }\r\n                    }.bind(this)\r\n                });\r\n            }\r\n        },\r\n\r\n        getPackedItemsQty: function () {\r\n            var items = [];\r\n\r\n            for (var packageId in this.packages) {\r\n                if (!isNaN(packageId)) {\r\n                    for (var packedItemId in this.packages[packageId]['items']) {\r\n                        if (!isNaN(packedItemId)) {\r\n                            if (items[packedItemId]) {\r\n                                items[packedItemId] += this.packages[packageId]['items'][packedItemId]['qty'];\r\n                            } else {\r\n                                items[packedItemId] = this.packages[packageId]['items'][packedItemId]['qty'];\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\n            return items;\r\n        },\r\n\r\n        _parseQty: function (obj) {\r\n            var qty = $(obj).hasClassName('qty-decimal') ? parseFloat(obj.value) : parseInt(obj.value);\r\n\r\n            if (isNaN(qty) || qty <= 0) {\r\n                qty = 1;\r\n            }\r\n\r\n            return qty;\r\n        },\r\n\r\n        packItems: function (obj) {\r\n            var anySelected = false;\r\n            var packageBlock = $(obj).up('[id^=\"package_block\"]');\r\n            var packageId = this.getPackageId(packageBlock);\r\n            var packagePrepare = packageBlock.select('[data-role=package-items]')[0];\r\n            var packagePrepareGrid = packagePrepare.select('.grid_prepare')[0];\r\n\r\n            // check for exceeds the total shipped quantity\r\n            var checkExceedsQty = false;\r\n\r\n            this.messages.hide().update();\r\n            packagePrepareGrid.select('.grid tbody tr').each(function (item) {\r\n                var checkbox = item.select('[type=\"checkbox\"]')[0];\r\n                var itemId = checkbox.value;\r\n                var qtyValue  = this._parseQty(item.select('[name=\"qty\"]')[0]);\r\n\r\n                item.select('[name=\"qty\"]')[0].value = qtyValue;\r\n\r\n                if (checkbox.checked && this._checkExceedsQty(itemId, qtyValue)) {\r\n                    this.messages.show().update(this.errorQtyOverLimit);\r\n                    checkExceedsQty = true;\r\n                }\r\n            }.bind(this));\r\n\r\n            if (checkExceedsQty) {\r\n                return;\r\n            }\r\n\r\n            if (!this.validateCustomsValue()) {\r\n                return;\r\n            }\r\n\r\n            // prepare items for packing\r\n            packagePrepareGrid.select('.grid tbody tr').each(function (item) {\r\n                var checkbox = item.select('[type=\"checkbox\"]')[0];\r\n\r\n                if (checkbox.checked) {\r\n                    var qty  = item.select('[name=\"qty\"]')[0];\r\n                    var qtyValue  = this._parseQty(qty);\r\n\r\n                    item.select('[name=\"qty\"]')[0].value = qtyValue;\r\n                    anySelected = true;\r\n                    qty.disabled = 'disabled';\r\n                    checkbox.disabled = 'disabled';\r\n                    packagePrepareGrid.select('.grid th [type=\"checkbox\"]')[0].up('th label').hide();\r\n                    item.select('[data-action=package-delete-item]')[0].show();\r\n                } else {\r\n                    item.remove();\r\n                }\r\n            }.bind(this));\r\n\r\n            // packing items\r\n            if (anySelected) {\r\n                var packItems = packageBlock.select('.package_items')[0];\r\n\r\n                if (!packItems) {\r\n                    packagePrepare.insert(new Element('div').addClassName('grid_prepare'));\r\n                    packagePrepare.insert({\r\n                        after: packagePrepareGrid\r\n                    });\r\n                    packItems = packagePrepareGrid.removeClassName('grid_prepare').addClassName('package_items');\r\n                    packItems.select('.grid tbody tr').each(function (item) {\r\n                        var itemId = item.select('[type=\"checkbox\"]')[0].value;\r\n                        var qtyValue  = parseFloat(item.select('[name=\"qty\"]')[0].value);\r\n\r\n                        qtyValue = qtyValue <= 0 ? 1 : qtyValue;\r\n\r\n                        if ('undefined' == typeof this.packages[packageId]) {\r\n                            this.packages[packageId] = {\r\n                                'items': [], 'params': {}\r\n                            };\r\n                        }\r\n\r\n                        if ('undefined' == typeof this.packages[packageId]['items'][itemId]) {\r\n                            this.packages[packageId]['items'][itemId] = {};\r\n                            this.packages[packageId]['items'][itemId]['qty'] = qtyValue;\r\n                        } else {\r\n                            this.packages[packageId]['items'][itemId]['qty'] += qtyValue;\r\n                        }\r\n                    }.bind(this));\r\n                } else {\r\n                    packagePrepareGrid.select('.grid tbody tr').each(function (item) {\r\n                        var itemId = item.select('[type=\"checkbox\"]')[0].value;\r\n                        var qtyValue  = parseFloat(item.select('[name=\"qty\"]')[0].value);\r\n\r\n                        qtyValue = qtyValue <= 0 ? 1 : qtyValue;\r\n\r\n                        if ('undefined' == typeof this.packages[packageId]['items'][itemId]) {\r\n                            this.packages[packageId]['items'][itemId] = {};\r\n                            this.packages[packageId]['items'][itemId]['qty'] = qtyValue;\r\n                            packItems.select('.grid tbody')[0].insert(item);\r\n                        } else {\r\n                            this.packages[packageId]['items'][itemId]['qty'] += qtyValue;\r\n                            var packItem = packItems.select('[type=\"checkbox\"][value=\"' + itemId + '\"]')[0].up('tr').select('[name=\"qty\"]')[0];\r\n\r\n                            packItem.value = this.packages[packageId]['items'][itemId]['qty'];\r\n                        }\r\n                    }.bind(this));\r\n                    packagePrepareGrid.update();\r\n                }\r\n                $(packItems).show();\r\n                this._recalcContainerWeightAndCustomsValue(packItems);\r\n            } else {\r\n                packagePrepareGrid.update();\r\n            }\r\n\r\n            // show/hide disable/enable\r\n            packagePrepare.hide();\r\n            packageBlock.select('[data-action=package-save-items]')[0].hide();\r\n            packageBlock.select('[data-action=package-add-items]')[0].show();\r\n            this._setAllItemsPackedState();\r\n        },\r\n\r\n        validateItemQty: function (itemId, qty) {\r\n            return this.defaultItemsQty[itemId] < qty ? this.defaultItemsQty[itemId] : qty;\r\n        },\r\n\r\n        changeMeasures: function (obj) {\r\n            var incr = 0;\r\n            var incrSelected = 0;\r\n\r\n            obj.childElements().each(function (option) {\r\n                if (option.selected) {\r\n                    incrSelected = incr;\r\n                }\r\n                incr++;\r\n            });\r\n\r\n            var packageBlock = $(obj).up('[id^=\"package_block\"]');\r\n\r\n            packageBlock.select('.measures').each(function (item) {\r\n                if (item.name != obj.name) {\r\n                    var incr = 0;\r\n\r\n                    item.select('option').each(function (option) {\r\n                        if (incr == incrSelected) {\r\n                            item.value = option.value;\r\n                            //option.selected = true\r\n                        }\r\n                        incr++;\r\n                    });\r\n                }\r\n            });\r\n\r\n        },\r\n\r\n        checkSizeAndGirthParameter: function (obj, enabled) {\r\n            if (enabled == 0) {\r\n                return;\r\n            }\r\n            var currentNode = obj;\r\n\r\n            while (currentNode.nodeName != 'TBODY') {\r\n                currentNode = currentNode.parentNode;\r\n            }\r\n\r\n            if (!currentNode) {\r\n                return;\r\n            }\r\n\r\n            var packageSize = currentNode.select('select[name=package_size]');\r\n            var packageContainer = currentNode.select('select[name=package_container]');\r\n            var packageGirth = currentNode.select('input[name=container_girth]');\r\n            var packageGirthDimensionUnits = currentNode.select('select[name=container_girth_dimension_units]');\r\n\r\n            if (packageSize.length <= 0) {\r\n                return;\r\n            }\r\n\r\n            var girthEnabled = packageContainer[0].value == 'NONRECTANGULAR' || packageContainer[0].value == 'VARIABLE';\r\n\r\n            if (!girthEnabled) {\r\n                packageGirth[0].value = '';\r\n                packageGirth[0].disable();\r\n                packageGirth[0].addClassName('_disabled');\r\n                packageGirthDimensionUnits[0].disable();\r\n                packageGirthDimensionUnits[0].addClassName('_disabled');\r\n            } else {\r\n                packageGirth[0].enable();\r\n                packageGirth[0].removeClassName('_disabled');\r\n                packageGirthDimensionUnits[0].enable();\r\n                packageGirthDimensionUnits[0].removeClassName('_disabled');\r\n            }\r\n\r\n            var sizeEnabled = packageContainer[0].value == 'NONRECTANGULAR' || packageContainer[0].value == 'RECTANGULAR' ||\r\n                packageContainer[0].value == 'VARIABLE';\r\n\r\n            if (!sizeEnabled) {\r\n                option = document.createElement('OPTION');\r\n                option.value = '';\r\n                option.text = '';\r\n                packageSize[0].options.add(option);\r\n                packageSize[0].value = '';\r\n                packageSize[0].disable();\r\n                packageSize[0].addClassName('_disabled');\r\n            } else {\r\n                for (i = 0; i < packageSize[0].length; i++) {\r\n                    if (packageSize[0].options[i].value == '') {\r\n                        packageSize[0].removeChild(packageSize[0].options[i]);\r\n                    }\r\n                }\r\n                packageSize[0].enable();\r\n                packageSize[0].removeClassName('_disabled');\r\n            }\r\n        },\r\n\r\n        changeContainerType: function (obj) {\r\n            if (this.customizableContainers.length <= 0) {\r\n                return;\r\n            }\r\n\r\n            var disable = true;\r\n\r\n            for (var i in this.customizableContainers) {\r\n                if (this.customizableContainers[i] == obj.value) {\r\n                    disable = false;\r\n                    break;\r\n                }\r\n            }\r\n\r\n            var currentNode = obj;\r\n\r\n            while (currentNode.nodeName != 'TBODY') {\r\n                currentNode = currentNode.parentNode;\r\n            }\r\n\r\n            if (!currentNode) {\r\n                return;\r\n            }\r\n\r\n            $(currentNode).select(\r\n                'input[name=container_length],input[name=container_width],input[name=container_height],select[name=container_dimension_units]'\r\n            ).each(function (inputElement) {\r\n                if (disable) {\r\n                    Form.Element.disable(inputElement);\r\n                    inputElement.addClassName('_disabled');\r\n\r\n                    if (inputElement.nodeName == 'INPUT') {\r\n                        $(inputElement).value = '';\r\n                    }\r\n                } else {\r\n                    Form.Element.enable(inputElement);\r\n                    inputElement.removeClassName('_disabled');\r\n                }\r\n            });\r\n        },\r\n\r\n        changeContentTypes: function (obj) {\r\n            var packageBlock = $(obj).up('[id^=\"package_block\"]');\r\n            var contentType = packageBlock.select('[name=content_type]')[0];\r\n            var contentTypeOther = packageBlock.select('[name=content_type_other]')[0];\r\n\r\n            if (contentType.value == 'OTHER') {\r\n                Form.Element.enable(contentTypeOther);\r\n                contentTypeOther.removeClassName('_disabled');\r\n            } else {\r\n                Form.Element.disable(contentTypeOther);\r\n                contentTypeOther.addClassName('_disabled');\r\n            }\r\n\r\n        },\r\n\r\n        //******************** Private functions **********************************//\r\n        _getItemsCount: function (items) {\r\n            var count = 0;\r\n\r\n            items.each(function (itemCount) {\r\n                if (!isNaN(itemCount)) {\r\n                    count += parseFloat(itemCount);\r\n                }\r\n            });\r\n\r\n            return count;\r\n        },\r\n\r\n        /**\r\n         * Show/hide disable/enable buttons in case of all items packed state\r\n         */\r\n        _setAllItemsPackedState: function () {\r\n            var addPackageBtn = $$('[data-action=add-packages]')[0];\r\n            var savePackagesBtn = $$('[data-action=save-packages]')[0];\r\n\r\n            if (this._getItemsCount(this.itemsAll) > 0 &&\r\n                    this._checkExceedsQtyFinal(this._getItemsCount(this.getPackedItemsQty()), this._getItemsCount(this.itemsAll))\r\n            ) {\r\n                this.packagesContent.select('[data-action=package-add-items]').each(function (button) {\r\n                    button.disabled = 'disabled';\r\n                    button.addClassName('_disabled');\r\n                });\r\n                addPackageBtn.addClassName('_disabled');\r\n                Form.Element.disable(addPackageBtn);\r\n                savePackagesBtn.removeClassName('_disabled');\r\n                Form.Element.enable(savePackagesBtn);\r\n                savePackagesBtn.title = '';\r\n\r\n                // package number recalculation\r\n                var packagesRecalc = [];\r\n\r\n                this.packagesContent.childElements().each(function (pack) {\r\n                    if (!pack.select('.package_items .grid tbody tr').length) {\r\n                        pack.remove();\r\n                    }\r\n                });\r\n                var packagesCount = this.packagesContent.childElements().length;\r\n\r\n                this.packageIncrement = packagesCount;\r\n                this.packagesContent.childElements().each(function (pack) {\r\n                    var packageId = this.getPackageId(pack);\r\n\r\n                    pack.id = 'package_block_' + packagesCount;\r\n                    pack.select('[data-role=package-number]')[0].update(packagesCount);\r\n                    packagesRecalc[packagesCount] = this.packages[packageId];\r\n                    --packagesCount;\r\n                }.bind(this));\r\n                this.packages = packagesRecalc;\r\n\r\n            } else {\r\n                this.packagesContent.select('[data-action=package-add-items]').each(function (button) {\r\n                    button.removeClassName('_disabled');\r\n                    Form.Element.enable(button);\r\n                });\r\n                addPackageBtn.removeClassName('_disabled');\r\n                Form.Element.enable(addPackageBtn);\r\n                savePackagesBtn.addClassName('_disabled');\r\n                Form.Element.disable(savePackagesBtn);\r\n                savePackagesBtn.title = this.titleDisabledSaveBtn;\r\n            }\r\n        },\r\n\r\n        processPackagePrepare: function (packagePrepare) {\r\n            var itemsAll = [],\r\n                qty,\r\n                itemId,\r\n                qtyValue = 0,\r\n                value = 1;\r\n\r\n            packagePrepare.select('.grid tbody tr').each(function (item) {\r\n                qty = item.select('[name=\"qty\"]')[0],\r\n                    itemId = item.select('[type=\"checkbox\"]')[0].value,\r\n                    qtyValue = parseFloat(qty.value);\r\n\r\n                if (Object.isFunction(this.itemQtyCallback)) {\r\n                    value = this.itemQtyCallback(itemId);\r\n\r\n                    if (typeof value !== 'undefined') {\r\n                        qtyValue = parseFloat(value);\r\n                        qtyValue = this.validateItemQty(itemId, qtyValue);\r\n                        qty.value = qtyValue;\r\n                    }\r\n                } else {\r\n                    value = item.select('[name=\"qty\"]')[0].value;\r\n                    qtyValue = typeof value == 'string' && value.length == 0 ? 0 : parseFloat(value);\r\n\r\n                    if (isNaN(qtyValue) || qtyValue < 0) {\r\n                        qtyValue = 1;\r\n                    }\r\n                }\r\n\r\n                if (qtyValue == 0) {\r\n                    item.remove();\r\n\r\n                    return;\r\n                }\r\n                var packedItems = this.getPackedItemsQty();\r\n\r\n                itemsAll[itemId] = qtyValue;\r\n\r\n                for (var packedItemId in packedItems) {\r\n                    if (!isNaN(packedItemId)) {\r\n                        var packedQty = packedItems[packedItemId];\r\n\r\n                        if (itemId == packedItemId) {\r\n                            if (qtyValue == packedQty || qtyValue <= packedQty) {\r\n                                item.remove();\r\n                            } else if (qtyValue > packedQty) {\r\n                                /* fix float number precision */\r\n                                qty.value = Number(Number(Math.round(qtyValue - packedQty + 'e+4') + 'e-4').toFixed(4));\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }.bind(this));\r\n\r\n            if (!this.itemsAll.length) {\r\n                this.itemsAll = itemsAll;\r\n            }\r\n\r\n            packagePrepare.select('tbody input[type=\"checkbox\"]').each(function (item) {\r\n                $(item).observe('change', this._observeQty);\r\n                this._observeQty.call(item);\r\n            }.bind(this));\r\n        },\r\n\r\n        _observeQty: function () {\r\n            /** this = input[type=\"checkbox\"] */\r\n            var tr  = jQuery(this).closest('tr')[0],\r\n                qty = $(tr.cells[tr.cells.length - 1]).select('input[name=\"qty\"]')[0];\r\n\r\n            if (qty.disabled = !this.checked) {\r\n                $(qty).addClassName('_disabled');\r\n            } else {\r\n                $(qty).removeClassName('_disabled');\r\n            }\r\n        },\r\n\r\n        _checkExceedsQty: function (itemId, qty) {\r\n            var packedItemQty = this.getPackedItemsQty()[itemId] ? this.getPackedItemsQty()[itemId] : 0;\r\n            var allItemQty = this.itemsAll[itemId];\r\n\r\n            return qty * (1 - this.eps) > allItemQty *  (1 + this.eps)  - packedItemQty * (1 - this.eps);\r\n        },\r\n\r\n        _checkExceedsQtyFinal: function (checkOne, defQty) {\r\n            return checkOne * (1 + this.eps) >= defQty * (1 - this.eps);\r\n        },\r\n\r\n        _recalcContainerWeightAndCustomsValue: function (container) {\r\n            var packageBlock = container.up('[id^=\"package_block\"]');\r\n            var packageId = this.getPackageId(packageBlock);\r\n            var containerWeight = packageBlock.select('[name=\"container_weight\"]')[0];\r\n            var containerCustomsValue = packageBlock.select('[name=\"package_customs_value\"]')[0];\r\n\r\n            containerWeight.value = 0;\r\n            containerCustomsValue.value = 0;\r\n            container.select('.grid tbody tr').each(function (item) {\r\n                var itemId = item.select('[type=\"checkbox\"]')[0].value;\r\n                var qtyValue  = parseFloat(item.select('[name=\"qty\"]')[0].value);\r\n\r\n                if (isNaN(qtyValue) || qtyValue <= 0) {\r\n                    qtyValue = 1;\r\n                    item.select('[name=\"qty\"]')[0].value = qtyValue;\r\n                }\r\n                var itemWeight = parseFloat(this._getElementText(item.select('[data-role=item-weight]')[0]));\r\n\r\n                containerWeight.value = parseFloat(containerWeight.value) + itemWeight * qtyValue;\r\n                var itemCustomsValue = parseFloat(item.select('[name=\"customs_value\"]')[0].value) || 0;\r\n\r\n                containerCustomsValue.value = parseFloat(containerCustomsValue.value) + itemCustomsValue * qtyValue;\r\n                this.packages[packageId]['items'][itemId]['customs_value'] = itemCustomsValue;\r\n            }.bind(this));\r\n            containerWeight.value = parseFloat(parseFloat(Math.round(containerWeight.value + 'e+4') + 'e-4').toFixed(4));\r\n            containerCustomsValue.value = parseFloat(Math.round(containerCustomsValue.value + 'e+2') + 'e-2').toFixed(2);\r\n\r\n            if (containerCustomsValue.value == 0) {\r\n                containerCustomsValue.value = '';\r\n            }\r\n        },\r\n\r\n        _getElementText: function (el) {\r\n            if ('string' == typeof el.textContent) {\r\n                return el.textContent;\r\n            }\r\n\r\n            if ('string' == typeof el.innerText) {\r\n                return el.innerText;\r\n            }\r\n\r\n            return el.innerHTML.replace(/<[^>]*>/g, '');\r\n        }\r\n        //******************** End Private functions ******************************//\r\n    };\r\n\r\n});\r\n","Magento_Sitemap/js/form-submit-loader.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\ndefine([\r\n    'jquery'\r\n], function ($) {\r\n    'use strict';\r\n\r\n    return function (data, element) {\r\n\r\n        $(element).on('save', function () {\r\n            if ($(this).valid()) {\r\n                $('body').trigger('processStart');\r\n            }\r\n        });\r\n    };\r\n});\r\n","Magento_Swatches/js/product-attributes.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\n/**\r\n * @api\r\n */\r\ndefine([\r\n    'jquery',\r\n    'Magento_Ui/js/modal/alert',\r\n    'Magento_Ui/js/modal/prompt',\r\n    'uiRegistry',\r\n    'collapsable'\r\n], function ($, alert, prompt, rg) {\r\n    'use strict';\r\n\r\n    return function (optionConfig) {\r\n        var activePanelClass = 'selected-type-options',\r\n            swatchProductAttributes = {\r\n                frontendInput: $('#frontend_input'),\r\n                isFilterable: $('#is_filterable'),\r\n                isFilterableInSearch: $('#is_filterable_in_search'),\r\n                backendType: $('#backend_type'),\r\n                usedForSortBy: $('#used_for_sort_by'),\r\n                frontendClass: $('#frontend_class'),\r\n                isWysiwygEnabled: $('#is_wysiwyg_enabled'),\r\n                isHtmlAllowedOnFront: $('#is_html_allowed_on_front'),\r\n                isRequired: $('#is_required'),\r\n                isUnique: $('#is_unique'),\r\n                defaultValueText: $('#default_value_text'),\r\n                defaultValueTextarea: $('#default_value_textarea'),\r\n                defaultValueDate: $('#default_value_date'),\r\n                defaultValueDatetime: $('#default_value_datetime'),\r\n                defaultValueYesno: $('#default_value_yesno'),\r\n                isGlobal: $('#is_global'),\r\n                useProductImageForSwatch: $('#use_product_image_for_swatch'),\r\n                updateProductPreviewImage: $('#update_product_preview_image'),\r\n                usedInProductListing: $('#used_in_product_listing'),\r\n                isVisibleOnFront: $('#is_visible_on_front'),\r\n                position: $('#position'),\r\n                attrTabsFront: $('#product_attribute_tabs_front'),\r\n\r\n                /**\r\n                 * @returns {*|jQuery|HTMLElement}\r\n                 */\r\n                get tabsFront() {\r\n                    return this.attrTabsFront.length ? this.attrTabsFront.closest('li') : $('#front_fieldset-wrapper');\r\n                },\r\n                selectFields: ['boolean', 'select', 'multiselect', 'price', 'swatch_text', 'swatch_visual'],\r\n\r\n                /**\r\n                 * @this {swatchProductAttributes}\r\n                 */\r\n                toggleApplyVisibility: function (select) {\r\n                    if ($(select).val() === 1) {\r\n                        $(select).next('select').removeClass('no-display');\r\n                        $(select).next('select').removeClass('ignore-validate');\r\n                    } else {\r\n                        $(select).next('select').addClass('no-display');\r\n                        $(select).next('select').addClass('ignore-validate');\r\n                        $(select).next('select option:selected').each(function () {\r\n                            this.selected = false;\r\n                        });\r\n                    }\r\n                },\r\n\r\n                /**\r\n                 * @this {swatchProductAttributes}\r\n                 */\r\n                checkOptionsPanelVisibility: function () {\r\n                    var selectOptionsPanel = $('#manage-options-panel'),\r\n                        visualOptionsPanel = $('#swatch-visual-options-panel'),\r\n                        textOptionsPanel = $('#swatch-text-options-panel');\r\n\r\n                    this._hidePanel(selectOptionsPanel);\r\n                    this._hidePanel(visualOptionsPanel);\r\n                    this._hidePanel(textOptionsPanel);\r\n\r\n                    switch (this.frontendInput.val()) {\r\n                        case 'swatch_visual':\r\n                            this._showPanel(visualOptionsPanel);\r\n                            break;\r\n\r\n                        case 'swatch_text':\r\n                            this._showPanel(textOptionsPanel);\r\n                            break;\r\n\r\n                        case 'select':\r\n                        case 'multiselect':\r\n                            this._showPanel(selectOptionsPanel);\r\n                            break;\r\n                    }\r\n                },\r\n\r\n                /**\r\n                 * @this {swatchProductAttributes}\r\n                 */\r\n                bindAttributeInputType: function () {\r\n                    this.checkOptionsPanelVisibility();\r\n                    this.switchDefaultValueField();\r\n\r\n                    if (!~$.inArray(this.frontendInput.val(), this.selectFields)) {\r\n                        // not in array\r\n                        this.isFilterable.selectedIndex = 0;\r\n                        this._disable(this.isFilterable);\r\n                        this._disable(this.isFilterableInSearch);\r\n                    } else {\r\n                        // in array\r\n                        this._enable(this.isFilterable);\r\n                        this._enable(this.isFilterableInSearch);\r\n                        this.backendType.val('int');\r\n                    }\r\n\r\n                    if (this.frontendInput.val() === 'multiselect' ||\r\n                        this.frontendInput.val() === 'gallery' ||\r\n                        this.frontendInput.val() === 'textarea'\r\n                    ) {\r\n                        this._disable(this.usedForSortBy);\r\n                    } else {\r\n                        this._enable(this.usedForSortBy);\r\n                    }\r\n\r\n                    if (this.frontendInput.val() === 'swatch_text') {\r\n                        $('.swatch-text-field-0').addClass('required-option');\r\n                    } else {\r\n                        $('.swatch-text-field-0').removeClass('required-option');\r\n                    }\r\n\r\n                    this.setRowVisibility(this.isWysiwygEnabled, false);\r\n                    this.setRowVisibility(this.isHtmlAllowedOnFront, false);\r\n\r\n                    switch (this.frontendInput.val()) {\r\n                        case 'textarea':\r\n                            this.setRowVisibility(this.isWysiwygEnabled, true);\r\n\r\n                            if (this.isWysiwygEnabled.val() === '0') {\r\n                                this._enable(this.isHtmlAllowedOnFront);\r\n                            }\r\n                            this.frontendClass.val('');\r\n                            this._disable(this.frontendClass);\r\n                            break;\r\n\r\n                        case 'text':\r\n                            this.setRowVisibility(this.isHtmlAllowedOnFront, true);\r\n                            this._enable(this.frontendClass);\r\n                            break;\r\n\r\n                        case 'select':\r\n                        case 'multiselect':\r\n                            this.setRowVisibility(this.isHtmlAllowedOnFront, true);\r\n                            this.frontendClass.val('');\r\n                            this._disable(this.frontendClass);\r\n                            break;\r\n                        default:\r\n                            this.frontendClass.val('');\r\n                            this._disable(this.frontendClass);\r\n                    }\r\n\r\n                    this.switchIsFilterable();\r\n                },\r\n\r\n                /**\r\n                 * @this {swatchProductAttributes}\r\n                 */\r\n                switchIsFilterable: function () {\r\n                    if (this.isFilterable.selectedIndex === 0) {\r\n                        this._disable(this.position);\r\n                    } else {\r\n                        this._enable(this.position);\r\n                    }\r\n                },\r\n\r\n                /**\r\n                 * @this {swatchProductAttributes}\r\n                 */\r\n                switchDefaultValueField: function () {\r\n                    var currentValue = this.frontendInput.val(),\r\n                        defaultValueTextVisibility = false,\r\n                        defaultValueTextareaVisibility = false,\r\n                        defaultValueDateVisibility = false,\r\n                        defaultValueDatetimeVisibility = false,\r\n                        defaultValueYesnoVisibility = false,\r\n                        scopeVisibility = true,\r\n                        useProductImageForSwatch = false,\r\n                        defaultValueUpdateImage = false,\r\n                        optionDefaultInputType = '',\r\n                        isFrontTabHidden = false,\r\n                        thing = this;\r\n\r\n                    if (!this.frontendInput.length) {\r\n                        return;\r\n                    }\r\n\r\n                    switch (currentValue) {\r\n                        case 'select':\r\n                            optionDefaultInputType = 'radio';\r\n                            break;\r\n\r\n                        case 'multiselect':\r\n                            optionDefaultInputType = 'checkbox';\r\n                            break;\r\n\r\n                        case 'date':\r\n                            defaultValueDateVisibility = true;\r\n                            break;\r\n\r\n                        case 'datetime':\r\n                            defaultValueDatetimeVisibility = true;\r\n                            break;\r\n\r\n                        case 'boolean':\r\n                            defaultValueYesnoVisibility = true;\r\n                            break;\r\n\r\n                        case 'textarea':\r\n                        case 'texteditor':\r\n                            defaultValueTextareaVisibility = true;\r\n                            break;\r\n\r\n                        case 'media_image':\r\n                            defaultValueTextVisibility = false;\r\n                            break;\r\n\r\n                        case 'price':\r\n                            scopeVisibility = false;\r\n                            break;\r\n\r\n                        case 'swatch_visual':\r\n                            useProductImageForSwatch = true;\r\n                            defaultValueUpdateImage = true;\r\n                            defaultValueTextVisibility = false;\r\n                            break;\r\n\r\n                        case 'swatch_text':\r\n                            useProductImageForSwatch = false;\r\n                            defaultValueUpdateImage = true;\r\n                            defaultValueTextVisibility = false;\r\n                            break;\r\n                        default:\r\n                            defaultValueTextVisibility = true;\r\n                            break;\r\n                    }\r\n\r\n                    delete optionConfig.hiddenFields['swatch_visual'];\r\n                    delete optionConfig.hiddenFields['swatch_text'];\r\n\r\n                    if (currentValue === 'media_image') {\r\n                        this.tabsFront.hide();\r\n                        this.setRowVisibility(this.isRequired, false);\r\n                        this.setRowVisibility(this.isUnique, false);\r\n                        this.setRowVisibility(this.frontendClass, false);\r\n                    } else if (optionConfig.hiddenFields[currentValue]) {\r\n                        $.each(optionConfig.hiddenFields[currentValue], function (key, option) {\r\n                            switch (option) {\r\n                                case '_front_fieldset':\r\n                                    thing.tabsFront.hide();\r\n                                    isFrontTabHidden = true;\r\n                                    break;\r\n\r\n                                case '_default_value':\r\n                                    defaultValueTextVisibility = false;\r\n                                    defaultValueTextareaVisibility = false;\r\n                                    defaultValueDateVisibility = false;\r\n                                    defaultValueDatetimeVisibility = false;\r\n                                    defaultValueYesnoVisibility = false;\r\n                                    break;\r\n\r\n                                case '_scope':\r\n                                    scopeVisibility = false;\r\n                                    break;\r\n                                default:\r\n                                    thing.setRowVisibility($('#' + option), false);\r\n                            }\r\n                        });\r\n\r\n                        if (!isFrontTabHidden) {\r\n                            thing.tabsFront.show();\r\n                        }\r\n\r\n                    } else {\r\n                        this.tabsFront.show();\r\n                        this.showDefaultRows();\r\n                    }\r\n\r\n                    this.setRowVisibility(this.defaultValueText, defaultValueTextVisibility);\r\n                    this.setRowVisibility(this.defaultValueTextarea, defaultValueTextareaVisibility);\r\n                    this.setRowVisibility(this.defaultValueDate, defaultValueDateVisibility);\r\n                    this.setRowVisibility(this.defaultValueDatetime, defaultValueDatetimeVisibility);\r\n                    this.setRowVisibility(this.defaultValueYesno, defaultValueYesnoVisibility);\r\n                    this.setRowVisibility(this.isGlobal, scopeVisibility);\r\n\r\n                    /* swatch attributes */\r\n                    this.setRowVisibility(this.useProductImageForSwatch, useProductImageForSwatch);\r\n                    this.setRowVisibility(this.updateProductPreviewImage, defaultValueUpdateImage);\r\n\r\n                    $('input[name=\\'default[]\\']').each(function () {\r\n                        $(this).attr('type', optionDefaultInputType);\r\n                    });\r\n                },\r\n\r\n                /**\r\n                 * @this {swatchProductAttributes}\r\n                 */\r\n                showDefaultRows: function () {\r\n                    this.setRowVisibility(this.isRequired, true);\r\n                    this.setRowVisibility(this.isUnique, true);\r\n                    this.setRowVisibility(this.frontendClass, true);\r\n                },\r\n\r\n                /**\r\n                 * @param {Object} el\r\n                 * @param {Boolean} isVisible\r\n                 * @this {swatchProductAttributes}\r\n                 */\r\n                setRowVisibility: function (el, isVisible) {\r\n                    if (isVisible) {\r\n                        el.show();\r\n                        el.closest('.field').show();\r\n                    } else {\r\n                        el.hide();\r\n                        el.closest('.field').hide();\r\n                    }\r\n                },\r\n\r\n                /**\r\n                 * @param {Object} el\r\n                 * @this {swatchProductAttributes}\r\n                 */\r\n                _disable: function (el) {\r\n                    el.attr('disabled', 'disabled');\r\n                },\r\n\r\n                /**\r\n                 * @param {jQuery} el\r\n                 * @this {swatchProductAttributes}\r\n                 */\r\n                _enable: function (el) {\r\n                    if (!el.attr('readonly')) {\r\n                        el.prop('disabled', false);\r\n                    }\r\n                },\r\n\r\n                /**\r\n                 * @param {Object} el\r\n                 * @this {swatchProductAttributes}\r\n                 */\r\n                _showPanel: function (el) {\r\n                    el.closest('.fieldset').show();\r\n                    el.addClass(activePanelClass);\r\n                    this._render(el.attr('id'));\r\n                },\r\n\r\n                /**\r\n                 * @param {Object} el\r\n                 * @this {swatchProductAttributes}\r\n                 */\r\n                _hidePanel: function (el) {\r\n                    el.closest('.fieldset').hide();\r\n                    el.removeClass(activePanelClass);\r\n                },\r\n\r\n                /**\r\n                 * @param {String} id\r\n                 * @this {swatchProductAttributes}\r\n                 */\r\n                _render: function (id) {\r\n                    rg.get(id, function () {\r\n                        $('#' + id).trigger('render');\r\n                    });\r\n                },\r\n\r\n                /**\r\n                 * @param {String} promptMessage\r\n                 * @this {swatchProductAttributes}\r\n                 */\r\n                saveAttributeInNewSet: function (promptMessage) {\r\n\r\n                    prompt({\r\n                        content: promptMessage,\r\n                        actions: {\r\n\r\n                            /**\r\n                             * @param {String} val\r\n                             * @this {actions}\r\n                             */\r\n                            confirm: function (val) {\r\n                                var rules = ['required-entry', 'validate-no-html-tags'],\r\n                                    newAttributeSetNameInputId = $('#new_attribute_set_name'),\r\n                                    editForm = $('#edit_form'),\r\n                                    newAttributeSetName = val,\r\n                                    i;\r\n\r\n                                if (!newAttributeSetName) {\r\n                                    return;\r\n                                }\r\n\r\n                                for (i = 0; i < rules.length; i++) {\r\n                                    if (!$.validator.methods[rules[i]](newAttributeSetName)) {\r\n                                        alert({\r\n                                            content: $.validator.messages[rules[i]]\r\n                                        });\r\n\r\n                                        return;\r\n                                    }\r\n                                }\r\n\r\n                                if (newAttributeSetNameInputId.length) {\r\n                                    newAttributeSetNameInputId.val(newAttributeSetName);\r\n                                } else {\r\n                                    editForm.append(new Element('input', {\r\n                                            type: 'hidden',\r\n                                            id: newAttributeSetNameInputId,\r\n                                            name: 'new_attribute_set_name',\r\n                                            value: newAttributeSetName\r\n                                        })\r\n                                    );\r\n                                }\r\n                                // Temporary solution will replaced after refactoring of attributes functionality\r\n                                editForm.triggerHandler('save');\r\n                            }\r\n                        }\r\n                    });\r\n                }\r\n            };\r\n\r\n        $(function () {\r\n            var editForm = $('#edit_form'),\r\n                swatchVisualPanel = $('#swatch-visual-options-panel'),\r\n                swatchTextPanel = $('#swatch-text-options-panel'),\r\n                tableBody = $(),\r\n                activePanel = $();\r\n\r\n            $('#frontend_input').on('change', function () {\r\n                swatchProductAttributes.bindAttributeInputType();\r\n            });\r\n            $('#is_filterable').on('change', function () {\r\n                swatchProductAttributes.switchIsFilterable();\r\n            });\r\n\r\n            swatchProductAttributes.bindAttributeInputType();\r\n\r\n            // @todo: refactor collapsible component\r\n            $('.attribute-popup .collapse, [data-role=\"advanced_fieldset-content\"]')\r\n                .collapsable()\r\n                .collapse('hide');\r\n\r\n            editForm.on('beforeSubmit', function () {\r\n                var optionContainer, optionsValues;\r\n\r\n                activePanel = swatchTextPanel.hasClass(activePanelClass) ? swatchTextPanel : swatchVisualPanel;\r\n                optionContainer = activePanel.find('table tbody');\r\n\r\n                if (activePanel.hasClass(activePanelClass)) {\r\n                    optionsValues = $.map(\r\n                        optionContainer.find('tr'),\r\n                        function (row) {\r\n                            return $(row).find('input, select, textarea').serialize();\r\n                        }\r\n                    );\r\n                    $('<input>')\r\n                        .attr({\r\n                            type: 'hidden',\r\n                            name: 'serialized_options'\r\n                        })\r\n                        .val(JSON.stringify(optionsValues))\r\n                        .prependTo(editForm);\r\n                }\r\n\r\n                tableBody = optionContainer.detach();\r\n            });\r\n\r\n            editForm.on('afterValidate.error highlight.validate', function () {\r\n                if (activePanel.hasClass(activePanelClass)) {\r\n                    activePanel.find('table').append(tableBody);\r\n                    $('input[name=\"serialized_options\"]').remove();\r\n                }\r\n            });\r\n        });\r\n\r\n        window.saveAttributeInNewSet = swatchProductAttributes.saveAttributeInNewSet;\r\n        window.toggleApplyVisibility = swatchProductAttributes.toggleApplyVisibility;\r\n    };\r\n});\r\n","Magento_Swatches/js/swatch-renderer.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\ndefine([\r\n    'jquery',\r\n    'underscore',\r\n    'mage/template',\r\n    'mage/smart-keyboard-handler',\r\n    'mage/translate',\r\n    'priceUtils',\r\n    'jquery-ui-modules/widget',\r\n    'jquery/jquery.parsequery',\r\n    'mage/validation/validation'\r\n], function ($, _, mageTemplate, keyboardHandler, $t, priceUtils) {\r\n    'use strict';\r\n\r\n    /**\r\n     * Extend form validation to support swatch accessibility\r\n     */\r\n    $.widget('mage.validation', $.mage.validation, {\r\n        /**\r\n         * Handle form with swatches validation. Focus on first invalid swatch block.\r\n         *\r\n         * @param {jQuery.Event} event\r\n         * @param {Object} validation\r\n         */\r\n        listenFormValidateHandler: function (event, validation) {\r\n            var swatchWrapper, firstActive, swatches, swatch, successList, errorList, firstSwatch;\r\n\r\n            this._superApply(arguments);\r\n\r\n            swatchWrapper = '.swatch-attribute-options';\r\n            swatches = $(event.target).find(swatchWrapper);\r\n\r\n            if (!swatches.length) {\r\n                return;\r\n            }\r\n\r\n            swatch = '.swatch-attribute';\r\n            firstActive = $(validation.errorList[0].element || []);\r\n            successList = validation.successList;\r\n            errorList = validation.errorList;\r\n            firstSwatch = $(firstActive).parent(swatch).find(swatchWrapper);\r\n\r\n            keyboardHandler.focus(swatches);\r\n\r\n            $.each(successList, function (index, item) {\r\n                $(item).parent(swatch).find(swatchWrapper).attr('aria-invalid', false);\r\n            });\r\n\r\n            $.each(errorList, function (index, item) {\r\n                $(item.element).parent(swatch).find(swatchWrapper).attr('aria-invalid', true);\r\n            });\r\n\r\n            if (firstSwatch.length) {\r\n                $(firstSwatch).trigger('focus');\r\n            }\r\n        }\r\n    });\r\n\r\n    /**\r\n     * Render tooltips by attributes (only to up).\r\n     * Required element attributes:\r\n     *  - data-option-type (integer, 0-3)\r\n     *  - data-option-label (string)\r\n     *  - data-option-tooltip-thumb\r\n     *  - data-option-tooltip-value\r\n     *  - data-thumb-width\r\n     *  - data-thumb-height\r\n     */\r\n    $.widget('mage.SwatchRendererTooltip', {\r\n        options: {\r\n            delay: 200,                             //how much ms before tooltip to show\r\n            tooltipClass: 'swatch-option-tooltip'  //configurable, but remember about css\r\n        },\r\n\r\n        /**\r\n         * @private\r\n         */\r\n        _init: function () {\r\n            var $widget = this,\r\n                $this = this.element,\r\n                $element = $('.' + $widget.options.tooltipClass),\r\n                timer,\r\n                type = parseInt($this.data('option-type'), 10),\r\n                label = $this.data('option-label'),\r\n                thumb = $this.data('option-tooltip-thumb'),\r\n                value = $this.data('option-tooltip-value'),\r\n                width = $this.data('thumb-width'),\r\n                height = $this.data('thumb-height'),\r\n                $image,\r\n                $title,\r\n                $corner;\r\n\r\n            if (!$element.length) {\r\n                $element = $('<div class=\"' +\r\n                    $widget.options.tooltipClass +\r\n                    '\"><div class=\"image\"></div><div class=\"title\"></div><div class=\"corner\"></div></div>'\r\n                );\r\n                $('body').append($element);\r\n            }\r\n\r\n            $image = $element.find('.image');\r\n            $title = $element.find('.title');\r\n            $corner = $element.find('.corner');\r\n\r\n            $this.on('mouseenter', function () {\r\n                if (!$this.hasClass('disabled')) {\r\n                    timer = setTimeout(\r\n                        function () {\r\n                            var leftOpt = null,\r\n                                leftCorner = 0,\r\n                                left,\r\n                                $window;\r\n\r\n                            if (type === 2) {\r\n                                // Image\r\n                                $image.css({\r\n                                    'background': 'url(\"' + thumb + '\") no-repeat center', //Background case\r\n                                    'background-size': 'initial',\r\n                                    'width': width + 'px',\r\n                                    'height': height + 'px'\r\n                                });\r\n                                $image.show();\r\n                            } else if (type === 1) {\r\n                                // Color\r\n                                $image.css({\r\n                                    background: value\r\n                                });\r\n                                $image.show();\r\n                            } else if (type === 0 || type === 3) {\r\n                                // Default\r\n                                $image.hide();\r\n                            }\r\n\r\n                            $title.text(label);\r\n\r\n                            leftOpt = $this.offset().left;\r\n                            left = leftOpt + $this.width() / 2 - $element.width() / 2;\r\n                            $window = $(window);\r\n\r\n                            // the numbers (5 and 5) is magick constants for offset from left or right page\r\n                            if (left < 0) {\r\n                                left = 5;\r\n                            } else if (left + $element.width() > $window.width()) {\r\n                                left = $window.width() - $element.width() - 5;\r\n                            }\r\n\r\n                            // the numbers (6,  3 and 18) is magick constants for offset tooltip\r\n                            leftCorner = 0;\r\n\r\n                            if ($element.width() < $this.width()) {\r\n                                leftCorner = $element.width() / 2 - 3;\r\n                            } else {\r\n                                leftCorner = (leftOpt > left ? leftOpt - left : left - leftOpt) + $this.width() / 2 - 6;\r\n                            }\r\n\r\n                            $corner.css({\r\n                                left: leftCorner\r\n                            });\r\n                            $element.css({\r\n                                left: left,\r\n                                top: $this.offset().top - $element.height() - $corner.height() - 18\r\n                            }).show();\r\n                        },\r\n                        $widget.options.delay\r\n                    );\r\n                }\r\n            });\r\n\r\n            $this.on('mouseleave', function () {\r\n                $element.hide();\r\n                clearTimeout(timer);\r\n            });\r\n\r\n            $(document).on('tap', function () {\r\n                $element.hide();\r\n                clearTimeout(timer);\r\n            });\r\n\r\n            $this.on('tap', function (event) {\r\n                event.stopPropagation();\r\n            });\r\n        }\r\n    });\r\n\r\n    /**\r\n     * Render swatch controls with options and use tooltips.\r\n     * Required two json:\r\n     *  - jsonConfig (magento's option config)\r\n     *  - jsonSwatchConfig (swatch's option config)\r\n     *\r\n     *  Tuning:\r\n     *  - numberToShow (show \"more\" button if options are more)\r\n     *  - onlySwatches (hide selectboxes)\r\n     *  - moreButtonText (text for \"more\" button)\r\n     *  - selectorProduct (selector for product container)\r\n     *  - selectorProductPrice (selector for change price)\r\n     */\r\n    $.widget('mage.SwatchRenderer', {\r\n        options: {\r\n            classes: {\r\n                attributeClass: 'swatch-attribute',\r\n                attributeLabelClass: 'swatch-attribute-label',\r\n                attributeSelectedOptionLabelClass: 'swatch-attribute-selected-option',\r\n                attributeOptionsWrapper: 'swatch-attribute-options',\r\n                attributeInput: 'swatch-input',\r\n                optionClass: 'swatch-option',\r\n                selectClass: 'swatch-select',\r\n                moreButton: 'swatch-more',\r\n                loader: 'swatch-option-loading'\r\n            },\r\n            // option's json config\r\n            jsonConfig: {},\r\n\r\n            // swatch's json config\r\n            jsonSwatchConfig: {},\r\n\r\n            // selector of parental block of prices and swatches (need to know where to seek for price block)\r\n            selectorProduct: '.product-info-main',\r\n\r\n            // selector of price wrapper (need to know where set price)\r\n            selectorProductPrice: '[data-role=priceBox]',\r\n\r\n            //selector of product images gallery wrapper\r\n            mediaGallerySelector: '[data-gallery-role=gallery-placeholder]',\r\n\r\n            // selector of category product tile wrapper\r\n            selectorProductTile: '.product-item',\r\n\r\n            // number of controls to show (false or zero = show all)\r\n            numberToShow: false,\r\n\r\n            // show only swatch controls\r\n            onlySwatches: false,\r\n\r\n            // enable label for control\r\n            enableControlLabel: true,\r\n\r\n            // control label id\r\n            controlLabelId: '',\r\n\r\n            // text for more button\r\n            moreButtonText: $t('More'),\r\n\r\n            // Callback url for media\r\n            mediaCallback: '',\r\n\r\n            // Local media cache\r\n            mediaCache: {},\r\n\r\n            // Cache for BaseProduct images. Needed when option unset\r\n            mediaGalleryInitial: [{}],\r\n\r\n            // Use ajax to get image data\r\n            useAjax: false,\r\n\r\n            /**\r\n             * Defines the mechanism of how images of a gallery should be\r\n             * updated when user switches between configurations of a product.\r\n             *\r\n             * As for now value of this option can be either 'replace' or 'prepend'.\r\n             *\r\n             * @type {String}\r\n             */\r\n            gallerySwitchStrategy: 'replace',\r\n\r\n            // whether swatches are rendered in product list or on product page\r\n            inProductList: false,\r\n\r\n            // sly-old-price block selector\r\n            slyOldPriceSelector: '.sly-old-price',\r\n\r\n            // tier prise selectors start\r\n            tierPriceTemplateSelector: '#tier-prices-template',\r\n            tierPriceBlockSelector: '[data-role=\"tier-price-block\"]',\r\n            tierPriceTemplate: '',\r\n            // tier prise selectors end\r\n\r\n            // A price label selector\r\n            normalPriceLabelSelector: '.product-info-main .normal-price .price-label',\r\n            qtyInfo: '#qty'\r\n        },\r\n\r\n        /**\r\n         * Get chosen product\r\n         *\r\n         * @returns int|null\r\n         */\r\n        getProduct: function () {\r\n            var products = this._CalcProducts();\r\n\r\n            return _.isArray(products) ? products[0] : null;\r\n        },\r\n\r\n        /**\r\n         * Get chosen product id\r\n         *\r\n         * @returns int|null\r\n         */\r\n        getProductId: function () {\r\n            var products = this._CalcProducts();\r\n\r\n            return _.isArray(products) && products.length === 1 ? products[0] : null;\r\n        },\r\n\r\n        /**\r\n         * @private\r\n         */\r\n        _init: function () {\r\n            // Don't render the same set of swatches twice\r\n            if ($(this.element).attr('data-rendered')) {\r\n                return;\r\n            }\r\n\r\n            $(this.element).attr('data-rendered', true);\r\n\r\n            if (_.isEmpty(this.options.jsonConfig.images)) {\r\n                this.options.useAjax = true;\r\n                // creates debounced variant of _LoadProductMedia()\r\n                // to use it in events handlers instead of _LoadProductMedia()\r\n                this._debouncedLoadProductMedia = _.debounce(this._LoadProductMedia.bind(this), 500);\r\n            }\r\n\r\n            this.options.tierPriceTemplate = $(this.options.tierPriceTemplateSelector).html();\r\n\r\n            if (this.options.jsonConfig !== '' && this.options.jsonSwatchConfig !== '') {\r\n                // store unsorted attributes\r\n                this.options.jsonConfig.mappedAttributes = _.clone(this.options.jsonConfig.attributes);\r\n                this._sortAttributes();\r\n                this._RenderControls();\r\n                this._setPreSelectedGallery();\r\n                $(this.element).trigger('swatch.initialized');\r\n            } else {\r\n                console.log('SwatchRenderer: No input data received');\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @private\r\n         */\r\n        _sortAttributes: function () {\r\n            this.options.jsonConfig.attributes = _.sortBy(this.options.jsonConfig.attributes, function (attribute) {\r\n                return parseInt(attribute.position, 10);\r\n            });\r\n        },\r\n\r\n        /**\r\n         * @private\r\n         */\r\n        _create: function () {\r\n            var options = this.options,\r\n                gallery = $('[data-gallery-role=gallery-placeholder]', '.column.main'),\r\n                productData = this._determineProductData(),\r\n                $main = productData.isInProductView ?\r\n                    this.element.parents('.column.main') :\r\n                    this.element.parents('.product-item-info');\r\n\r\n            if (productData.isInProductView) {\r\n                gallery.data('gallery') ?\r\n                    this._onGalleryLoaded(gallery) :\r\n                    gallery.on('gallery:loaded', this._onGalleryLoaded.bind(this, gallery));\r\n            } else {\r\n                options.mediaGalleryInitial = [{\r\n                    'img': $main.find('.product-image-photo').attr('src')\r\n                }];\r\n            }\r\n\r\n            this.productForm = this.element.parents(this.options.selectorProductTile).find('form:first');\r\n            this.inProductList = this.productForm.length > 0;\r\n            $(this.options.qtyInfo).on('input', this._onQtyChanged.bind(this));\r\n        },\r\n\r\n        /**\r\n         * Determine product id and related data\r\n         *\r\n         * @returns {{productId: *, isInProductView: bool}}\r\n         * @private\r\n         */\r\n        _determineProductData: function () {\r\n            // Check if product is in a list of products.\r\n            var productId,\r\n                isInProductView = false;\r\n\r\n            productId = this.element.parents('.product-item-details')\r\n                    .find('.price-box.price-final_price').attr('data-product-id');\r\n\r\n            if (!productId) {\r\n                // Check individual product.\r\n                productId = $('[name=product]').val();\r\n                isInProductView = productId > 0;\r\n            }\r\n\r\n            return {\r\n                productId: productId,\r\n                isInProductView: isInProductView\r\n            };\r\n        },\r\n\r\n        /**\r\n         * Render controls\r\n         *\r\n         * @private\r\n         */\r\n        _RenderControls: function () {\r\n            var $widget = this,\r\n                container = this.element,\r\n                classes = this.options.classes,\r\n                chooseText = this.options.jsonConfig.chooseText,\r\n                showTooltip = this.options.showTooltip;\r\n\r\n            $widget.optionsMap = {};\r\n\r\n            $.each(this.options.jsonConfig.attributes, function () {\r\n                var item = this,\r\n                    controlLabelId = 'option-label-' + item.code + '-' + item.id,\r\n                    options = $widget._RenderSwatchOptions(item, controlLabelId),\r\n                    select = $widget._RenderSwatchSelect(item, chooseText),\r\n                    input = $widget._RenderFormInput(item),\r\n                    listLabel = '',\r\n                    label = '';\r\n\r\n                // Show only swatch controls\r\n                if ($widget.options.onlySwatches && !$widget.options.jsonSwatchConfig.hasOwnProperty(item.id)) {\r\n                    return;\r\n                }\r\n\r\n                if ($widget.options.enableControlLabel) {\r\n                    label +=\r\n                        '<span id=\"' + controlLabelId + '\" class=\"' + classes.attributeLabelClass + '\">' +\r\n                        $('<i></i>').text(item.label).html() +\r\n                        '</span>' +\r\n                        '<span class=\"' + classes.attributeSelectedOptionLabelClass + '\"></span>';\r\n                }\r\n\r\n                if ($widget.inProductList) {\r\n                    $widget.productForm.append(input);\r\n                    input = '';\r\n                    listLabel = 'aria-label=\"' + $('<i></i>').text(item.label).html() + '\"';\r\n                } else {\r\n                    listLabel = 'aria-labelledby=\"' + controlLabelId + '\"';\r\n                }\r\n\r\n                // Create new control\r\n                container.append(\r\n                    '<div class=\"' + classes.attributeClass + ' ' + item.code + '\" ' +\r\n                         'data-attribute-code=\"' + item.code + '\" ' +\r\n                         'data-attribute-id=\"' + item.id + '\">' +\r\n                        label +\r\n                        '<div aria-activedescendant=\"\" ' +\r\n                             'tabindex=\"0\" ' +\r\n                             'aria-invalid=\"false\" ' +\r\n                             'aria-required=\"true\" ' +\r\n                             'role=\"listbox\" ' + listLabel +\r\n                             'class=\"' + classes.attributeOptionsWrapper + ' clearfix\">' +\r\n                            options + select +\r\n                        '</div>' + input +\r\n                    '</div>'\r\n                );\r\n\r\n                $widget.optionsMap[item.id] = {};\r\n\r\n                // Aggregate options array to hash (key => value)\r\n                $.each(item.options, function () {\r\n                    if (this.products.length > 0) {\r\n                        $widget.optionsMap[item.id][this.id] = {\r\n                            price: parseInt(\r\n                                $widget.options.jsonConfig.optionPrices[this.products[0]].finalPrice.amount,\r\n                                10\r\n                            ),\r\n                            products: this.products\r\n                        };\r\n                    }\r\n                });\r\n            });\r\n\r\n            if (showTooltip === 1) {\r\n                // Connect Tooltip\r\n                container\r\n                    .find('[data-option-type=\"1\"], [data-option-type=\"2\"],' +\r\n                        ' [data-option-type=\"0\"], [data-option-type=\"3\"]')\r\n                    .SwatchRendererTooltip();\r\n            }\r\n\r\n            // Hide all elements below more button\r\n            $('.' + classes.moreButton).nextAll().hide();\r\n\r\n            // Handle events like click or change\r\n            $widget._EventListener();\r\n\r\n            // Rewind options\r\n            $widget._Rewind(container);\r\n\r\n            //Emulate click on all swatches from Request\r\n            $widget._EmulateSelected($.parseQuery());\r\n            $widget._EmulateSelected($widget._getSelectedAttributes());\r\n        },\r\n\r\n        disableSwatchForOutOfStockProducts: function () {\r\n            let $widget = this, container = this.element;\r\n\r\n            $.each(this.options.jsonConfig.attributes, function () {\r\n                let item = this;\r\n\r\n                if ($widget.options.jsonConfig.canDisplayShowOutOfStockStatus) {\r\n                    let salableProducts = $widget.options.jsonConfig.salable[item.id],\r\n                        swatchOptions = $(container).find(`[data-attribute-id='${item.id}']`).find('.swatch-option');\r\n\r\n                    swatchOptions.each(function (key, value) {\r\n                        let optionId = $(value).data('option-id');\r\n\r\n                        if (!salableProducts.hasOwnProperty(optionId)) {\r\n                            $(value).attr('disabled', true).addClass('disabled');\r\n                        }\r\n                    });\r\n                }\r\n            });\r\n        },\r\n\r\n        /**\r\n         * Render swatch options by part of config\r\n         *\r\n         * @param {Object} config\r\n         * @param {String} controlId\r\n         * @returns {String}\r\n         * @private\r\n         */\r\n        _RenderSwatchOptions: function (config, controlId) {\r\n            var optionConfig = this.options.jsonSwatchConfig[config.id],\r\n                optionClass = this.options.classes.optionClass,\r\n                sizeConfig = this.options.jsonSwatchImageSizeConfig,\r\n                moreLimit = parseInt(this.options.numberToShow, 10),\r\n                moreClass = this.options.classes.moreButton,\r\n                moreText = this.options.moreButtonText,\r\n                countAttributes = 0,\r\n                html = '';\r\n\r\n            if (!this.options.jsonSwatchConfig.hasOwnProperty(config.id)) {\r\n                return '';\r\n            }\r\n\r\n            $.each(config.options, function (index) {\r\n                var id,\r\n                    type,\r\n                    value,\r\n                    thumb,\r\n                    label,\r\n                    width,\r\n                    height,\r\n                    attr,\r\n                    swatchImageWidth,\r\n                    swatchImageHeight;\r\n\r\n                if (!optionConfig.hasOwnProperty(this.id)) {\r\n                    return '';\r\n                }\r\n\r\n                // Add more button\r\n                if (moreLimit === countAttributes++) {\r\n                    html += '<a href=\"#\" class=\"' + moreClass + '\"><span>' + moreText + '</span></a>';\r\n                }\r\n\r\n                id = this.id;\r\n                type = parseInt(optionConfig[id].type, 10);\r\n                value = optionConfig[id].hasOwnProperty('value') ?\r\n                    $('<i></i>').text(optionConfig[id].value).html() : '';\r\n                thumb = optionConfig[id].hasOwnProperty('thumb') ? optionConfig[id].thumb : '';\r\n                width = _.has(sizeConfig, 'swatchThumb') ? sizeConfig.swatchThumb.width : 110;\r\n                height = _.has(sizeConfig, 'swatchThumb') ? sizeConfig.swatchThumb.height : 90;\r\n                label = this.label ? $('<i></i>').text(this.label).html() : '';\r\n                attr =\r\n                    ' id=\"' + controlId + '-item-' + id + '\"' +\r\n                    ' index=\"' + index + '\"' +\r\n                    ' aria-checked=\"false\"' +\r\n                    ' aria-describedby=\"' + controlId + '\"' +\r\n                    ' tabindex=\"0\"' +\r\n                    ' data-option-type=\"' + type + '\"' +\r\n                    ' data-option-id=\"' + id + '\"' +\r\n                    ' data-option-label=\"' + label + '\"' +\r\n                    ' aria-label=\"' + label + '\"' +\r\n                    ' role=\"option\"' +\r\n                    ' data-thumb-width=\"' + width + '\"' +\r\n                    ' data-thumb-height=\"' + height + '\"';\r\n\r\n                attr += thumb !== '' ? ' data-option-tooltip-thumb=\"' + thumb + '\"' : '';\r\n                attr += value !== '' ? ' data-option-tooltip-value=\"' + value + '\"' : '';\r\n\r\n                swatchImageWidth = _.has(sizeConfig, 'swatchImage') ? sizeConfig.swatchImage.width : 30;\r\n                swatchImageHeight = _.has(sizeConfig, 'swatchImage') ? sizeConfig.swatchImage.height : 20;\r\n\r\n                if (!this.hasOwnProperty('products') || this.products.length <= 0) {\r\n                    attr += ' data-option-empty=\"true\"';\r\n                }\r\n\r\n                if (type === 0) {\r\n                    // Text\r\n                    html += '<div class=\"' + optionClass + ' text\" ' + attr + '>' + (value ? value : label) +\r\n                        '</div>';\r\n                } else if (type === 1) {\r\n                    // Color\r\n                    html += '<div class=\"' + optionClass + ' color\" ' + attr +\r\n                        ' style=\"background: ' + value +\r\n                        ' no-repeat center; background-size: initial;\">' + '' +\r\n                        '</div>';\r\n                } else if (type === 2) {\r\n                    // Image\r\n                    html += '<div class=\"' + optionClass + ' image\" ' + attr +\r\n                        ' style=\"background: url(' + value + ') no-repeat center; background-size: initial;width:' +\r\n                        swatchImageWidth + 'px; height:' + swatchImageHeight + 'px\">' + '' +\r\n                        '</div>';\r\n                } else if (type === 3) {\r\n                    // Clear\r\n                    html += '<div class=\"' + optionClass + '\" ' + attr + '></div>';\r\n                } else {\r\n                    // Default\r\n                    html += '<div class=\"' + optionClass + '\" ' + attr + '>' + label + '</div>';\r\n                }\r\n            });\r\n\r\n            return html;\r\n        },\r\n\r\n        /**\r\n         * Render select by part of config\r\n         *\r\n         * @param {Object} config\r\n         * @param {String} chooseText\r\n         * @returns {String}\r\n         * @private\r\n         */\r\n        _RenderSwatchSelect: function (config, chooseText) {\r\n            var html;\r\n\r\n            if (this.options.jsonSwatchConfig.hasOwnProperty(config.id)) {\r\n                return '';\r\n            }\r\n\r\n            html =\r\n                '<select class=\"' + this.options.classes.selectClass + ' ' + config.code + '\">' +\r\n                '<option value=\"0\" data-option-id=\"0\">' + chooseText + '</option>';\r\n\r\n            $.each(config.options, function () {\r\n                var label = this.label,\r\n                    attr = ' value=\"' + this.id + '\" data-option-id=\"' + this.id + '\"';\r\n\r\n                if (!this.hasOwnProperty('products') || this.products.length <= 0) {\r\n                    attr += ' data-option-empty=\"true\"';\r\n                }\r\n\r\n                html += '<option ' + attr + '>' + label + '</option>';\r\n            });\r\n\r\n            html += '</select>';\r\n\r\n            return html;\r\n        },\r\n\r\n        /**\r\n         * Input for submit form.\r\n         * This control shouldn't have \"type=hidden\", \"display: none\" for validation work :(\r\n         *\r\n         * @param {Object} config\r\n         * @private\r\n         */\r\n        _RenderFormInput: function (config) {\r\n            return '<input class=\"' + this.options.classes.attributeInput + ' super-attribute-select\" ' +\r\n                'name=\"super_attribute[' + config.id + ']\" ' +\r\n                'type=\"text\" ' +\r\n                'value=\"\" ' +\r\n                'data-selector=\"super_attribute[' + config.id + ']\" ' +\r\n                'data-validate=\"{required: true}\" ' +\r\n                'aria-required=\"true\" ' +\r\n                'aria-invalid=\"false\">';\r\n        },\r\n\r\n        /**\r\n         * Event listener\r\n         *\r\n         * @private\r\n         */\r\n        _EventListener: function () {\r\n            var $widget = this,\r\n                options = this.options.classes,\r\n                target;\r\n\r\n            $widget.element.on('click', '.' + options.optionClass, function () {\r\n                return $widget._OnClick($(this), $widget);\r\n            });\r\n\r\n            $widget.element.on('change', '.' + options.selectClass, function () {\r\n                return $widget._OnChange($(this), $widget);\r\n            });\r\n\r\n            $widget.element.on('click', '.' + options.moreButton, function (e) {\r\n                e.preventDefault();\r\n\r\n                return $widget._OnMoreClick($(this));\r\n            });\r\n\r\n            $widget.element.on('keydown', function (e) {\r\n                if (e.which === 13) {\r\n                    target = $(e.target);\r\n\r\n                    if (target.is('.' + options.optionClass)) {\r\n                        return $widget._OnClick(target, $widget);\r\n                    } else if (target.is('.' + options.selectClass)) {\r\n                        return $widget._OnChange(target, $widget);\r\n                    } else if (target.is('.' + options.moreButton)) {\r\n                        e.preventDefault();\r\n\r\n                        return $widget._OnMoreClick(target);\r\n                    }\r\n                }\r\n            });\r\n        },\r\n\r\n        /**\r\n         * Load media gallery using ajax or json config.\r\n         *\r\n         * @private\r\n         */\r\n        _loadMedia: function () {\r\n            var $main = this.inProductList ?\r\n                    this.element.parents('.product-item-info') :\r\n                    this.element.parents('.column.main'),\r\n                images;\r\n\r\n            if (this.options.useAjax) {\r\n                this._debouncedLoadProductMedia();\r\n            }  else {\r\n                images = this.options.jsonConfig.images[this.getProduct()];\r\n\r\n                if (!images) {\r\n                    images = this.options.mediaGalleryInitial;\r\n                }\r\n                this.updateBaseImage(this._sortImages(images), $main, !this.inProductList);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Sorting images array\r\n         *\r\n         * @private\r\n         */\r\n        _sortImages: function (images) {\r\n            return _.sortBy(images, function (image) {\r\n                return parseInt(image.position, 10);\r\n            });\r\n        },\r\n\r\n        /**\r\n         * Event for swatch options\r\n         *\r\n         * @param {Object} $this\r\n         * @param {Object} $widget\r\n         * @private\r\n         */\r\n        _OnClick: function ($this, $widget) {\r\n            var $parent = $this.parents('.' + $widget.options.classes.attributeClass),\r\n                $wrapper = $this.parents('.' + $widget.options.classes.attributeOptionsWrapper),\r\n                $label = $parent.find('.' + $widget.options.classes.attributeSelectedOptionLabelClass),\r\n                attributeId = $parent.data('attribute-id'),\r\n                $input = $parent.find('.' + $widget.options.classes.attributeInput),\r\n                checkAdditionalData = JSON.parse(this.options.jsonSwatchConfig[attributeId]['additional_data']),\r\n                $priceBox = $widget.element.parents($widget.options.selectorProduct)\r\n                    .find(this.options.selectorProductPrice);\r\n\r\n            if ($widget.inProductList) {\r\n                $input = $widget.productForm.find(\r\n                    '.' + $widget.options.classes.attributeInput + '[name=\"super_attribute[' + attributeId + ']\"]'\r\n                );\r\n            }\r\n\r\n            if ($this.hasClass('disabled')) {\r\n                return;\r\n            }\r\n\r\n            if ($this.hasClass('selected')) {\r\n                $parent.removeAttr('data-option-selected').find('.selected').removeClass('selected');\r\n                $input.val('');\r\n                $label.text('');\r\n                $this.attr('aria-checked', false);\r\n            } else {\r\n                $parent.attr('data-option-selected', $this.data('option-id')).find('.selected').removeClass('selected');\r\n                $label.text($this.data('option-label'));\r\n                $input.val($this.data('option-id'));\r\n                $input.attr('data-attr-name', this._getAttributeCodeById(attributeId));\r\n                $this.addClass('selected');\r\n                $widget._toggleCheckedAttributes($this, $wrapper);\r\n            }\r\n\r\n            $widget._Rebuild();\r\n\r\n            if ($priceBox.is(':data(mage-priceBox)')) {\r\n                $widget._UpdatePrice();\r\n            }\r\n\r\n            $(document).trigger('updateMsrpPriceBlock',\r\n                [\r\n                    this._getSelectedOptionPriceIndex(),\r\n                    $widget.options.jsonConfig.optionPrices,\r\n                    $priceBox\r\n                ]);\r\n\r\n            if (parseInt(checkAdditionalData['update_product_preview_image'], 10) === 1) {\r\n                $widget._loadMedia();\r\n            }\r\n\r\n            $input.trigger('change');\r\n        },\r\n\r\n        /**\r\n         * Get selected option price index\r\n         *\r\n         * @return {String|undefined}\r\n         * @private\r\n         */\r\n        _getSelectedOptionPriceIndex: function () {\r\n            var allowedProduct = this._getAllowedProductWithMinPrice(this._CalcProducts());\r\n\r\n            if (_.isEmpty(allowedProduct)) {\r\n                return undefined;\r\n            }\r\n\r\n            return allowedProduct;\r\n        },\r\n\r\n        /**\r\n         * Get human readable attribute code (eg. size, color) by it ID from configuration\r\n         *\r\n         * @param {Number} attributeId\r\n         * @returns {*}\r\n         * @private\r\n         */\r\n        _getAttributeCodeById: function (attributeId) {\r\n            var attribute = this.options.jsonConfig.mappedAttributes[attributeId];\r\n\r\n            return attribute ? attribute.code : attributeId;\r\n        },\r\n\r\n        /**\r\n         * Toggle accessibility attributes\r\n         *\r\n         * @param {Object} $this\r\n         * @param {Object} $wrapper\r\n         * @private\r\n         */\r\n        _toggleCheckedAttributes: function ($this, $wrapper) {\r\n            $wrapper.attr('aria-activedescendant', $this.attr('id'))\r\n                    .find('.' + this.options.classes.optionClass).attr('aria-checked', false);\r\n            $this.attr('aria-checked', true);\r\n        },\r\n\r\n        /**\r\n         * Event for select\r\n         *\r\n         * @param {Object} $this\r\n         * @param {Object} $widget\r\n         * @private\r\n         */\r\n        _OnChange: function ($this, $widget) {\r\n            var $parent = $this.parents('.' + $widget.options.classes.attributeClass),\r\n                attributeId = $parent.data('attribute-id'),\r\n                $input = $parent.find('.' + $widget.options.classes.attributeInput);\r\n\r\n            if ($widget.productForm.length > 0) {\r\n                $input = $widget.productForm.find(\r\n                    '.' + $widget.options.classes.attributeInput + '[name=\"super_attribute[' + attributeId + ']\"]'\r\n                );\r\n            }\r\n\r\n            if ($this.val() > 0) {\r\n                $parent.attr('data-option-selected', $this.val());\r\n                $input.val($this.val());\r\n            } else {\r\n                $parent.removeAttr('data-option-selected');\r\n                $input.val('');\r\n            }\r\n\r\n            $widget._Rebuild();\r\n            $widget._UpdatePrice();\r\n            $widget._loadMedia();\r\n            $input.trigger('change');\r\n        },\r\n\r\n        /**\r\n         * Event for more switcher\r\n         *\r\n         * @param {Object} $this\r\n         * @private\r\n         */\r\n        _OnMoreClick: function ($this) {\r\n            $this.nextAll().show();\r\n            $this.trigger('blur').remove();\r\n        },\r\n\r\n        /**\r\n         * Rewind options for controls\r\n         *\r\n         * @private\r\n         */\r\n        _Rewind: function (controls) {\r\n            controls.find('div[data-option-id], option[data-option-id]')\r\n                .removeClass('disabled')\r\n                .prop('disabled', false);\r\n            controls.find('div[data-option-empty], option[data-option-empty]')\r\n                .attr('disabled', true)\r\n                .addClass('disabled')\r\n                .attr('tabindex', '-1');\r\n            this.disableSwatchForOutOfStockProducts();\r\n        },\r\n\r\n        /**\r\n         * Rebuild container\r\n         *\r\n         * @private\r\n         */\r\n        _Rebuild: function () {\r\n            var $widget = this,\r\n                controls = $widget.element.find('.' + $widget.options.classes.attributeClass + '[data-attribute-id]'),\r\n                selected = controls.filter('[data-option-selected]');\r\n\r\n            // Enable all options\r\n            $widget._Rewind(controls);\r\n\r\n            // done if nothing selected\r\n            if (selected.length <= 0) {\r\n                return;\r\n            }\r\n\r\n            // Disable not available options\r\n            controls.each(function () {\r\n                var $this = $(this),\r\n                    id = $this.data('attribute-id'),\r\n                    products = $widget._CalcProducts(id);\r\n\r\n                if (selected.length === 1 && selected.first().data('attribute-id') === id) {\r\n                    return;\r\n                }\r\n\r\n                $this.find('[data-option-id]').each(function () {\r\n                    var $element = $(this),\r\n                        option = $element.data('option-id');\r\n\r\n                    if (!$widget.optionsMap.hasOwnProperty(id) || !$widget.optionsMap[id].hasOwnProperty(option) ||\r\n                        $element.hasClass('selected') ||\r\n                        $element.is(':selected')) {\r\n                        return;\r\n                    }\r\n\r\n                    if (_.intersection(products, $widget.optionsMap[id][option].products).length <= 0) {\r\n                        $element.attr('disabled', true).addClass('disabled');\r\n                    }\r\n                });\r\n            });\r\n        },\r\n\r\n        /**\r\n         * Get selected product list\r\n         *\r\n         * @returns {Array}\r\n         * @private\r\n         */\r\n        _CalcProducts: function ($skipAttributeId) {\r\n            var $widget = this,\r\n                selectedOptions = '.' + $widget.options.classes.attributeClass + '[data-option-selected]',\r\n                products = [];\r\n\r\n            // Generate intersection of products\r\n            $widget.element.find(selectedOptions).each(function () {\r\n                var id = $(this).data('attribute-id'),\r\n                    option = $(this).attr('data-option-selected');\r\n\r\n                if ($skipAttributeId !== undefined && $skipAttributeId === id) {\r\n                    return;\r\n                }\r\n\r\n                if (!$widget.optionsMap.hasOwnProperty(id) || !$widget.optionsMap[id].hasOwnProperty(option)) {\r\n                    return;\r\n                }\r\n\r\n                if (products.length === 0) {\r\n                    products = $widget.optionsMap[id][option].products;\r\n                } else {\r\n                    products = _.intersection(products, $widget.optionsMap[id][option].products);\r\n                }\r\n            });\r\n\r\n            return products;\r\n        },\r\n\r\n        /**\r\n         * Update total price\r\n         *\r\n         * @private\r\n         */\r\n        _UpdatePrice: function () {\r\n            var $widget = this,\r\n                $product = $widget.element.parents($widget.options.selectorProduct),\r\n                $productPrice = $product.find(this.options.selectorProductPrice),\r\n                result = $widget._getNewPrices(),\r\n                tierPriceHtml,\r\n                isShow;\r\n\r\n            $productPrice.trigger(\r\n                'updatePrice',\r\n                {\r\n                    'prices': $widget._getPrices(result, $productPrice.priceBox('option').prices)\r\n                }\r\n            );\r\n\r\n            isShow = typeof result != 'undefined' && result.oldPrice.amount !== result.finalPrice.amount;\r\n\r\n            $productPrice.find('span:first').toggleClass('special-price', isShow);\r\n\r\n            $product.find(this.options.slyOldPriceSelector)[isShow ? 'show' : 'hide']();\r\n\r\n            if (typeof result != 'undefined' && result.tierPrices && result.tierPrices.length) {\r\n                if (this.options.tierPriceTemplate) {\r\n                    tierPriceHtml = mageTemplate(\r\n                        this.options.tierPriceTemplate,\r\n                        {\r\n                            'tierPrices': result.tierPrices,\r\n                            '$t': $t,\r\n                            'currencyFormat': this.options.jsonConfig.currencyFormat,\r\n                            'priceUtils': priceUtils\r\n                        }\r\n                    );\r\n                    $(this.options.tierPriceBlockSelector).html(tierPriceHtml).show();\r\n                }\r\n            } else {\r\n                $(this.options.tierPriceBlockSelector).hide();\r\n            }\r\n\r\n            $(this.options.normalPriceLabelSelector).hide();\r\n\r\n            _.each($('.' + this.options.classes.attributeOptionsWrapper), function (attribute) {\r\n                if ($(attribute).find('.' + this.options.classes.optionClass + '.selected').length === 0) {\r\n                    if ($(attribute).find('.' + this.options.classes.selectClass).length > 0) {\r\n                        _.each($(attribute).find('.' + this.options.classes.selectClass), function (dropdown) {\r\n                            if ($(dropdown).val() === '0') {\r\n                                $(this.options.normalPriceLabelSelector).show();\r\n                            }\r\n                        }.bind(this));\r\n                    } else {\r\n                        $(this.options.normalPriceLabelSelector).show();\r\n                    }\r\n                }\r\n            }.bind(this));\r\n        },\r\n\r\n        /**\r\n         * Get new prices for selected options\r\n         *\r\n         * @returns {*}\r\n         * @private\r\n         */\r\n        _getNewPrices: function () {\r\n            var $widget = this,\r\n                newPrices = $widget.options.jsonConfig.prices,\r\n                allowedProduct = this._getAllowedProductWithMinPrice(this._CalcProducts());\r\n\r\n            if (!_.isEmpty(allowedProduct)) {\r\n                newPrices = this.options.jsonConfig.optionPrices[allowedProduct];\r\n            }\r\n\r\n            return newPrices;\r\n        },\r\n\r\n        /**\r\n         * Get prices\r\n         *\r\n         * @param {Object} newPrices\r\n         * @param {Object} displayPrices\r\n         * @returns {*}\r\n         * @private\r\n         */\r\n        _getPrices: function (newPrices, displayPrices) {\r\n            var $widget = this;\r\n\r\n            if (_.isEmpty(newPrices)) {\r\n                newPrices = $widget._getNewPrices();\r\n            }\r\n            _.each(displayPrices, function (price, code) {\r\n\r\n                if (newPrices[code]) {\r\n                    displayPrices[code].amount = newPrices[code].amount - displayPrices[code].amount;\r\n                }\r\n            });\r\n\r\n            return displayPrices;\r\n        },\r\n\r\n        /**\r\n         * Get product with minimum price from selected options.\r\n         *\r\n         * @param {Array} allowedProducts\r\n         * @returns {String}\r\n         * @private\r\n         */\r\n        _getAllowedProductWithMinPrice: function (allowedProducts) {\r\n            var optionPrices = this.options.jsonConfig.optionPrices,\r\n                product = {},\r\n                optionFinalPrice, optionMinPrice;\r\n\r\n            _.each(allowedProducts, function (allowedProduct) {\r\n                optionFinalPrice = parseFloat(optionPrices[allowedProduct].finalPrice.amount);\r\n\r\n                if (_.isEmpty(product) || optionFinalPrice < optionMinPrice) {\r\n                    optionMinPrice = optionFinalPrice;\r\n                    product = allowedProduct;\r\n                }\r\n            }, this);\r\n\r\n            return product;\r\n        },\r\n\r\n        /**\r\n         * Gets all product media and change current to the needed one\r\n         *\r\n         * @private\r\n         */\r\n        _LoadProductMedia: function () {\r\n            var $widget = this,\r\n                $this = $widget.element,\r\n                productData = this._determineProductData(),\r\n                mediaCallData,\r\n                mediaCacheKey,\r\n\r\n                /**\r\n                 * Processes product media data\r\n                 *\r\n                 * @param {Object} data\r\n                 * @returns void\r\n                 */\r\n                mediaSuccessCallback = function (data) {\r\n                    if (!(mediaCacheKey in $widget.options.mediaCache)) {\r\n                        $widget.options.mediaCache[mediaCacheKey] = data;\r\n                    }\r\n                    $widget._ProductMediaCallback($this, data, productData.isInProductView);\r\n                    setTimeout(function () {\r\n                        $widget._DisableProductMediaLoader($this);\r\n                    }, 300);\r\n                };\r\n\r\n            if (!$widget.options.mediaCallback) {\r\n                return;\r\n            }\r\n\r\n            mediaCallData = {\r\n                'product_id': this.getProduct()\r\n            };\r\n\r\n            mediaCacheKey = JSON.stringify(mediaCallData);\r\n\r\n            if (mediaCacheKey in $widget.options.mediaCache) {\r\n                $widget._XhrKiller();\r\n                $widget._EnableProductMediaLoader($this);\r\n                mediaSuccessCallback($widget.options.mediaCache[mediaCacheKey]);\r\n            } else {\r\n                mediaCallData.isAjax = true;\r\n                $widget._XhrKiller();\r\n                $widget._EnableProductMediaLoader($this);\r\n                $widget.xhr = $.ajax({\r\n                    url: $widget.options.mediaCallback,\r\n                    cache: true,\r\n                    type: 'GET',\r\n                    dataType: 'json',\r\n                    data: mediaCallData,\r\n                    success: mediaSuccessCallback\r\n                }).done(function () {\r\n                    $widget._XhrKiller();\r\n                });\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Enable loader\r\n         *\r\n         * @param {Object} $this\r\n         * @private\r\n         */\r\n        _EnableProductMediaLoader: function ($this) {\r\n            var $widget = this;\r\n\r\n            if ($('body.catalog-product-view').length > 0) {\r\n                $this.parents('.column.main').find('.photo.image')\r\n                    .addClass($widget.options.classes.loader);\r\n            } else {\r\n                //Category View\r\n                $this.parents('.product-item-info').find('.product-image-photo')\r\n                    .addClass($widget.options.classes.loader);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Disable loader\r\n         *\r\n         * @param {Object} $this\r\n         * @private\r\n         */\r\n        _DisableProductMediaLoader: function ($this) {\r\n            var $widget = this;\r\n\r\n            if ($('body.catalog-product-view').length > 0) {\r\n                $this.parents('.column.main').find('.photo.image')\r\n                    .removeClass($widget.options.classes.loader);\r\n            } else {\r\n                //Category View\r\n                $this.parents('.product-item-info').find('.product-image-photo')\r\n                    .removeClass($widget.options.classes.loader);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Callback for product media\r\n         *\r\n         * @param {Object} $this\r\n         * @param {String} response\r\n         * @param {Boolean} isInProductView\r\n         * @private\r\n         */\r\n        _ProductMediaCallback: function ($this, response, isInProductView) {\r\n            var $main = isInProductView ? $this.parents('.column.main') : $this.parents('.product-item-info'),\r\n                $widget = this,\r\n                images = [],\r\n\r\n                /**\r\n                 * Check whether object supported or not\r\n                 *\r\n                 * @param {Object} e\r\n                 * @returns {*|Boolean}\r\n                 */\r\n                support = function (e) {\r\n                    return e.hasOwnProperty('large') && e.hasOwnProperty('medium') && e.hasOwnProperty('small');\r\n                };\r\n\r\n            if (_.size($widget) < 1 || !support(response)) {\r\n                this.updateBaseImage(this.options.mediaGalleryInitial, $main, isInProductView);\r\n\r\n                return;\r\n            }\r\n\r\n            images.push({\r\n                full: response.large,\r\n                img: response.medium,\r\n                thumb: response.small,\r\n                isMain: true\r\n            });\r\n\r\n            if (response.hasOwnProperty('gallery')) {\r\n                $.each(response.gallery, function () {\r\n                    if (!support(this) || response.large === this.large) {\r\n                        return;\r\n                    }\r\n                    images.push({\r\n                        full: this.large,\r\n                        img: this.medium,\r\n                        thumb: this.small\r\n                    });\r\n                });\r\n            }\r\n\r\n            this.updateBaseImage(images, $main, isInProductView);\r\n        },\r\n\r\n        /**\r\n         * Check if images to update are initial and set their type\r\n         * @param {Array} images\r\n         */\r\n        _setImageType: function (images) {\r\n\r\n            images.map(function (img) {\r\n                if (!img.type) {\r\n                    img.type = 'image';\r\n                }\r\n            });\r\n\r\n            return images;\r\n        },\r\n\r\n        /**\r\n         * Update [gallery-placeholder] or [product-image-photo]\r\n         * @param {Array} images\r\n         * @param {jQuery} context\r\n         * @param {Boolean} isInProductView\r\n         */\r\n        updateBaseImage: function (images, context, isInProductView) {\r\n            var justAnImage = images[0],\r\n                initialImages = this.options.mediaGalleryInitial,\r\n                imagesToUpdate,\r\n                gallery = context.find(this.options.mediaGallerySelector).data('gallery'),\r\n                isInitial;\r\n\r\n            if (isInProductView) {\r\n                if (_.isUndefined(gallery)) {\r\n                    context.find(this.options.mediaGallerySelector).on('gallery:loaded', function () {\r\n                        this.updateBaseImage(images, context, isInProductView);\r\n                    }.bind(this));\r\n\r\n                    return;\r\n                }\r\n\r\n                imagesToUpdate = images.length ? this._setImageType($.extend(true, [], images)) : [];\r\n                isInitial = _.isEqual(imagesToUpdate, initialImages);\r\n\r\n                if (this.options.gallerySwitchStrategy === 'prepend' && !isInitial) {\r\n                    imagesToUpdate = imagesToUpdate.concat(initialImages);\r\n                }\r\n\r\n                imagesToUpdate = this._setImageIndex(imagesToUpdate);\r\n\r\n                gallery.updateData(imagesToUpdate);\r\n                this._addFotoramaVideoEvents(isInitial);\r\n            } else if (justAnImage && justAnImage.img) {\r\n                context.find('.product-image-photo').attr('src', justAnImage.img);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Add video events\r\n         *\r\n         * @param {Boolean} isInitial\r\n         * @private\r\n         */\r\n        _addFotoramaVideoEvents: function (isInitial) {\r\n            if (_.isUndefined($.mage.AddFotoramaVideoEvents)) {\r\n                return;\r\n            }\r\n\r\n            if (isInitial) {\r\n                $(this.options.mediaGallerySelector).AddFotoramaVideoEvents();\r\n\r\n                return;\r\n            }\r\n\r\n            $(this.options.mediaGallerySelector).AddFotoramaVideoEvents({\r\n                selectedOption: this.getProduct(),\r\n                dataMergeStrategy: this.options.gallerySwitchStrategy\r\n            });\r\n        },\r\n\r\n        /**\r\n         * Set correct indexes for image set.\r\n         *\r\n         * @param {Array} images\r\n         * @private\r\n         */\r\n        _setImageIndex: function (images) {\r\n            var length = images.length,\r\n                i;\r\n\r\n            for (i = 0; length > i; i++) {\r\n                images[i].i = i + 1;\r\n            }\r\n\r\n            return images;\r\n        },\r\n\r\n        /**\r\n         * Kill doubled AJAX requests\r\n         *\r\n         * @private\r\n         */\r\n        _XhrKiller: function () {\r\n            var $widget = this;\r\n\r\n            if ($widget.xhr !== undefined && $widget.xhr !== null) {\r\n                $widget.xhr.abort();\r\n                $widget.xhr = null;\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Emulate mouse click on all swatches that should be selected\r\n         * @param {Object} [selectedAttributes]\r\n         * @private\r\n         */\r\n        _EmulateSelected: function (selectedAttributes) {\r\n            $.each(selectedAttributes, $.proxy(function (attributeCode, optionId) {\r\n                var elem = this.element.find('.' + this.options.classes.attributeClass +\r\n                    '[data-attribute-code=\"' + attributeCode + '\"] [data-option-id=\"' + optionId + '\"]'),\r\n                    parentInput = elem.parent();\r\n\r\n                if (elem.hasClass('selected')) {\r\n                    return;\r\n                }\r\n\r\n                if (parentInput.hasClass(this.options.classes.selectClass)) {\r\n                    parentInput.val(optionId);\r\n                    parentInput.trigger('change');\r\n                } else {\r\n                    elem.trigger('click');\r\n                }\r\n            }, this));\r\n        },\r\n\r\n        /**\r\n         * Emulate mouse click or selection change on all swatches that should be selected\r\n         * @param {Object} [selectedAttributes]\r\n         * @private\r\n         */\r\n        _EmulateSelectedByAttributeId: function (selectedAttributes) {\r\n            $.each(selectedAttributes, $.proxy(function (attributeId, optionId) {\r\n                var elem = this.element.find('.' + this.options.classes.attributeClass +\r\n                    '[data-attribute-id=\"' + attributeId + '\"] [data-option-id=\"' + optionId + '\"]'),\r\n                    parentInput = elem.parent();\r\n\r\n                if (elem.hasClass('selected')) {\r\n                    return;\r\n                }\r\n\r\n                if (parentInput.hasClass(this.options.classes.selectClass)) {\r\n                    parentInput.val(optionId);\r\n                    parentInput.trigger('change');\r\n                } else {\r\n                    elem.trigger('click');\r\n                }\r\n            }, this));\r\n        },\r\n\r\n        /**\r\n         * Get default options values settings with either URL query parameters\r\n         * @private\r\n         */\r\n        _getSelectedAttributes: function () {\r\n            var hashIndex = window.location.href.indexOf('#'),\r\n                selectedAttributes = {},\r\n                params;\r\n\r\n            if (hashIndex !== -1) {\r\n                params = $.parseQuery(window.location.href.substr(hashIndex + 1));\r\n\r\n                selectedAttributes = _.invert(_.mapObject(_.invert(params), function (attributeId) {\r\n                    var attribute = this.options.jsonConfig.mappedAttributes[attributeId];\r\n\r\n                    return attribute ? attribute.code : attributeId;\r\n                }.bind(this)));\r\n            }\r\n\r\n            return selectedAttributes;\r\n        },\r\n\r\n        /**\r\n         * Callback which fired after gallery gets initialized.\r\n         *\r\n         * @param {HTMLElement} element - DOM element associated with a gallery.\r\n         */\r\n        _onGalleryLoaded: function (element) {\r\n            var galleryObject = element.data('gallery');\r\n\r\n            this.options.mediaGalleryInitial = galleryObject.returnCurrentImages();\r\n        },\r\n\r\n        /**\r\n         * Sets mediaCache for cases when jsonConfig contains preSelectedGallery on layered navigation result pages\r\n         *\r\n         * @private\r\n         */\r\n        _setPreSelectedGallery: function () {\r\n            var mediaCallData;\r\n\r\n            if (this.options.jsonConfig.preSelectedGallery) {\r\n                mediaCallData = {\r\n                    'product_id': this.getProduct()\r\n                };\r\n\r\n                this.options.mediaCache[JSON.stringify(mediaCallData)] = this.options.jsonConfig.preSelectedGallery;\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Callback for quantity change event.\r\n         */\r\n        _onQtyChanged: function () {\r\n            var $price = this.element.parents(this.options.selectorProduct)\r\n                .find(this.options.selectorProductPrice);\r\n\r\n            $price.trigger(\r\n                'updatePrice',\r\n                {\r\n                    'prices': this._getPrices(this._getNewPrices(), $price.priceBox('option').prices)\r\n                }\r\n            );\r\n        }\r\n    });\r\n\r\n    return $.mage.SwatchRenderer;\r\n});\r\n","Magento_Swatches/js/text.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\n/**\r\n *  @api\r\n */\r\ndefine([\r\n    'jquery',\r\n    'mage/template',\r\n    'uiRegistry',\r\n    'jquery/ui',\r\n    'prototype',\r\n    'validation'\r\n], function (jQuery, mageTemplate, rg) {\r\n    'use strict';\r\n\r\n    return function (config) {\r\n        var swatchOptionTextDefaultInputType = 'radio',\r\n            swatchTextOption = {\r\n                table: $('swatch-text-options-table'),\r\n                itemCount: 0,\r\n                totalItems: 0,\r\n                rendered: 0,\r\n                isReadOnly: config.isReadOnly,\r\n                template: mageTemplate('#swatch-text-row-template'),\r\n\r\n                /**\r\n                 * Add option\r\n                 *\r\n                 * @param {Object} data\r\n                 * @param {Object} render\r\n                 */\r\n                add: function (data, render) {\r\n                    var isNewOption = false,\r\n                        element;\r\n\r\n                    if (typeof data.id == 'undefined') {\r\n                        data = {\r\n                            'id': 'option_' + this.itemCount,\r\n                            'sort_order': this.itemCount + 1\r\n                        };\r\n                        isNewOption = true;\r\n                    }\r\n\r\n                    if (!data.intype) {\r\n                        data.intype = swatchOptionTextDefaultInputType;\r\n                    }\r\n\r\n                    element = this.template({\r\n                        data: data\r\n                    });\r\n\r\n                    if (isNewOption && !this.isReadOnly) {\r\n                        this.enableNewOptionDeleteButton(data.id);\r\n                    }\r\n                    this.itemCount++;\r\n                    this.totalItems++;\r\n                    this.elements += element;\r\n\r\n                    if (render) {\r\n                        this.render();\r\n                    }\r\n                },\r\n\r\n                /**\r\n                 * Remove option\r\n                 *\r\n                 * @param {Object} event\r\n                 */\r\n                remove: function (event) {\r\n                    var element = $(Event.findElement(event, 'tr')),\r\n                        elementFlags; // !!! Button already have table parent in safari\r\n\r\n                    // Safari workaround\r\n                    element.ancestors().each(function (parentItem) {\r\n                        if (parentItem.hasClassName('option-row')) {\r\n                            element = parentItem;\r\n                            throw $break;\r\n                        } else if (parentItem.hasClassName('box')) {\r\n                            throw $break;\r\n                        }\r\n                    });\r\n\r\n                    if (element) {\r\n                        elementFlags = element.getElementsByClassName('delete-flag');\r\n\r\n                        if (elementFlags[0]) {\r\n                            elementFlags[0].value = 1;\r\n                        }\r\n\r\n                        element.addClassName('no-display');\r\n                        element.addClassName('template');\r\n                        element.hide();\r\n                        this.totalItems--;\r\n                        this.updateItemsCountField();\r\n                    }\r\n                },\r\n\r\n                /**\r\n                 * Update items count field\r\n                 */\r\n                updateItemsCountField: function () {\r\n                    $('swatch-text-option-count-check').value = this.totalItems > 0 ? '1' : '';\r\n                },\r\n\r\n                /**\r\n                 * Enable delete button for new option\r\n                 *\r\n                 * @param {String} id\r\n                 */\r\n                enableNewOptionDeleteButton: function (id) {\r\n                    $$('#delete_button_swatch_container_' + id + ' button').each(function (button) {\r\n                        button.enable();\r\n                        button.removeClassName('disabled');\r\n                    });\r\n                },\r\n\r\n                /**\r\n                 * Bind remove button\r\n                 */\r\n                bindRemoveButtons: function () {\r\n                    jQuery('#swatch-text-options-panel').on('click', '.delete-option', this.remove.bind(this));\r\n                },\r\n\r\n                /**\r\n                 * Render action\r\n                 */\r\n                render: function () {\r\n                    Element.insert($$('[data-role=swatch-text-options-container]')[0], this.elements);\r\n                    this.elements = '';\r\n                },\r\n\r\n                /**\r\n                 * Render action with delay (performance fix)\r\n                 *\r\n                 * @param {Object} data\r\n                 * @param {Number} from\r\n                 * @param {Number} step\r\n                 * @param {Number} delay\r\n                 * @returns {Boolean}\r\n                 */\r\n                renderWithDelay: function (data, from, step, delay) {\r\n                    var arrayLength = data.length,\r\n                        len;\r\n\r\n                    for (len = from + step; from < len && from < arrayLength; from++) {\r\n                        this.add(data[from]);\r\n                    }\r\n                    this.render();\r\n\r\n                    if (from === arrayLength) {\r\n                        this.updateItemsCountField();\r\n                        this.rendered = 1;\r\n                        jQuery('body').trigger('processStop');\r\n\r\n                        return true;\r\n                    }\r\n                    setTimeout(this.renderWithDelay.bind(this, data, from, step, delay), delay);\r\n                },\r\n\r\n                /**\r\n                 * Ignore validate action\r\n                 */\r\n                ignoreValidate: function () {\r\n                    var ignore = '.ignore-validate input, ' +\r\n                        '.ignore-validate select, ' +\r\n                        '.ignore-validate textarea';\r\n\r\n                    jQuery('#edit_form').data('validator').settings.forceIgnore = ignore;\r\n                }\r\n            };\r\n\r\n        if ($('add_new_swatch_text_option_button')) {\r\n            Event.observe(\r\n                'add_new_swatch_text_option_button',\r\n                'click',\r\n                swatchTextOption.add.bind(swatchTextOption, true)\r\n            );\r\n        }\r\n        jQuery('#swatch-text-options-panel').on('render', function () {\r\n            swatchTextOption.ignoreValidate();\r\n\r\n            if (swatchTextOption.rendered) {\r\n                return false;\r\n            }\r\n            jQuery('body').trigger('processStart');\r\n            swatchTextOption.renderWithDelay(config.attributesData, 0, 100, 300);\r\n            swatchTextOption.bindRemoveButtons();\r\n        });\r\n\r\n        if (config.isSortable) {\r\n            jQuery(function ($) {\r\n                $('[data-role=swatch-text-options-container]').sortable({\r\n                    distance: 8,\r\n                    tolerance: 'pointer',\r\n                    cancel: 'input, button',\r\n                    axis: 'y',\r\n\r\n                    /**\r\n                     * Update components\r\n                     */\r\n                    update: function () {\r\n                        $('[data-role=swatch-text-options-container] [data-role=order]').each(\r\n                            function (index, element) {\r\n                                $(element).val(index + 1);\r\n                            }\r\n                        );\r\n                    }\r\n                });\r\n            });\r\n        }\r\n\r\n        jQuery(function () {\r\n            if (jQuery('#frontend_input').val() !== 'swatch_text') {\r\n                jQuery('.swatch-text-field-0').removeClass('required-option');\r\n            }\r\n        });\r\n\r\n        window.swatchTextOption = swatchTextOption;\r\n        window.swatchOptionTextDefaultInputType = swatchOptionTextDefaultInputType;\r\n\r\n        rg.set('swatch-text-options-panel', swatchTextOption);\r\n    };\r\n});\r\n","Magento_Swatches/js/visual.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\n/* global FORM_KEY */\r\n\r\n/**\r\n * @api\r\n */\r\ndefine([\r\n    'jquery',\r\n    'mage/template',\r\n    'uiRegistry',\r\n    'jquery/colorpicker/js/colorpicker',\r\n    'prototype',\r\n    'jquery/ui',\r\n    'validation'\r\n], function (jQuery, mageTemplate, rg) {\r\n    'use strict';\r\n\r\n    return function (config) {\r\n        var swatchOptionVisualDefaultInputType = 'radio',\r\n            swatchVisualOption = {\r\n                table: $('swatch-visual-options-table'),\r\n                itemCount: 0,\r\n                totalItems: 0,\r\n                rendered: 0,\r\n                isReadOnly: config.isReadOnly,\r\n                template: mageTemplate('#swatch-visual-row-template'),\r\n\r\n                /**\r\n                 * Add new option using template\r\n                 *\r\n                 * @param {Object} data\r\n                 * @param {Object} render\r\n                 */\r\n                add: function (data, render) {\r\n                    var isNewOption = false,\r\n                        element;\r\n\r\n                    if (typeof data.id == 'undefined') {\r\n                        data = {\r\n                            'id': 'option_' + this.itemCount,\r\n                            'sort_order': this.itemCount + 1,\r\n                            'empty_class': 'unavailable'\r\n                        };\r\n                        isNewOption = true;\r\n                    } else if (data.defaultswatch0 === '') {\r\n                        data['empty_class'] = 'unavailable';\r\n                    }\r\n\r\n                    if (!data.intype) {\r\n                        data.intype = swatchOptionVisualDefaultInputType;\r\n                    }\r\n\r\n                    element = this.template({\r\n                        data: data\r\n                    });\r\n\r\n                    if (isNewOption && !this.isReadOnly) {\r\n                        this.enableNewOptionDeleteButton(data.id);\r\n                    }\r\n                    this.itemCount++;\r\n                    this.totalItems++;\r\n                    this.elements += element;\r\n\r\n                    if (render) {\r\n                        this.render();\r\n                    }\r\n                },\r\n\r\n                /**\r\n                 * ColorPicker initialization process\r\n                 */\r\n                initColorPicker: function () {\r\n                    var element = this,\r\n                        hiddenColorPicker = !jQuery(element).data('colorpickerId');\r\n\r\n                    jQuery(this).ColorPicker({\r\n\r\n                        /**\r\n                         * ColorPicker onShow action\r\n                         */\r\n                        onShow: function () {\r\n                            var color = jQuery(element).parent().parent().prev().prev('input').val(),\r\n                                menu = jQuery(this).parents('.swatch_sub-menu_container');\r\n\r\n                            menu.hide();\r\n                            jQuery(element).ColorPickerSetColor(color);\r\n                        },\r\n\r\n                        /**\r\n                         * ColorPicker onSubmit action\r\n                         *\r\n                         * @param {String} hsb\r\n                         * @param {String} hex\r\n                         * @param {String} rgb\r\n                         * @param {String} el\r\n                         */\r\n                        onSubmit: function (hsb, hex, rgb, el) {\r\n                            var container = jQuery(el).parent().parent().prev();\r\n\r\n                            jQuery(el).ColorPickerHide();\r\n                            container.parent().removeClass('unavailable');\r\n                            container.prev('input').val('#' + hex);\r\n                            container.css('background', '#' + hex);\r\n                        }\r\n                    });\r\n\r\n                    if (hiddenColorPicker) {\r\n                        jQuery(this).ColorPickerShow();\r\n                    }\r\n                },\r\n\r\n                /**\r\n                 * Remove action\r\n                 *\r\n                 * @param {Object} event\r\n                 */\r\n                remove: function (event) {\r\n                    var element = $(Event.findElement(event, 'tr')),\r\n                        elementFlags; // !!! Button already have table parent in safari\r\n\r\n                    // Safari workaround\r\n                    element.ancestors().each(function (parentItem) {\r\n                        if (parentItem.hasClassName('option-row')) {\r\n                            element = parentItem;\r\n                            throw $break;\r\n                        } else if (parentItem.hasClassName('box')) {\r\n                            throw $break;\r\n                        }\r\n                    });\r\n\r\n                    if (element) {\r\n                        elementFlags = element.getElementsByClassName('delete-flag');\r\n\r\n                        if (elementFlags[0]) {\r\n                            elementFlags[0].value = 1;\r\n                        }\r\n\r\n                        element.addClassName('no-display');\r\n                        element.addClassName('template');\r\n                        element.hide();\r\n                        this.totalItems--;\r\n                        this.updateItemsCountField();\r\n                    }\r\n                },\r\n\r\n                /**\r\n                 * Update items count field\r\n                 */\r\n                updateItemsCountField: function () {\r\n                    $('swatch-visual-option-count-check').value = this.totalItems > 0 ? '1' : '';\r\n                },\r\n\r\n                /**\r\n                 * Enable delete button for new option\r\n                 *\r\n                 * @param {String} id\r\n                 */\r\n                enableNewOptionDeleteButton: function (id) {\r\n                    $$('#delete_button_swatch_container_' + id + ' button').each(function (button) {\r\n                        button.enable();\r\n                        button.removeClassName('disabled');\r\n                    });\r\n                },\r\n\r\n                /**\r\n                 * Bind remove button\r\n                 */\r\n                bindRemoveButtons: function () {\r\n                    jQuery('#swatch-visual-options-panel').on('click', '.delete-option', this.remove.bind(this));\r\n                },\r\n\r\n                /**\r\n                 * Render options\r\n                 */\r\n                render: function () {\r\n                    Element.insert($$('[data-role=swatch-visual-options-container]')[0], this.elements);\r\n                    this.elements = '';\r\n                },\r\n\r\n                /**\r\n                 * Render elements with delay (performance fix)\r\n                 *\r\n                 * @param {Object} data\r\n                 * @param {Number} from\r\n                 * @param {Number} step\r\n                 * @param {Number} delay\r\n                 * @returns {Boolean}\r\n                 */\r\n                renderWithDelay: function (data, from, step, delay) {\r\n                    var arrayLength = data.length,\r\n                        len;\r\n\r\n                    for (len = from + step; from < len && from < arrayLength; from++) {\r\n                        this.add(data[from]);\r\n                    }\r\n                    this.render();\r\n\r\n                    if (from === arrayLength) {\r\n                        this.updateItemsCountField();\r\n                        this.rendered = 1;\r\n                        jQuery('body').trigger('processStop');\r\n\r\n                        return true;\r\n                    }\r\n                    setTimeout(this.renderWithDelay.bind(this, data, from, step, delay), delay);\r\n                },\r\n\r\n                /**\r\n                 * Ignore validate action\r\n                 */\r\n                ignoreValidate: function () {\r\n                    var ignore = '.ignore-validate input, ' +\r\n                        '.ignore-validate select, ' +\r\n                        '.ignore-validate textarea';\r\n\r\n                    jQuery('#edit_form').data('validator').settings.forceIgnore = ignore;\r\n                }\r\n            };\r\n\r\n        if ($('add_new_swatch_visual_option_button')) {\r\n            Event.observe(\r\n                'add_new_swatch_visual_option_button',\r\n                'click',\r\n                swatchVisualOption.add.bind(swatchVisualOption, {}, true)\r\n            );\r\n        }\r\n\r\n        jQuery('#swatch-visual-options-panel').on('render', function () {\r\n            swatchVisualOption.ignoreValidate();\r\n\r\n            if (swatchVisualOption.rendered) {\r\n                return false;\r\n            }\r\n            jQuery('body').trigger('processStart');\r\n            swatchVisualOption.renderWithDelay(config.attributesData, 0, 100, 300);\r\n            swatchVisualOption.bindRemoveButtons();\r\n            jQuery('#swatch-visual-options-panel').on(\r\n                'click',\r\n                '.colorpicker_handler',\r\n                swatchVisualOption.initColorPicker\r\n            );\r\n        });\r\n        jQuery('body').on('click', function (event) {\r\n            var element = jQuery(event.target);\r\n\r\n            if (\r\n                element.parents('.swatch_sub-menu_container').length === 1 ||\r\n                element.next('div.swatch_sub-menu_container').length === 1\r\n            ) {\r\n                return true;\r\n            }\r\n            jQuery('.swatch_sub-menu_container').hide();\r\n        });\r\n\r\n        if (config.isSortable) {\r\n            jQuery(function ($) {\r\n                $('[data-role=swatch-visual-options-container]').sortable({\r\n                    distance: 8,\r\n                    tolerance: 'pointer',\r\n                    cancel: 'input, button',\r\n                    axis: 'y',\r\n\r\n                    /**\r\n                     * Update component\r\n                     */\r\n                    update: function () {\r\n                        $('[data-role=swatch-visual-options-container] [data-role=order]').each(\r\n                            function (index, element) {\r\n                                $(element).val(index + 1);\r\n                            }\r\n                        );\r\n                    }\r\n                });\r\n            });\r\n        }\r\n\r\n        window.swatchVisualOption = swatchVisualOption;\r\n        window.swatchOptionVisualDefaultInputType = swatchOptionVisualDefaultInputType;\r\n\r\n        rg.set('swatch-visual-options-panel', swatchVisualOption);\r\n\r\n        jQuery(function ($) {\r\n\r\n            var swatchComponents = {\r\n\r\n                /**\r\n                 * div wrapper for to hide all evement\r\n                 */\r\n                wrapper: null,\r\n\r\n                /**\r\n                 * iframe component to perform file upload without page reload\r\n                 */\r\n                iframe: null,\r\n\r\n                /**\r\n                 * form component for upload image\r\n                 */\r\n                form: null,\r\n\r\n                /**\r\n                 * Input file component for upload image\r\n                 */\r\n                inputFile: null,\r\n\r\n                /**\r\n                 * Create swatch component for upload files\r\n                 *\r\n                 * @this {swatchComponents}\r\n                 * @public\r\n                 */\r\n                create: function () {\r\n                    this.wrapper = $('<div>').css({\r\n                        display: 'none'\r\n                    }).appendTo($('body'));\r\n\r\n                    this.iframe = $('<iframe></iframe>', {\r\n                        id:  'upload_iframe',\r\n                        name: 'upload_iframe'\r\n                    }).appendTo(this.wrapper);\r\n\r\n                    this.form = $('<form></form>', {\r\n                        id: 'swatch_form_image_upload',\r\n                        name: 'swatch_form_image_upload',\r\n                        target: 'upload_iframe',\r\n                        method: 'post',\r\n                        enctype: 'multipart/form-data',\r\n                        class: 'ignore-validate',\r\n                        action: config.uploadActionUrl\r\n                    }).appendTo(this.wrapper);\r\n\r\n                    this.inputFile = $('<input />', {\r\n                        type: 'file',\r\n                        name: 'datafile',\r\n                        class: 'swatch_option_file'\r\n                    }).appendTo(this.form);\r\n\r\n                    $('<input />', {\r\n                        type: 'hidden',\r\n                        name: 'form_key',\r\n                        value: FORM_KEY\r\n                    }).appendTo(this.form);\r\n                }\r\n            };\r\n\r\n            /**\r\n             * Create swatch components\r\n             */\r\n            swatchComponents.create();\r\n\r\n            /**\r\n             * Register event for swatch input[type=file] change\r\n             */\r\n            swatchComponents.inputFile.change(function () {\r\n                var container = $('#' + $(this).attr('data-called-by')).parents().eq(2).children('.swatch_window'),\r\n\r\n                    /**\r\n                     * @this {iframe}\r\n                     */\r\n                    iframeHandler = function () {\r\n                        var imageParams = $.parseJSON($(this).contents().find('body').html()),\r\n                            fullMediaUrl = imageParams['swatch_path'] + imageParams['file_path'];\r\n\r\n                        container.prev('input').val(imageParams['file_path']);\r\n                        container.css({\r\n                            'background-image': 'url(' + fullMediaUrl + ')',\r\n                            'background-size': 'cover'\r\n                        });\r\n                        container.parent().removeClass('unavailable');\r\n                    };\r\n\r\n                swatchComponents.iframe.off('load');\r\n                swatchComponents.iframe.on('load', iframeHandler);\r\n                swatchComponents.form.submit();\r\n                $(this).val('');\r\n            });\r\n\r\n            /**\r\n             * Register event for choose \"upload image\" option\r\n             */\r\n            $(document).on('click', '.btn_choose_file_upload', function () {\r\n                swatchComponents.inputFile.attr('data-called-by', $(this).attr('id'));\r\n                swatchComponents.inputFile.trigger('click');\r\n            });\r\n\r\n            /**\r\n             * Register event for remove option\r\n             */\r\n            $(document).on('click', '.btn_remove_swatch', function () {\r\n                var optionPanel = $(this).parents().eq(2);\r\n\r\n                optionPanel.children('input').val('');\r\n                optionPanel.children('.swatch_window').css('background', '');\r\n\r\n                optionPanel.addClass('unavailable');\r\n\r\n                jQuery('.swatch_sub-menu_container').hide();\r\n            });\r\n\r\n            /**\r\n             * Toggle color upload chooser\r\n             */\r\n            $(document).on('click', '.swatches-visual-col', function () {\r\n                var currentElement = $(this).find('.swatch_sub-menu_container');\r\n\r\n                jQuery('.swatch_sub-menu_container').not(currentElement).hide();\r\n                currentElement.toggle();\r\n            });\r\n        });\r\n    };\r\n});\r\n"}
}});
